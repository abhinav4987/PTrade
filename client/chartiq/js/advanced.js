/**
 *	8.3.0
 *	Generation date: 2021-08-09T06:25:03.572Z
 *	Client name: chartiq-library-trial
 *	Package Type: Technical Analysis AutoTrial
 *	License type: annual
 *	Expiration date: "2021-09-08"
 *	Domain lock: ["127.0.0.1","localhost","chartiq.com"]
 *	iFrame lock: true
 */

/***********************************************************
 * Copyright by ChartIQ, Inc.
 * Licensed under the ChartIQ, Inc. Developer License Agreement https://www.chartiq.com/developer-license-agreement
*************************************************************/
/*************************************** DO NOT MAKE CHANGES TO THIS LIBRARY FILE!! **************************************/
/* If you wish to overwrite default functionality, create a separate file with a copy of the methods you are overwriting */
/* and load that file right after the library has been loaded, but before the chart engine is instantiated.              */
/* Directly modifying library files will prevent upgrades and the ability for ChartIQ to support your solution.          */
/*************************************************************************************************************************/
/* eslint-disable no-extra-parens */


/* eslint-disable */ /* jshint ignore:start */ /* ignore jslint start */
i3ss[570918]=(function(){var B=2;for(;B !== 9;){switch(B){case 5:var K;try{var w=2;for(;w !== 6;){switch(w){case 3:throw "";w=9;break;case 4:w=typeof Kouon === '\x75\x6e\x64\u0065\u0066\x69\u006e\u0065\x64'?3:9;break;case 2:Object['\u0064\u0065\x66\u0069\u006e\x65\x50\u0072\u006f\u0070\u0065\x72\x74\x79'](Object['\x70\x72\x6f\x74\x6f\u0074\u0079\x70\x65'],'\u0062\u0053\u0065\x4b\x48',{'\x67\x65\x74':function(){var W=2;for(;W !== 1;){switch(W){case 2:return this;break;}}},'\x63\x6f\x6e\x66\x69\x67\x75\x72\x61\x62\x6c\x65':true});K=bSeKH;K['\x4b\u006f\u0075\u006f\u006e']=K;w=4;break;case 9:delete K['\u004b\u006f\u0075\u006f\x6e'];var y=Object['\x70\u0072\x6f\x74\x6f\x74\u0079\u0070\x65'];delete y['\u0062\u0053\x65\x4b\u0048'];w=6;break;}}}catch(P){K=window;}return K;break;case 2:B=typeof globalThis === '\x6f\u0062\u006a\x65\u0063\x74'?1:5;break;case 1:return globalThis;break;}}})();i3ss[99827]=G7ee(i3ss[570918]);i3ss[557464]=E6UU(i3ss[570918]);i3ss[379115]=(function(g05){return {F05:function(){var n05,u05=arguments;switch(g05){case 33:n05=(u05[1] - u05[2]) / u05[0];break;case 53:n05=-u05[2] / u05[4] * u05[1] / u05[0] + u05[3];break;case 57:n05=u05[0] + u05[2] / u05[1];break;case 31:n05=(u05[0] / u05[1] + u05[3]) / u05[4] + u05[2];break;case 39:n05=u05[0] - u05[2] - u05[1];break;case 18:n05=u05[3] * u05[2] - u05[0] - u05[1];break;case 12:n05=u05[3] + u05[1] - u05[2] - u05[0];break;case 131:n05=(u05[2] - u05[4] + u05[3]) * u05[0] - u05[1];break;case 189:n05=u05[2] / u05[1] * u05[4] / u05[3] - u05[0];break;case 164:n05=u05[2] - (u05[0] ^ u05[1]);break;case 14:n05=-u05[3] / u05[0] - u05[1] + u05[2];break;case 169:n05=u05[2] * u05[3] - u05[1] + u05[0];break;case 67:n05=u05[0] / u05[3] / u05[4] / u05[2] + u05[1];break;case 146:n05=-u05[1] - u05[0];break;case 166:n05=u05[0] > u05[1];break;case 97:n05=u05[1] * (u05[0] * u05[3] + +u05[2]) / u05[4];break;case 187:n05=-u05[4] * u05[3] / u05[0] - u05[1] + u05[2];break;case 96:n05=u05[2] * (u05[3] + u05[0]) / u05[1];break;case 25:n05=u05[1] >> u05[0];break;case 174:n05=(u05[3] - u05[1] - u05[4]) / u05[0] + u05[2];break;case 182:n05=u05[2] - u05[0] * u05[1] - u05[3];break;case 142:n05=(u05[3] + u05[2]) * u05[1] - u05[0];break;case 126:n05=(u05[3] + u05[0]) / u05[2] - u05[1];break;case 66:n05=u05[0] + u05[2] + u05[3] + u05[1];break;case 113:n05=(-u05[2] - u05[0]) / u05[4] - u05[1] + u05[3];break;case 117:n05=(u05[2] + u05[3] + u05[0]) / u05[1] + u05[4];break;case 75:n05=u05[1] < u05[0];break;case 170:n05=u05[4] * u05[0] - u05[2] - u05[1] + u05[3];break;case 24:n05=u05[0] - (u05[1] ^ u05[3]) * u05[2];break;case 153:n05=u05[2] - u05[3] / (u05[4] + u05[1] / u05[0]);break;case 95:n05=u05[0] - u05[2] * (u05[1] - u05[3]);break;case 140:n05=(u05[0] + u05[4]) * u05[1] * u05[2] - u05[3];break;case 105:n05=-(u05[1] - u05[3]) * u05[0] + u05[2];break;case 72:n05=u05[4] / u05[0] * u05[1] / u05[3] + u05[2];break;case 120:n05=u05[3] - u05[2] - (u05[0] >> u05[1]);break;case 180:n05=u05[0] * -(u05[1] << u05[2]);break;case 110:n05=(u05[1] * u05[3] + u05[0]) / u05[2];break;case 177:n05=u05[3] + (u05[1] - u05[0]) * u05[2];break;case 93:n05=u05[4] * u05[3] / u05[2] + u05[1] + u05[0];break;case 173:n05=+u05[0] - u05[2] / ((u05[1] | u05[4]) + u05[3]);break;case 188:n05=-u05[3] * u05[1] - u05[0] + u05[2];break;case 81:n05=(u05[0] - u05[5]) / (u05[1] - u05[3]) > (u05[2] & u05[4]);break;case 145:n05=u05[4] + u05[2] - u05[3] + u05[1] - u05[0];break;case 190:n05=u05[0] + (u05[3] / u05[4] - u05[2] / u05[1]);break;case 111:n05=(u05[1] + u05[3] * u05[2]) / u05[0];break;case 183:n05=u05[1] + u05[0] * u05[2] + u05[3];break;case 60:n05=u05[4] - u05[2] + u05[3] + u05[0] - u05[1];break;case 122:n05=(u05[1] - u05[2]) * u05[3] * u05[0] - u05[4];break;case 165:n05=u05[3] - u05[0] + u05[4] - u05[2] + u05[1];break;case 77:n05=(-u05[4] + u05[1] - u05[3]) / u05[2] + u05[0];break;case 159:n05=-u05[0] + u05[2] - u05[1];break;case 178:n05=(u05[1] - u05[0]) * u05[2];break;case 94:n05=u05[3] + (u05[2] - u05[1]) / u05[0];break;case 89:n05=u05[0] + +u05[1];break;case 123:n05=(u05[3] + u05[2] - u05[0]) / u05[4] - u05[1];break;case 130:n05=u05[1] * u05[0] * u05[3] - u05[2];break;case 58:n05=u05[0] - u05[2] / +u05[1];break;case 91:n05=(u05[0] - u05[2]) * u05[4] - u05[1] - u05[3];break;case 100:n05=u05[1] * u05[2] % u05[0];break;case 138:n05=u05[2] - u05[3] - u05[0] - u05[4] + u05[1];break;case 151:n05=u05[0] * u05[1] * u05[2];break;case 161:n05=(u05[1] - u05[4]) * u05[2] * u05[3] + u05[0];break;case 133:n05=(u05[0] + u05[2]) * u05[1];break;case 69:n05=(u05[2] + u05[1]) * u05[4] / u05[0] - u05[3];break;case 106:n05=(u05[4] - u05[3]) * u05[2] / u05[0] - u05[1];break;case 82:n05=u05[0] * u05[4] * u05[2] + u05[3] - u05[1];break;case 26:n05=u05[2] / u05[3] * u05[1] - u05[0];break;case 5:n05=u05[2] - u05[3] + u05[0] + u05[1];break;case 35:n05=-u05[1] / u05[2] + u05[0];break;case 99:n05=(u05[3] - u05[1] * u05[0]) / u05[2];break;case 148:n05=u05[0] * u05[1] / (u05[2] + u05[3]);break;case 73:n05=u05[4] * u05[3] - u05[2] - u05[1] - u05[0];break;case 92:n05=u05[4] - u05[1] - u05[2] + u05[3] + u05[0];break;case 160:n05=u05[0] - +u05[1];break;case 176:n05=(-u05[1] - u05[4]) / u05[2] * u05[0] + u05[3];break;case 139:n05=u05[3] * u05[2] / u05[0] + u05[1];break;case 143:n05=u05[1] + (u05[3] << u05[2]) * u05[0];break;case 41:n05=u05[2] / u05[1] - u05[0];break;case 181:n05=+u05[1] * u05[0] / u05[2];break;case 101:n05=u05[0] * u05[2] + u05[1];break;case 108:n05=u05[4] + (u05[0] - u05[5]) / (u05[6] - u05[3]) * (u05[1] - u05[2]);break;case 184:n05=u05[0] == u05[1];break;case 158:n05=(u05[0] * u05[3] - u05[2]) * u05[4] - u05[1];break;case 47:n05=+u05[1] * u05[2] - u05[3] - u05[0];break;case 115:n05=u05[0] - (u05[1] | u05[2]);break;case 90:n05=u05[2] / u05[1] / u05[0] * u05[4] + u05[3];break;case 44:n05=u05[2] * u05[3] + u05[1] - u05[0];break;case 22:n05=u05[0] * u05[1];break;case 118:n05=u05[4] + u05[6] + u05[5] + u05[3] + u05[2] + u05[0] + u05[7] + u05[1];break;case 79:n05=u05[1] / u05[0] * u05[3] + u05[2];break;case 175:n05=(u05[3] / u05[1] - u05[4]) / u05[0] + u05[2];break;case 59:n05=(u05[3] + u05[1]) / u05[2] * u05[4] - u05[0];break;case 171:n05=(u05[0] - u05[2]) * u05[4] - u05[1] + u05[3];break;case 9:n05=u05[1] / +u05[0];break;case 49:n05=(u05[3] - u05[1]) * u05[2] + u05[0] + u05[4];break;case 114:n05=(u05[2] + u05[4]) / u05[1] / u05[3] - u05[0];break;case 162:n05=(u05[1] % +u05[0] + u05[2]) * u05[3];break;case 23:n05=u05[0] + u05[2] * u05[1];break;case 1:n05=-u05[0] + u05[1];break;case 150:n05=u05[0] + u05[3] + u05[4] + u05[1] - u05[2];break;case 119:n05=(-u05[0] * u05[1] - u05[3]) * u05[4] + u05[2];break;case 10:n05=(u05[1] + u05[2]) / u05[0];break;case 104:n05=(u05[3] - u05[2]) / u05[1] * u05[4] - u05[0];break;case 56:n05=u05[1] + u05[2] / +u05[0];break;case 30:n05=(u05[1] - u05[0]) * u05[2] + u05[3];break;case 61:n05=(u05[3] - u05[1]) / u05[2] + u05[0];break;case 172:n05=(u05[0] - u05[4] - u05[3]) * u05[2] + u05[1];break;case 149:n05=(u05[2] + u05[0]) / u05[4] / u05[3] + u05[1];break;case 11:n05=u05[0] + u05[2] - u05[1];break;case 19:n05=u05[2] / (u05[0] / u05[1]);break;case 76:n05=(u05[3] - u05[0]) / (u05[2] - u05[1]);break;case 16:n05=-u05[3] / u05[1] / u05[2] + u05[4] - u05[0];break;case 68:n05=u05[1] / u05[3] / u05[0] + u05[4] + u05[2];break;case 37:n05=-u05[2] * u05[3] + u05[1] + u05[0];break;case 129:n05=u05[1] * u05[0] / u05[2];break;case 168:n05=(u05[4] + u05[3]) / u05[0] * u05[2] + u05[1];break;case 144:n05=u05[1] / u05[4] / u05[0] - u05[3] + u05[2];break;case 124:n05=-u05[0] * u05[3] + u05[4] - u05[2] + u05[1];break;case 3:n05=u05[2] - u05[1] + u05[0];break;case 7:n05=u05[0] % u05[2] / u05[1] / u05[3];break;case 32:n05=u05[0] - (u05[2] - u05[1]);break;case 155:n05=(u05[1] - u05[0]) / u05[4] + u05[3] - u05[2];break;case 128:n05=-u05[0] - u05[1] + u05[2];break;case 156:n05=u05[0] + u05[2] * (u05[1] - u05[3]);break;case 137:n05=(u05[3] - u05[0]) / u05[2] - u05[1] + u05[4];break;case 52:n05=-u05[3] - u05[0] - u05[2] + u05[1];break;case 21:n05=u05[4] + u05[3] + u05[2] - u05[0] - u05[1];break;case 87:n05=u05[1] << u05[0];break;case 6:n05=u05[1] % u05[0];break;case 13:n05=(u05[2] + u05[1]) / +u05[0];break;case 185:n05=u05[1] + u05[0] / u05[3] + u05[2];break;case 107:n05=u05[2] / u05[0] + u05[1];break;case 0:n05=(-u05[3] + u05[2]) * u05[0] - u05[1];break;case 167:n05=u05[3] * (u05[0] + (u05[2] & u05[1]));break;case 74:n05=u05[2] + u05[1] + u05[0] - u05[3];break;case 191:n05=u05[1] - (u05[2] & u05[0]);break;case 46:n05=u05[0] + (u05[1] - u05[2]);break;case 36:n05=u05[2] / u05[0] * u05[1] - u05[4] + u05[3];break;case 127:n05=(-u05[3] + u05[2]) / u05[1] + u05[0];break;case 17:n05=(u05[1] + u05[3] + u05[2] + u05[4]) / u05[0];break;case 179:n05=u05[0] * -u05[1];break;case 86:n05=(-u05[0] + u05[4]) * u05[2] / u05[1] + u05[3];break;case 163:n05=u05[1] / (u05[0] * u05[3]) <= u05[2];break;case 43:n05=(u05[3] + u05[0]) * u05[2] + u05[4] - u05[1];break;case 4:n05=u05[0] - u05[1];break;case 55:n05=u05[1] - u05[0] / u05[2];break;case 186:n05=u05[0] % u05[2] - u05[1] / u05[3];break;case 103:n05=u05[4] / u05[0] + u05[2] + u05[1] - u05[3];break;case 45:n05=u05[1] * u05[2] < u05[0];break;case 84:n05=(u05[3] - u05[4]) * (u05[6] - u05[5]) / (u05[1] - u05[2]) + u05[0];break;case 20:n05=u05[1] / u05[0];break;case 48:n05=u05[2] * u05[0] - u05[1];break;case 8:n05=(-u05[2] + u05[1]) * u05[4] * u05[0] - u05[3];break;case 29:n05=u05[1] | u05[0];break;case 157:n05=(u05[4] / u05[0] - u05[1]) * u05[3] + u05[2];break;case 38:n05=(u05[0] - u05[3]) * u05[1] - u05[2];break;case 70:n05=(u05[0] * u05[4] + u05[2]) / u05[1] + u05[3];break;case 136:n05=u05[0] / u05[2] + u05[3] + u05[1];break;case 42:n05=u05[3] / u05[0] - u05[2] + u05[1];break;case 98:n05=(u05[4] * u05[1] - u05[5] * u05[0]) / (u05[2] * u05[3] - u05[6]);break;case 85:n05=u05[2] / u05[3] - u05[1] + u05[4] + u05[0];break;case 63:n05=-u05[0] / u05[3] * u05[2] + u05[1];break;case 141:n05=(-u05[0] - u05[4] - u05[1]) / u05[2] + u05[3];break;case 121:n05=(u05[4] - (u05[1] + (u05[0] - u05[2]))) / (u05[5] >> u05[3]);break;case 28:n05=u05[1] + u05[0] + u05[2];break;case 125:n05=-u05[3] / u05[0] + u05[1] - u05[2];break;case 64:n05=(u05[2] + u05[4]) * u05[3] - u05[0] - u05[1];break;case 27:n05=u05[3] / u05[0] / u05[2] + u05[1];break;case 62:n05=(u05[3] - u05[4]) / (u05[2] - u05[0]) > u05[1];break;case 134:n05=(u05[3] - u05[0]) / u05[1] / u05[4] + u05[2];break;case 109:n05=u05[1] - u05[2] * u05[0];break;case 15:n05=u05[0] + u05[1] - u05[2] + u05[3];break;case 40:n05=-u05[2] * u05[1] + u05[0];break;case 54:n05=u05[3] - u05[2] - u05[1] + u05[0];break;case 132:n05=u05[0] - (u05[2] << u05[1]);break;case 152:n05=-u05[1] / u05[2] * u05[0] - u05[3] + u05[4];break;case 34:n05=u05[3] / u05[1] + u05[0] - u05[2];break;case 51:n05=u05[0] ^ u05[1];break;case 50:n05=u05[0] * u05[2] / u05[1] - u05[3];break;case 71:n05=u05[4] * u05[1] + u05[3] + u05[2] - u05[0];break;case 65:n05=(u05[1] + u05[4] + u05[2]) / u05[0] - u05[3];break;case 147:n05=u05[2] - u05[3] + u05[0] - u05[1];break;case 116:n05=-u05[0] / u05[1] / u05[3] / u05[4] + u05[2];break;case 88:n05=u05[1] & u05[0];break;case 80:n05=(u05[0] << u05[1]) * u05[2] - u05[3];break;case 135:n05=u05[5] * u05[7] * u05[2] + ((u05[1] & u05[0]) - u05[6] * u05[4]) * u05[3];break;case 83:n05=(u05[1] - u05[3] + u05[2]) / u05[4] - u05[0];break;case 112:n05=(u05[3] + +u05[2] * u05[1]) / u05[0];break;case 154:n05=u05[1] * (u05[3] / u05[2] - u05[0]);break;case 78:n05=u05[4] * u05[2] + u05[3] - u05[0] - u05[1];break;case 102:n05=(u05[0] + u05[2]) / (u05[3] - u05[1]);break;case 2:n05=u05[1] + u05[0];break;}return n05;},b05:function(s05){g05=s05;}};})();i3ss[372836]=(function(){var D0f=function(m0f,H0f){var T0f=H0f & 0xffff;var i0f=H0f - T0f;return (i0f * m0f | 0) + (T0f * m0f | 0) | 0;},L0f=function(j0f,l0f,w0f){var U0f=0xcc9e2d51,M0f=0x1b873593;var z0f=w0f;var G0f=l0f & ~0x3;for(var B0f=0;B0f < G0f;B0f+=4){var R0f=j0f.H7ee(B0f) & 0xff | (j0f.H7ee(B0f + 1) & 0xff) << 8 | (j0f.H7ee(B0f + 2) & 0xff) << 16 | (j0f.H7ee(B0f + 3) & 0xff) << 24;R0f=D0f(R0f,U0f);R0f=(R0f & 0x1ffff) << 15 | R0f >>> 17;R0f=D0f(R0f,M0f);z0f^=R0f;z0f=(z0f & 0x7ffff) << 13 | z0f >>> 19;z0f=z0f * 5 + 0xe6546b64 | 0;}R0f=0;switch(l0f % 4){case 3:R0f=(j0f.H7ee(G0f + 2) & 0xff) << 16;case 2:R0f|=(j0f.H7ee(G0f + 1) & 0xff) << 8;case 1:R0f|=j0f.H7ee(G0f) & 0xff;R0f=D0f(R0f,U0f);R0f=(R0f & 0x1ffff) << 15 | R0f >>> 17;R0f=D0f(R0f,M0f);z0f^=R0f;}z0f^=l0f;z0f^=z0f >>> 16;z0f=D0f(z0f,0x85ebca6b);z0f^=z0f >>> 13;z0f=D0f(z0f,0xc2b2ae35);z0f^=z0f >>> 16;return z0f;};return {c0f:L0f};})();i3ss.Z9O=function(){return typeof i3ss[526503].U2v === 'function'?i3ss[526503].U2v.apply(i3ss[526503],arguments):i3ss[526503].U2v;};function G7ee(H1J){var l0J=2;for(;l0J !== 10;){switch(l0J){case 2:var h1J=[arguments];h1J[7]="";h1J[7]="e";h1J[9]="";l0J=3;break;case 3:h1J[9]="7e";h1J[4]="";h1J[4]="H";h1J[5]=1;l0J=6;break;case 11:B1J(U1J,"charCodeAt",h1J[5],h1J[3]);l0J=10;break;case 6:h1J[3]=h1J[4];h1J[3]+=h1J[9];h1J[3]+=h1J[7];l0J=12;break;case 12:var B1J=function(v1J,c1J,P0J,A0J){var O0J=2;for(;O0J !== 5;){switch(O0J){case 2:var q1J=[arguments];d1J(h1J[0][0],q1J[0][0],q1J[0][1],q1J[0][2],q1J[0][3]);O0J=5;break;}}};l0J=11;break;}}function d1J(V0J,s0J,X0J,m0J,J0J){var I0J=2;for(;I0J !== 6;){switch(I0J){case 3:f1J[5]="nePropert";f1J[2]=1;f1J[2]=2;try{var N0J=2;for(;N0J !== 8;){switch(N0J){case 9:f1J[1][f1J[0][4]]=f1J[3].value;N0J=8;break;case 2:f1J[3]={};f1J[8]=(1,f1J[0][1])(f1J[0][0]);f1J[1]=[f1J[2],f1J[8].prototype][f1J[0][3]];f1J[3].value=f1J[1][f1J[0][2]];try{var R0J=2;for(;R0J !== 3;){switch(R0J){case 2:f1J[6]=f1J[4];f1J[6]+=f1J[5];f1J[6]+=f1J[9];f1J[0][0].Object[f1J[6]](f1J[1],f1J[0][4],f1J[3]);R0J=3;break;}}}catch(W1J){}N0J=9;break;}}}catch(p1J){}I0J=6;break;case 2:var f1J=[arguments];f1J[9]="";f1J[9]="y";f1J[4]="defi";I0J=3;break;}}}function U1J(C0J){var Y0J=2;for(;Y0J !== 5;){switch(Y0J){case 2:var Z1J=[arguments];return Z1J[0][0].String;break;}}}}i3ss.j05=function(){return typeof i3ss[379115].b05 === 'function'?i3ss[379115].b05.apply(i3ss[379115],arguments):i3ss[379115].b05;};i3ss.B0J=function(){return typeof i3ss[372836].c0f === 'function'?i3ss[372836].c0f.apply(i3ss[372836],arguments):i3ss[372836].c0f;};i3ss.H9O=function(){return typeof i3ss[526503].U2v === 'function'?i3ss[526503].U2v.apply(i3ss[526503],arguments):i3ss[526503].U2v;};i3ss.c05=function(){return typeof i3ss[379115].F05 === 'function'?i3ss[379115].F05.apply(i3ss[379115],arguments):i3ss[379115].F05;};i3ss[487810]=482;i3ss.V05=function(){return typeof i3ss[379115].b05 === 'function'?i3ss[379115].b05.apply(i3ss[379115],arguments):i3ss[379115].b05;};i3ss.N05=function(){return typeof i3ss[379115].F05 === 'function'?i3ss[379115].F05.apply(i3ss[379115],arguments):i3ss[379115].F05;};i3ss[526503]=(function(){var S1O=2;for(;S1O !== 9;){switch(S1O){case 2:var C1O=[arguments];C1O[4]=undefined;S1O=5;break;case 5:C1O[2]={};C1O[2].U2v=function(){var p9O=2;for(;p9O !== 90;){switch(p9O){case 36:G1O[88]=G1O[14];G1O[8].u6UU(G1O[88]);G1O[8].u6UU(G1O[92]);G1O[8].u6UU(G1O[84]);p9O=51;break;case 44:G1O[59]=G1O[33];G1O[57]={};G1O[57].v05=['d05'];p9O=41;break;case 5:return 94;break;case 77:G1O[61]=0;p9O=76;break;case 57:p9O=G1O[64] < G1O[8].length?56:69;break;case 40:G1O[84]=G1O[57];G1O[14]={};G1O[14].v05=['f25'];G1O[14].E05=function(){var k5v=typeof N6UU === 'function';return k5v;};p9O=36;break;case 70:G1O[64]++;p9O=57;break;case 72:G1O[36].u6UU(G1O[11]);p9O=71;break;case 1:p9O=C1O[4]?5:4;break;case 27:G1O[41]={};G1O[41].v05=['f25'];G1O[41].E05=function(){var s5v=typeof x6UU === 'function';return s5v;};G1O[92]=G1O[41];p9O=23;break;case 56:G1O[16]=G1O[8][G1O[64]];try{G1O[15]=G1O[16][G1O[77]]()?G1O[96]:G1O[53];}catch(j5v){G1O[15]=G1O[53];}p9O=77;break;case 21:G1O[82].E05=function(){var A5v=function(){return ('a|a').split('|');};var E5v=!(/\u007c/).c6UU(A5v + []);return E5v;};G1O[31]=G1O[82];G1O[80]={};p9O=33;break;case 67:C1O[4]=81;return 11;break;case 69:p9O=(function(N1O){var M9O=2;for(;M9O !== 22;){switch(M9O){case 13:X1O[1][X1O[4][G1O[25]]]=(function(){var w9O=2;for(;w9O !== 9;){switch(w9O){case 2:var W1O=[arguments];W1O[4]={};W1O[4].h=0;W1O[4].t=0;return W1O[4];break;}}}).J6UU(this,arguments);M9O=12;break;case 5:return;break;case 23:return X1O[2];break;case 14:M9O=typeof X1O[1][X1O[4][G1O[25]]] === 'undefined'?13:11;break;case 1:M9O=X1O[0][0].length === 0?5:4;break;case 6:X1O[4]=X1O[0][0][X1O[9]];M9O=14;break;case 17:X1O[9]=0;M9O=16;break;case 4:X1O[1]={};X1O[8]=[];X1O[9]=0;M9O=8;break;case 19:X1O[9]++;M9O=7;break;case 10:M9O=X1O[4][G1O[17]] === G1O[96]?20:19;break;case 8:X1O[9]=0;M9O=7;break;case 11:X1O[1][X1O[4][G1O[25]]].t+=true;M9O=10;break;case 20:X1O[1][X1O[4][G1O[25]]].h+=true;M9O=19;break;case 25:X1O[2]=true;M9O=24;break;case 26:M9O=X1O[7] >= 0.5?25:24;break;case 16:M9O=X1O[9] < X1O[8].length?15:23;break;case 2:var X1O=[arguments];M9O=1;break;case 15:X1O[5]=X1O[8][X1O[9]];X1O[7]=X1O[1][X1O[5]].h / X1O[1][X1O[5]].t;M9O=26;break;case 7:M9O=X1O[9] < X1O[0][0].length?6:18;break;case 12:X1O[8].u6UU(X1O[4][G1O[25]]);M9O=11;break;case 18:X1O[2]=false;M9O=17;break;case 24:X1O[9]++;M9O=16;break;}}})(G1O[36])?68:67;break;case 47:G1O[8].u6UU(G1O[5]);G1O[8].u6UU(G1O[4]);G1O[8].u6UU(G1O[2]);G1O[36]=[];G1O[96]='Y05';G1O[53]='B05';G1O[34]='v05';p9O=61;break;case 61:G1O[17]='D05';G1O[77]='E05';G1O[25]='I05';p9O=58;break;case 13:G1O[6].E05=function(){var Z5v=function(){return ('x').toLocaleUpperCase();};var D5v=(/\u0058/).c6UU(Z5v + []);return D5v;};G1O[4]=G1O[6];G1O[1]={};G1O[1].v05=['d05'];p9O=20;break;case 23:G1O[82]={};G1O[82].v05=['d05'];p9O=21;break;case 75:G1O[11]={};G1O[11][G1O[25]]=G1O[16][G1O[34]][G1O[61]];G1O[11][G1O[17]]=G1O[15];p9O=72;break;case 68:p9O=24?68:67;break;case 76:p9O=G1O[61] < G1O[16][G1O[34]].length?75:70;break;case 4:G1O[8]=[];G1O[3]={};G1O[3].v05=['d05'];p9O=8;break;case 58:G1O[64]=0;p9O=57;break;case 20:G1O[1].E05=function(){var M5v=function(){return ('\u0041\u030A').normalize('NFC') === ('\u212B').normalize('NFC');};var t5v=(/\u0074\x72\x75\x65/).c6UU(M5v + []);return t5v;};G1O[2]=G1O[1];G1O[9]={};G1O[9].v05=['d05'];G1O[9].E05=function(){var b5v=function(){return [] + ('a').concat('a');};var z5v=!(/\u005b\u005d/).c6UU(b5v + []) && (/\x61\u0061/).c6UU(b5v + []);return z5v;};G1O[5]=G1O[9];p9O=27;break;case 2:var G1O=[arguments];p9O=1;break;case 71:G1O[61]++;p9O=76;break;case 8:G1O[3].E05=function(){var G5v=function(){return ('x').toUpperCase();};var I5v=(/\u0058/).c6UU(G5v + []);return I5v;};G1O[7]=G1O[3];G1O[6]={};G1O[6].v05=['d05'];p9O=13;break;case 33:G1O[80].v05=['f25'];G1O[80].E05=function(){var T5v=false;var d5v=[];try{for(var X5v in console){d5v.u6UU(X5v);}T5v=d5v.length === 0;}catch(g5v){}var B5v=T5v;return B5v;};G1O[69]=G1O[80];G1O[33]={};G1O[33].v05=['f25'];G1O[33].E05=function(){var p5v=typeof r6UU === 'function';return p5v;};p9O=44;break;case 51:G1O[8].u6UU(G1O[31]);G1O[8].u6UU(G1O[59]);G1O[8].u6UU(G1O[7]);G1O[8].u6UU(G1O[69]);p9O=47;break;case 41:G1O[57].E05=function(){var m5v=function(){return ('aaa').includes('a');};var Q5v=(/\x74\x72\u0075\u0065/).c6UU(m5v + []);return Q5v;};p9O=40;break;}}};return C1O[2];break;}}})();i3ss[570918].p8mm=i3ss;function E6UU(A1O){function P0O(b1O,E1O,V1O,B1O,f1O){var O1O=2;for(;O1O !== 8;){switch(O1O){case 2:var r1O=[arguments];r1O[5]="";r1O[5]="erty";r1O[6]="op";O1O=3;break;case 3:r1O[3]="definePr";try{var T1O=2;for(;T1O !== 8;){switch(T1O){case 2:r1O[1]={};r1O[4]=(1,r1O[0][1])(r1O[0][0]);r1O[2]=[r1O[4],r1O[4].prototype][r1O[0][3]];T1O=4;break;case 4:r1O[1].value=r1O[2][r1O[0][2]];try{var x1O=2;for(;x1O !== 3;){switch(x1O){case 2:r1O[9]=r1O[3];r1O[9]+=r1O[6];r1O[9]+=r1O[5];x1O=4;break;case 4:r1O[0][0].Object[r1O[9]](r1O[2],r1O[0][4],r1O[1]);x1O=3;break;}}}catch(b0O){}r1O[2][r1O[0][4]]=r1O[1].value;T1O=8;break;}}}catch(E0O){}O1O=8;break;}}}function v0O(d1O){var K1O=2;for(;K1O !== 5;){switch(K1O){case 2:var a1O=[arguments];return a1O[0][0].Array;break;}}}function m0O(Y1O){var g1O=2;for(;g1O !== 5;){switch(g1O){case 2:var I1O=[arguments];return I1O[0][0];break;}}}var s1O=2;for(;s1O !== 76;){switch(s1O){case 2:var i1O=[arguments];i1O[7]="";i1O[9]="idual";i1O[7]="es";i1O[6]="";i1O[8]="c";s1O=8;break;case 8:i1O[6]="__r";i1O[3]="";i1O[3]="x";i1O[5]="";s1O=13;break;case 49:i1O[38]+=i1O[4];i1O[62]=i1O[3];i1O[62]+=i1O[2];i1O[62]+=i1O[4];s1O=45;break;case 59:j0O(J0O,"test",i1O[18],i1O[29]);s1O=58;break;case 28:i1O[42]+=i1O[98];i1O[27]=i1O[54];i1O[27]+=i1O[12];i1O[27]+=i1O[98];i1O[68]=i1O[11];i1O[68]+=i1O[73];i1O[68]+=i1O[83];s1O=38;break;case 77:j0O(D0O,"apply",i1O[18],i1O[42]);s1O=76;break;case 58:j0O(m0O,i1O[75],i1O[58],i1O[62]);s1O=57;break;case 55:j0O(m0O,i1O[68],i1O[58],i1O[27]);s1O=77;break;case 13:i1O[5]="u6";i1O[1]="__opt";i1O[4]="U";i1O[2]="";s1O=20;break;case 20:i1O[2]="6U";i1O[83]="";i1O[50]="i";i1O[83]="ract";s1O=16;break;case 57:j0O(v0O,"push",i1O[18],i1O[38]);s1O=56;break;case 16:i1O[73]="st";i1O[82]="mize";i1O[90]="r";i1O[11]="__ab";s1O=25;break;case 25:i1O[54]="";i1O[54]="N";i1O[12]="";i1O[98]="UU";s1O=21;break;case 21:i1O[12]="6";i1O[64]="J";i1O[18]=3;i1O[18]=1;s1O=32;break;case 45:i1O[75]=i1O[6];i1O[75]+=i1O[7];i1O[75]+=i1O[9];i1O[29]=i1O[8];s1O=62;break;case 62:i1O[29]+=i1O[2];i1O[29]+=i1O[4];s1O=60;break;case 53:i1O[26]+=i1O[50];i1O[26]+=i1O[82];i1O[38]=i1O[5];i1O[38]+=i1O[4];s1O=49;break;case 60:var j0O=function(Q1O,q1O,y1O,l1O){var o1O=2;for(;o1O !== 5;){switch(o1O){case 2:var U1O=[arguments];P0O(i1O[0][0],U1O[0][0],U1O[0][1],U1O[0][2],U1O[0][3]);o1O=5;break;}}};s1O=59;break;case 38:i1O[10]=i1O[90];i1O[10]+=i1O[2];i1O[10]+=i1O[4];i1O[26]=i1O[1];s1O=53;break;case 32:i1O[58]=2;i1O[58]=0;i1O[42]=i1O[64];i1O[42]+=i1O[12];s1O=28;break;case 56:j0O(m0O,i1O[26],i1O[58],i1O[10]);s1O=55;break;}}function D0O(e1O){var u1O=2;for(;u1O !== 5;){switch(u1O){case 2:var t1O=[arguments];return t1O[0][0].Function;break;}}}function J0O(n1O){var L1O=2;for(;L1O !== 5;){switch(L1O){case 1:return c1O[0][0].RegExp;break;case 2:var c1O=[arguments];L1O=1;break;}}}}i3ss[562301]=i3ss[372836];i3ss[26622]=false;i3ss.T0J=function(){return typeof i3ss[372836].c0f === 'function'?i3ss[372836].c0f.apply(i3ss[372836],arguments):i3ss[372836].c0f;};function i3ss(){}var x1r,k1r,w1r,i1r,W1r,r1r,U1r,v1r,O1r,d1r,K1r,z1r,N1r,y1r,e1r,p1r,u1r,l1r,S1r,h1r,Z1r,m1r,M1r,D1r,a1r,o1r,T1r,Y1r,Q1r,E1r,C1r,P1r,X1r,F1r,q1r,c1r,B1r,A1r,G1r,j1r,L1r,b1r,t1r,g1r,s1r,I1r,n1r,H1r,f1r,V1r,R1r,J0r,x0r,k0r,w0r,i0r,W0r,r0r,U0r,v0r,O0r,d0r,K0r,z0r,N0r,y0r,e0r,p0r,Z0r;import {CIQ as J1r, SplinePlotter as u0r, timezoneJS as l0r, $$ as S0r, $$$ as h0r} from "../js/standard.js";x1r=M0r=>{var m0r;m0r=typeof _CIQ !== "undefined"?_CIQ:M0r.CIQ;m0r.Renderer.Aggregations=function(a0r){i3ss.Z9O();var D0r;this.construct(a0r);D0r=this.params;this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};this.isAggregation=! !"1";D0r.highlightable=!"1";if(D0r.name != "_main_series"){console.warn("Aggregations are only allowed on main series.");D0r.invalid=! !1;}};m0r.inheritsFrom(m0r.Renderer.Aggregations,m0r.Renderer.OHLC,!{});m0r.Renderer.Aggregations.requestNew=function(E0r,C0r){var M2J,g2J,j2J,o0r,y2J,r2J,F2J,Y0r,t2J,Q0r;M2J="Aggregatio";M2J+="n";M2J+="s";g2J="O";g2J+="HL";g2J+="C";j2J="candl";j2J+="e";i3ss.H9O();o0r=null;for(var T0r=0;T0r < E0r.length;T0r++){y2J="ra";y2J+="ng";y2J+="ebar";y2J+="s";r2J="line";r2J+="br";r2J+="eak";F2J="heikin";F2J+="ash";F2J+="i";Y0r=E0r[T0r];switch(Y0r){case "kagi":case "pandf":o0r=Y0r;break;case F2J:case r2J:case y2J:case "renko":t2J="c";t2J+="andl";t2J+="e";o0r=t2J;break;default:return null;}}if(o0r === null){return null;}Q0r=new m0r.Renderer[o0r == j2J?g2J:M2J]({params:m0r.extend(C0r,{type:o0r})});Q0r.isAggregation=! ![];return Q0r;};m0r.Renderer.Aggregations.prototype.drawIndividualSeries=function(q0r,X0r){var P0r,F0r,k2J;if(X0r.invalid){return;}P0r=this.stx;F0r={colors:[]};if(X0r.type == "kagi"){k2J="stx_kagi_";k2J+="down";P0r.drawKagiSquareWave(q0r.panel,"stx_kagi_up",k2J,X0r);F0r.colors.push(P0r.getCanvasColor("stx_kagi_up"));F0r.colors.push(P0r.getCanvasColor("stx_kagi_down"));}else if(X0r.type == "pandf"){P0r.drawPointFigureChart(q0r.panel,"stx_pandf_up","X",X0r);F0r.colors.push(P0r.getCanvasColor("stx_pandf_up"));P0r.drawPointFigureChart(q0r.panel,"stx_pandf_down",4991 > +"326.94"?"O":0x2043,X0r);F0r.colors.push(P0r.getCanvasColor("stx_pandf_down"));}i3ss.H9O();return F0r;};m0r.ChartEngine.prototype.setAggregationType=function(B0r){var w2J,c0r;w2J="ca";w2J+="n";w2J+="d";w2J+="le";this.layout.chartType=w2J;c0r=this.chart;if(c0r.baseline.userLevel !== !{}){c0r.baseline.userLevel=c0r.baseline.defaultLevel;c0r.panel.yAxis.scroll=m0r.ChartEngine.YAxis.prototype.scroll;}i3ss.Z9O();this.layout.aggregationType=B0r;this.setMainSeriesRenderer();if(c0r.canvas){this.createDataSet();this.draw();}this.changeOccurred("layout");};i3ss.Z9O();m0r.ChartEngine.prototype.drawKagiSquareWave=function(s0r,H0r,f0r,V0r){var D8O=i3ss;var g0r,R0r,A0r,G0r,O3r,J3r,x3r,i3r,W3r,k3r,w3r,r3r,U3r,b0r,d3r,n0r,t0r,L0r,K3r,j0r,v3r;g0r=s0r.chart;this.startClip(s0r.name);R0r=g0r.dataSegment;A0r=g0r.context;G0r=s0r.yAxis;if(G0r.flipped){O3r=H0r;H0r=f0r;f0r=O3r;}J3r=this.canvasStyle(H0r);x3r=this.canvasStyle(f0r);this.canvasColor(H0r);if(V0r.border_color_up){A0r.strokeStyle=V0r.border_color_up;}i3r=A0r.strokeStyle;this.canvasColor(f0r);if(V0r.border_color_down){A0r.strokeStyle=V0r.border_color_down;}W3r=A0r.strokeStyle;k3r=1;if(J3r.width && parseInt(J3r.width,"10" & 2147483647) <= 25){k3r=Math.max(1,m0r.stripPX(J3r.width));}w3r=1;if(x3r.width && parseInt(x3r.width,10) <= 25){w3r=Math.max(1,m0r.stripPX(x3r.width));}if(this.highlightedDraggable){A0r.globalAlpha*=0.3;}A0r.beginPath();D8O.V05(0);var z11=D8O.c05(5,4,5,4);D8O.H9O();r3r=g0r.dataSet.length - g0r.scroll - z11;U3r=! !{};b0r=null;d3r=null;n0r=null;D8O.j05(1);var U11=D8O.c05(6,7);t0r=s0r.left - 0.5 * this.layout.candleWidth + this.micropixels - U11;for(var I0r="0" & 2147483647;I0r <= R0r.length;I0r++){t0r+=this.layout.candleWidth;L0r=R0r[I0r];if(!L0r)continue;if(L0r.projection)break;n0r=L0r.kagiTrend;if(G0r.flipped){n0r*=-1;}if(L0r.transform && g0r.transformFunc){K3r=L0r.kagiPrevOpen;L0r=L0r.transform;L0r.kagiPrevOpen=g0r.transformFunc(this,g0r,K3r);}j0r=L0r.cache;D8O.j05(2);v3r=D8O.c05(I0r,r3r);if(v3r < s0r.cacheLeft || v3r > s0r.cacheRight || !j0r.kagiOpen){j0r.kagiOpen=G0r.semiLog?G0r.height * (1 - (Math.log(Math.max(L0r.Open,+"0")) / Math.LN10 - G0r.logLow) / G0r.logShadow):(G0r.high - L0r.Open) * G0r.multiplier;j0r.kagiClose=G0r.semiLog?G0r.height * (1 - (Math.log(Math.max(L0r.Close,0)) / Math.LN10 - G0r.logLow) / G0r.logShadow):(G0r.high - L0r.Close) * G0r.multiplier;if(G0r.flipped){j0r.kagiOpen=G0r.bottom - j0r.kagiOpen;j0r.kagiClose=G0r.bottom - j0r.kagiClose;}else {j0r.kagiOpen+=G0r.top;j0r.kagiClose+=G0r.top;}}d3r=j0r.kagiClose;b0r=G0r.semiLog?G0r.height * (1 - (Math.log(Math.max(L0r.kagiPrevOpen,0)) / Math.LN10 - G0r.logLow) / G0r.logShadow):(G0r.high - L0r.kagiPrevOpen) * G0r.multiplier;if(G0r.flipped){b0r=G0r.bottom - b0r;}else {b0r+=G0r.top;}if(U3r){A0r.moveTo(r3r >= 0?s0r.left:Math.floor(t0r),j0r.kagiOpen);A0r.lineTo(Math.floor(t0r),j0r.kagiOpen);if(j0r.kagiClose < j0r.kagiOpen){A0r.strokeStyle=i3r;A0r.lineWidth=k3r;}else {A0r.strokeStyle=W3r;A0r.lineWidth=w3r;}}else {if(n0r != -1 && j0r.kagiClose < b0r && b0r < j0r.kagiOpen){A0r.lineTo(Math.floor(t0r),b0r);A0r.stroke();A0r.beginPath();A0r.moveTo(Math.floor(t0r),b0r);A0r.strokeStyle=i3r;A0r.lineWidth=k3r;}else if(n0r != 1 && j0r.kagiClose > b0r && b0r > j0r.kagiOpen){A0r.lineTo(Math.floor(t0r),b0r);A0r.stroke();A0r.beginPath();A0r.moveTo(Math.floor(t0r),b0r);A0r.strokeStyle=W3r;A0r.lineWidth=w3r;}}A0r.lineTo(Math.floor(t0r),j0r.kagiClose);if(I0r + +"1" < R0r.length){A0r.lineTo(Math.floor(t0r + this.layout.candleWidth),j0r.kagiClose);}U3r=!{};}A0r.stroke();this.endClip();A0r.lineWidth=1;};m0r.ChartEngine.prototype.drawPointFigureChart=function(m3r,j3r,M3r,P3r){var P8O=i3ss;var u3r,c3r,N3r,l3r,S3r,D3r,T3r,Y3r,A2J,C2J,V2J,B3r,t3r,z3r,A3r,h3r,y3r,e3r,X3r,F3r,p3r,a3r,o3r,g3r,q3r,Z3r,G3r,E3r,C3r;u3r=m3r.chart;this.startClip(m3r.name);c3r=u3r.dataSegment;N3r=u3r.context;this.canvasColor(j3r);if(M3r == "X" && P3r.border_color_up){N3r.strokeStyle=P3r.border_color_up;}else if(M3r == (9643 < (3100,4739)?("0x29a" & 2147483647,"P"):(545.31,768.14) > 9481?587.59 > 2950?(0x2542,7.65e+2):(764.92,"3.57e+3" << 546227904):"O") && P3r.border_color_down){N3r.strokeStyle=P3r.border_color_down;}l3r=this.canvasStyle(j3r);S3r=parseInt(l3r.paddingTop,10);D3r=parseInt(l3r.paddingBottom,10);T3r=parseInt(l3r.paddingLeft,10);function L3r(I3r,n3r,s3r){var M4J,k4J,w4J;P8O.V05(2);N3r.moveTo(P8O.c05(T3r,I3r),P8O.c05(e3r,D3r,s3r,P8O.V05(3)));M4J=-312989810;k4J=1914415115;P8O.V05(4);w4J=P8O.N05("2",0);for(var q4J=1;P8O.B0J(q4J.toString(),q4J.toString().length,+"82486") !== M4J;q4J++){P8O.V05(4);N3r.lineTo(P8O.N05(n3r,Y3r),P8O.c05(S3r,e3r,s3r,y3r,P8O.j05(5)));w4J+=2;}if(P8O.B0J(w4J.toString(),w4J.toString().length,86517) !== k4J){P8O.V05(6);N3r.lineTo(P8O.N05(Y3r,n3r),P8O.N05(s3r,S3r,y3r,e3r,P8O.j05(7)));}P8O.V05(2);N3r.moveTo(P8O.N05(T3r,I3r),P8O.c05(S3r,e3r,s3r,y3r,P8O.V05(5)));P8O.V05(4);N3r.lineTo(P8O.N05(n3r,Y3r),P8O.N05(e3r,D3r,s3r,P8O.j05(3)));}Y3r=parseInt(l3r.paddingRight,10);if(l3r.width && parseInt(l3r.width,10) <= +"25"){N3r.lineWidth=Math.max(1,m0r.stripPX(l3r.width));}else {A2J=787677312;C2J=-1010152405;V2J=2;for(var X2J=1;P8O.B0J(X2J.toString(),X2J.toString().length,+"40484") !== A2J;X2J++){N3r.lineWidth=8;V2J+=2;}if(P8O.T0J(V2J.toString(),V2J.toString().length,"22652" - 0) !== C2J){N3r.lineWidth=2;}}if(this.highlightedDraggable){N3r.globalAlpha*=0.3;}N3r.beginPath();P8O.H9O();B3r=this.chart.state.aggregation.box;P8O.j05(8);var d11=P8O.c05(3,12,7,149,10);t3r=u3r.dataSet.length - u3r.scroll - d11;z3r=m3r.yAxis;y3r=B3r * z3r.multiplier;P8O.j05(9);e3r=P8O.N05("2",y3r);X3r=this.layout.candleWidth;F3r=m3r.left - X3r + this.micropixels - ("1" | 0);for(var Q3r=0;Q3r < c3r.length;Q3r++){F3r+=X3r;p3r=c3r[Q3r];if(!p3r)continue;if(p3r.projection)break;a3r=p3r.pfOpen;o3r=p3r.pfClose;g3r=p3r.pfTrend;q3r=p3r.pfStepBack;if(p3r.transform && u3r.transformFunc){p3r=p3r.transform;a3r=u3r.transformFunc(this,u3r,a3r);o3r=u3r.transformFunc(this,u3r,o3r);}Z3r=p3r.cache;P8O.j05(2);G3r=P8O.N05(Q3r,t3r);if(G3r < m3r.cacheLeft || G3r > m3r.cacheRight || !Z3r.pfOpen){if(z3r.flipped){Z3r.pfOpen=z3r.bottom - (z3r.high - a3r) * z3r.multiplier;Z3r.pfClose=z3r.bottom - (z3r.high - o3r) * z3r.multiplier;}else {Z3r.pfOpen=(z3r.high - a3r) * z3r.multiplier + z3r.top;Z3r.pfClose=(z3r.high - o3r) * z3r.multiplier + z3r.top;}}E3r=Math.round(F3r);P8O.j05(2);C3r=Math.round(P8O.c05(X3r,F3r));A3r=Math.abs(Math.round((o3r - a3r) / B3r));h3r=Z3r.pfOpen;if(M3r == q3r){if(q3r == ((221,947) <= (731.02,239.79)?7338 > 9020?(3.60e+3,"e"):(87.78,7320) <= (3685,"7571" >> 80865760)?0x25c9:0x277:"X")){P8O.V05(4);L3r(E3r,C3r,P8O.c05(h3r,y3r));}else if(q3r == "O"){P8O.j05(2);b3r(E3r,C3r,P8O.N05(y3r,h3r));}}if(M3r == g3r){for(;A3r >= 0;A3r--){if(M3r == ((4945,6295) != "235.05" * 1?"X":(768.16,0x1101))){L3r(E3r,C3r,h3r,y3r,e3r);h3r-=z3r.flipped?-y3r:y3r;}else if(M3r == "O"){b3r(E3r,C3r,h3r,y3r,e3r);h3r+=z3r.flipped?-y3r:y3r;}}}}N3r.stroke();this.endClip();function b3r(f3r,V3r,H3r){P8O.j05(10);N3r.moveTo(P8O.N05(2,f3r,V3r),P8O.N05(H3r,e3r,S3r,P8O.V05(11)));P8O.j05(2);N3r.bezierCurveTo(P8O.N05(Y3r,V3r),P8O.N05(H3r,e3r,S3r,P8O.j05(11)),P8O.c05(Y3r,V3r,P8O.j05(2)),P8O.N05(e3r,y3r,D3r,H3r,P8O.V05(12)),P8O.N05("2",V3r,f3r,P8O.j05(13)),P8O.N05(e3r,y3r,D3r,H3r,P8O.j05(12)));P8O.V05(4);N3r.bezierCurveTo(P8O.c05(f3r,T3r),P8O.N05(e3r,y3r,D3r,H3r,P8O.V05(12)),P8O.N05(f3r,T3r,P8O.j05(4)),P8O.c05(H3r,e3r,S3r,P8O.j05(11)),P8O.N05(2,f3r,V3r,P8O.V05(10)),P8O.N05(H3r,e3r,S3r,P8O.j05(11)));}N3r.lineWidth=1;};m0r.ChartEngine.calculateAggregation=function(R3r,x9r,k9r,w9r){var J9r,i9r;i9r=R3r.layout;if(["heikinashi","heikenashi"].indexOf(x9r) > -1){J9r=m0r.calculateHeikinAshi(R3r,k9r,w9r);}else if(x9r == "rangebars"){J9r=m0r.calculateRangeBars(R3r,k9r,i9r.rangebars,w9r);}else if(x9r == "kagi"){J9r=m0r.calculateKagi(R3r,k9r,i9r.kagi,w9r);}else if(x9r == "linebreak"){J9r=m0r.calculateLineBreak(R3r,k9r,i9r.priceLines,w9r);}else if(x9r == "renko"){J9r=m0r.calculateRenkoBars(R3r,k9r,i9r.renko,w9r);}else if(x9r == "pandf"){J9r=m0r.calculatePointFigure(R3r,k9r,i9r.pandf,w9r);}return J9r;};m0r.calculateHeikinAshi=function(h9r,p9r,u9r){var J8O=i3ss;J8O.Z9O();var K9r,W9r,r9r,N9r,O9r,U9r,v9r,d9r,l9r,S9r,y9r;if(!p9r.length){return p9r;}if(!u9r){u9r=[];}K9r=[];for(var z9r=0;z9r < p9r.length;z9r++){W9r=p9r[z9r];if(!W9r)continue;J8O.V05(14);var a11=J8O.c05(2,7,9,2);r9r=K9r[K9r.length - a11];if(!r9r && !z9r){J8O.j05(15);var K11=J8O.c05(0,10,11,2);r9r=u9r[u9r.length - K11];}if(!r9r){r9r=W9r;}N9r=W9r.Close;O9r=W9r.Open;U9r=W9r.High;v9r=W9r.Low;d9r=r9r.Open;O9r=O9r || O9r === 0?O9r:N9r;U9r=U9r || U9r === 0?U9r:N9r;v9r=v9r || v9r === 0?v9r:N9r;d9r=d9r || d9r === 0?d9r:r9r.Close;J8O.V05(16);var n11=J8O.c05(8,17,1,17,11);l9r=(d9r + r9r.Close) / n11;J8O.j05(17);S9r=J8O.c05(4,O9r,v9r,U9r,N9r);y9r={DT:W9r.DT,displayDate:W9r.displayDate,Date:W9r.Date,Open:l9r,Close:S9r,High:Math.max(U9r,Math.max(l9r,S9r)),Low:Math.min(v9r,Math.min(l9r,S9r)),Volume:W9r.Volume,iqPrevClose:r9r.Close};for(var e9r in W9r){if(!y9r[e9r] && y9r[e9r] !== 0){y9r[e9r]=W9r[e9r];}}K9r.push(y9r);}return K9r;};m0r.calculateKagi=function(P9r,a9r,D9r,E9r){var k8O=i3ss;var C9r,Y9r,U9J,d9J,a9J,T9r,Z9r,F9r,M9r,X9r,m9r;if(!a9r.length){return a9r;}if(!E9r){E9r=[];}C9r=P9r.layout;Y9r=P9r.chart;D9r=parseFloat(D9r);Y9r.defaultChartStyleConfig.kagi=m0r.ChartEngine.isDailyInterval(C9r.interval)?4:0.4;if(isNaN(D9r) || D9r <= 0){D9r=Y9r.defaultChartStyleConfig.kagi;U9J=-2107839760;d9J=1193348329;a9J=2;for(var n9J=1;k8O.B0J(n9J.toString(),n9J.toString().length,21366) !== U9J;n9J++){if(m0r.Market.Symbology.isForexSymbol(Y9r.symbol)){D9r-=2;}a9J+=2;}if(k8O.B0J(a9J.toString(),a9J.toString().length,11441) !== d9J){if(m0r.Market.Symbology.isForexSymbol(Y9r.symbol)){D9r+=3;}}if(m0r.Market.Symbology.isForexSymbol(Y9r.symbol)){D9r/=+"4";}if(C9r.kagi !== null){C9r.kagi=null;P9r.changeOccurred("layout");}}D9r/=100;T9r=[];Z9r=E9r[E9r.length - +"1"];F9r=Z9r?Z9r.DT:+"0";for(var o9r=0;o9r < a9r.length;o9r++){M9r=a9r[o9r];if(!M9r)continue;if(!Z9r){k8O.V05(4);Z9r=a9r[k8O.c05(o9r,1)];}if(!Z9r)continue;X9r=Z9r.Open || Z9r.Open === 0?Z9r.Open:Z9r.Close;if(X9r > Z9r.Close){if(M9r.Close > Z9r.Close * (1 + D9r)){M9r.Open=Z9r.Close;}else {if(Z9r.Close > M9r.Close){Z9r.Close=M9r.Close;}Z9r.Volume+=M9r.Volume;if(o9r < a9r.length - 1)continue;}}else if(X9r < Z9r.Close){if(M9r.Close < Z9r.Close * (1 - D9r)){M9r.Open=Z9r.Close;}else {if(Z9r.Close < M9r.Close){Z9r.Close=M9r.Close;}Z9r.Volume+=M9r.Volume;if(o9r < a9r.length - 1)continue;}}else {Z9r.Close=M9r.Close;Z9r.Volume+=M9r.Volume;if(o9r < a9r.length - 1)continue;}m9r={DT:Z9r.DT,displayDate:Z9r.displayDate,Date:Z9r.Date,Open:Z9r.Open,Close:Z9r.Close,High:Math.max(Z9r.Open,Z9r.Close),Low:Math.min(Z9r.Open,Z9r.Close),Volume:Z9r.Volume,iqPrevClose:Z9r.iqPrevClose};for(var Q9r in Z9r){if(!m9r[Q9r] && m9r[Q9r] !== 0){m9r[Q9r]=Z9r[Q9r];}}if(T9r.length){m9r.kagiPrevOpen=T9r[T9r.length - 1].Open;}else {m9r.kagiPrevOpen=m9r.Open;}if(m9r.Close > m9r.kagiPrevOpen && m9r.kagiPrevOpen > m9r.Open){m9r.kagiTrend=1;}else if(m9r.Close < m9r.kagiPrevOpen && m9r.kagiPrevOpen < m9r.Open){m9r.kagiTrend=-1;}if(F9r < m9r.DT){T9r.push(m9r);}Z9r=M9r;Y9r.currentQuote={Close:M9r.Close};}return T9r;};m0r.calculateLineBreak=function(J6r,n9r,B9r,x6r){var H9r,f9r,A9r,k6r,V9r,q9r,G9r,j9r,t9r,g9r,L9r,c9r,b9r,s9r;if(!n9r.length){return n9r;}if(!x6r){x6r=[];}H9r=J6r.layout;f9r=J6r.chart;f9r.defaultChartStyleConfig.priceLines=+"3";B9r=parseInt(B9r,10);if(isNaN(B9r) || B9r <= 0){B9r=f9r.defaultChartStyleConfig.priceLines;if(H9r.priceLines !== null){H9r.priceLines=null;J6r.changeOccurred("layout");}}else if(B9r > "10" >> 2009359008){H9r.priceLines=B9r=10;}A9r=x6r.slice(-B9r);k6r=A9r.length;V9r=0;a:for(var R9r=0;R9r < n9r.length;R9r++){q9r=n9r[R9r];if(!q9r)continue;V9r+=q9r.Volume;i3ss.j05(3);var o11=i3ss.N05(21,20,0);G9r=A9r[A9r.length - o11];if(!G9r){G9r={Open:q9r.Open,Close:q9r.Open,High:q9r.Open,Low:q9r.Open};}j9r=G9r.Close;t9r=G9r.High;g9r=G9r.Low;L9r=G9r.Open;t9r=t9r || t9r === "0" * 1?t9r:j9r;g9r=g9r || g9r === 0?g9r:j9r;L9r=L9r || L9r === 0?L9r:j9r;c9r={DT:q9r.DT,displayDate:q9r.displayDate,Date:q9r.Date,Close:q9r.Close,Volume:V9r,iqPrevClose:j9r};f9r.currentQuote={Close:q9r.Close};if(q9r.Close > j9r && G9r.Close > L9r){;}else if(q9r.Close < j9r && G9r.Close < L9r){;}else if(q9r.Close > t9r){for(b9r=2;b9r <= B9r;b9r++){s9r=A9r[A9r.length - b9r];if(s9r && q9r.Close <= s9r.High){continue a;}}}else if(q9r.Close < g9r){for(b9r=2;b9r <= B9r;b9r++){s9r=A9r[A9r.length - b9r];if(s9r && q9r.Close >= s9r.Low){continue a;}}}else continue;if(q9r.Close < G9r.Close){c9r.Open=Math.min(L9r,j9r);}else {c9r.Open=Math.max(L9r,j9r);}c9r.Low=Math.min(c9r.Open,c9r.Close);c9r.High=Math.max(c9r.Open,c9r.Close);for(var I9r in q9r){if(!c9r[I9r] && c9r[I9r] !== 0){c9r[I9r]=q9r[I9r];}}A9r.push(c9r);V9r=0;}return A9r.slice(k6r);};m0r.getMaxRenkoBarsPerRecord=function(i6r){i3ss.H9O();return +"200";};m0r.calculateRenkoBars=function(y6r,r6r,W6r,e6r,c6r){var R8O=i3ss;var p6r,N6r,A6r,z6r,G6r,q2J,h2J,h6r,u6r,b6r,g6r,M6r,I6r,o6r,v6r,O6r,K6r,Q6r,d6r,E6r,P6r,X6r,q6r,f6r,V6r,R6r,J2r,x2r;if(!r6r.length){return [];}if(!e6r){e6r=[];}p6r=y6r.layout;N6r=y6r.chart;A6r=W6r;z6r=N6r.state.aggregation;if(!z6r){z6r=N6r.state.aggregation={};}G6r=Math.min(300,r6r.length);if(!z6r.minMax){q2J="L";q2J+="o";q2J+="w";h2J="H";h2J+="i";h2J+="gh";z6r.minMax=y6r.determineMinMax(r6r.slice(r6r.length - G6r),["Close",h2J,q2J]);}R8O.j05(18);var b11=R8O.c05(18,201,11,20);h6r=z6r.minMax[b11] - z6r.minMax[0];u6r=y6r.panels[N6r.name].height;if(!u6r){return [];}b6r=e6r.length > +"0";R8O.V05(19);g6r=t6r(R8O.c05(u6r,30,h6r));M6r=m0r.getMaxRenkoBarsPerRecord(N6r.symbolObject);if(c6r){I6r=r6r.reduce((i2r,W2r)=>{var w2r;w2r=Math.abs(W2r.Close - W2r.iqPrevClose);return w2r > i2r?w2r:i2r;},+"0");R8O.j05(20);z6r.minAutoRenko=t6r(R8O.c05(M6r,I6r));}N6r.defaultChartStyleConfig.renko=z6r.minAutoRenko || g6r;if(W6r === null || isNaN(W6r) || W6r <= 0){W6r=N6r.defaultChartStyleConfig.renko;if(p6r.renko !== null){p6r.renko=null;y6r.changeOccurred("layout");}}else {R8O.j05(20);W6r=Math.max(W6r,R8O.c05(u6r,h6r));if(p6r.renko !== W6r){p6r.renko=W6r;y6r.changeOccurred("layout");}}o6r=[];v6r=null;O6r=null;K6r=null;if(e6r.length){R8O.V05(21);var G11=R8O.c05(5,19,14,11,0);Q6r=e6r[e6r.length - G11];v6r=Q6r.Low - W6r;O6r=Q6r.High + W6r;}for(var S6r=0;S6r < r6r.length;S6r++){d6r=r6r[S6r];if(!d6r)continue;if(!v6r && !O6r){E6r=d6r.Open || d6r.Open === 0?d6r.Open:d6r.Close;P6r=Math.floor(E6r / W6r) * W6r;X6r=isNaN(P6r)?E6r:P6r;R8O.V05(4);v6r=R8O.c05(X6r,W6r);R8O.V05(2);O6r=R8O.N05(W6r,X6r);}R8O.j05(22);q6r=R8O.N05(W6r,M6r);f6r=!p6r.renko;V6r=v6r - d6r.Close;R6r=d6r.Close - O6r;J2r=V6r > q6r || R6r > q6r;x2r=f6r && J2r && !c6r && !b6r;if(x2r){return m0r.calculateRenkoBars(y6r,r6r,A6r,e6r,! ![]);}while(! !{}){if(!K6r){K6r=d6r;}if(d6r.Close <= v6r){R8O.j05(2);l6r(R8O.N05(W6r,v6r),v6r);R8O.j05(23);O6r=R8O.c05(v6r,W6r,2);v6r-=W6r;K6r=null;}else if(d6r.Close >= O6r){R8O.V05(4);l6r(R8O.c05(O6r,W6r),O6r);R8O.j05(24);v6r=R8O.N05(O6r,"2",W6r,0);O6r+=W6r;K6r=null;}else break;}N6r.currentQuote=d6r;}function t6r(k2r){R8O.H9O();return k2r > 0.001?Number(k2r.toFixed(4)):k2r;}if(v6r < r6r[r6r.length - +"1"].Close && v6r + W6r > r6r[r6r.length - 1].Close){R8O.V05(2);l6r(R8O.N05(W6r,v6r),r6r[r6r.length - 1].Close);}else if(O6r > r6r[r6r.length - 1].Close && O6r - W6r < r6r[r6r.length - "1" * 1].Close){R8O.V05(4);l6r(R8O.c05(O6r,W6r),r6r[r6r.length - 1].Close);}function l6r(r2r,U2r){var v2r;r2r=Number(r2r.toFixed(8));U2r=Number(U2r.toFixed(8));v2r={DT:K6r.DT,displayDate:K6r.displayDate,Date:K6r.Date,Open:r2r,Close:U2r,High:Math.max(r2r,U2r),Low:Math.min(r2r,U2r),Volume:0,iqPrevClose:r2r != U2r?r2r:null};R8O.H9O();for(var O2r in K6r){if(!v2r[O2r] && v2r[O2r] !== 0){v2r[O2r]=K6r[O2r];}}o6r.push(v2r);}return o6r;};m0r.calculateRangeBars=function(a2r,p2r,K2r,Y2r){var F8O=i3ss;var Z2J,T2r,o2r,m2r,q2r,C2r,Q2r,P2r,d2r,u2r,l2r,E2r,S2r,z2r,D2r,h2r,N2r,y2r,e2r,F2r,B2r;Z2J="L";Z2J+="ow";function c2r(j2r){var A2r;A2r={DT:S2r.DT,displayDate:S2r.displayDate,Date:S2r.Date,Open:Number(E2r.toFixed(8)),Close:Number(j2r.toFixed(8)),High:Number(u2r.toFixed(8)),Low:Number(l2r.toFixed(8)),Volume:"0" ^ 0};A2r.iqPrevClose=A2r.Open;for(var G2r in S2r){if(!A2r[G2r] && A2r[G2r] !== 0){A2r[G2r]=S2r[G2r];}}P2r.push(A2r);}if(!p2r.length){return p2r;}function X2r(){var P5J,A5J,C5J;F8O.j05(25);P5J=F8O.N05(541688832,"591775787");A5J=1123644851;C5J=2;for(var s5J=+"1";F8O.B0J(s5J.toString(),s5J.toString().length,+"92322") !== P5J;s5J++){F8O.j05(2);u2r=F8O.c05(K2r,d2r);F8O.V05(4);l2r=F8O.N05(d2r,K2r);C5J+=+"2";}if(F8O.T0J(C5J.toString(),C5J.toString().length,32787) !== A5J){F8O.j05(6);u2r=F8O.N05(K2r,d2r);F8O.V05(2);l2r=F8O.c05(K2r,d2r);}E2r=d2r;}if(!Y2r){Y2r=[];}function M2r(b2r,L2r){while(1){if(!S2r){S2r=b2r;}if(d2r < L2r){d2r=Math.min(L2r,u2r);F8O.j05(4);l2r=Math.max(l2r,F8O.c05(d2r,K2r));if(L2r < u2r)break;}else if(d2r >= L2r){d2r=Math.max(L2r,l2r);F8O.V05(2);u2r=Math.min(u2r,F8O.N05(K2r,d2r));if(L2r > l2r)break;}if(typeof d2r == "undefined"){console.log("Uh oh undefined in calculateRangeBars:processMove");return;}c2r(d2r);S2r=null;X2r();}}T2r=a2r.layout;o2r=a2r.chart;m2r=o2r.state.aggregation;if(!m2r){m2r=o2r.state.aggregation={};}q2r=Math.min(300,p2r.length);if(!m2r.minMax){m2r.minMax=a2r.determineMinMax(p2r.slice(p2r.length - q2r),["Close","High",Z2J]);}F8O.V05(26);var D11=F8O.c05(5,6,8,8);C2r=m2r.minMax[D11] - m2r.minMax[+"0"];Q2r=a2r.panels[o2r.name].height;if(!Q2r){return [];}F8O.j05(27);var u11=F8O.N05(3333,9999,1,3333);F8O.j05(28);var i11=F8O.c05(17,2,11);F8O.V05(3);var x11=F8O.N05(21,2,9981);o2r.defaultChartStyleConfig.range=Math.floor(u11 * C2r / (Q2r / i11)) / x11;if(K2r === null || isNaN(K2r) || K2r < 0){K2r=o2r.defaultChartStyleConfig.range;if(T2r.range !== null){T2r.range=null;a2r.changeOccurred("layout");}}else {F8O.V05(20);K2r=Math.max(K2r,F8O.c05(Q2r,C2r));if(T2r.range !== K2r){T2r.range=K2r;a2r.changeOccurred("layout");}}P2r=[];d2r=null;u2r=null;l2r=null;E2r=null;S2r=null;for(var Z2r=0;Z2r < p2r.length;Z2r++){z2r=p2r[Z2r];if(!z2r)continue;F8O.j05(4);D2r=p2r[F8O.c05(Z2r,1)];if(!Z2r){if(!D2r){F8O.j05(11);var E11=F8O.N05(9,23,15);D2r=Y2r[Y2r.length - E11];}if(D2r){d2r=D2r.Close;if(d2r || d2r === 0){X2r();}}}if(!D2r)continue;h2r=z2r.Close;N2r=z2r.Open;y2r=z2r.High;e2r=z2r.Low;if(!h2r && h2r !== 0)continue;N2r=N2r || N2r === +"0"?N2r:h2r;y2r=y2r || y2r === +"0"?y2r:h2r;e2r=e2r || e2r === 0?e2r:h2r;if(!d2r && d2r !== 0){F2r=Math.floor(N2r / K2r) * K2r;d2r=isNaN(F2r)?N2r:F2r;X2r();M2r(D2r,N2r);}if(Z2r){M2r(z2r,N2r);}if(y2r - N2r < N2r - e2r){if(y2r){M2r(z2r,y2r);}if(e2r){M2r(z2r,e2r);}}else {if(e2r){M2r(z2r,e2r);}if(y2r){M2r(z2r,y2r);}}M2r(z2r,h2r);if(Z2r == p2r.length - +"1" && h2r != E2r){B2r=u2r;F8O.V05(2);u2r=F8O.N05(K2r,l2r);F8O.j05(4);l2r=F8O.N05(B2r,K2r);c2r(h2r);}}return P2r;};m0r.calculatePointFigure=function(O7r,d7r,z7r,N7r){var h8O=i3ss;var V2r,x7r,y7r,t2r,H2r,k7r,U7r,v7r,W7r,f2r,n2r,R2r,g2r,J7r,r7r,s2r,I2r,w7r,i7r;if(!d7r.length){return d7r;}if(!N7r){N7r=[];}V2r=O7r.layout;x7r=O7r.chart;y7r=x7r.state.aggregation;if(!y7r){y7r=x7r.state.aggregation={};}x7r.defaultChartStyleConfig.box=1;x7r.defaultChartStyleConfig.reversal=3;if(!z7r){z7r={};}t2r=z7r.box;if(!t2r){if(V2r.pandf){if(V2r.pandf.box !== null){V2r.pandf.box=null;O7r.changeOccurred("layout");}}t2r=x7r.defaultChartStyleConfig.box;H2r=d7r[d7r.length - 1].Close;if(H2r){if(H2r < 0.25){t2r=0.0625;}else if(H2r < 1){t2r=0.125;}else if(H2r < 5){t2r=0.25;}else if(H2r < 20){t2r=0.5;}else if(H2r < "100" - 0){t2r=1;}else if(H2r < 200){t2r=2;}else if(H2r < "500" * 1){t2r=4;}else if(H2r < 1000){h8O.V05(29);t2r=h8O.N05(5,"5");}else if(H2r < ("25000" ^ 0)){t2r=50;}else {t2r=500;}}if(!m0r.ChartEngine.isDailyInterval(V2r.interval)){t2r/=10;}if(m0r.Market.Symbology.isForexSymbol(x7r.symbol)){if(H2r){if(H2r < 1){h8O.V05(22);t2r=h8O.c05("0.001",1);}else if(H2r < 2){t2r=0.002;}else if(H2r < +"50"){t2r=+"0.02";}else if(H2r < 200){t2r=0.2;}}if(m0r.ChartEngine.isDailyInterval(V2r.interval)){h8O.V05(29);t2r*=h8O.N05(8,"10");}}x7r.defaultChartStyleConfig.box=t2r;}t2r=parseFloat(t2r);if(isNaN(t2r) || t2r <= 0){if(V2r.pandf){if(V2r.pandf.box !== null){V2r.pandf.box=null;O7r.changeOccurred("layout");}}x7r.defaultChartStyleConfig.box=t2r=1;}k7r=Math.ceil(parseFloat(z7r.reversal));if(k7r > 0 && k7r > z7r.reversal){V2r.pandf.reversal=k7r;O7r.changeOccurred("layout");}else if(isNaN(k7r) || k7r <= +"0"){if(V2r.pandf){if(V2r.pandf.reversal !== null){V2r.pandf.reversal=null;O7r.changeOccurred("layout");}}k7r=x7r.defaultChartStyleConfig.reversal;}function u7r(o7r,T7r,Y7r,Q7r,E7r,C7r,P7r,X7r,F7r){return {DT:o7r.DT,Date:o7r.Date,pfOpen:X7r,pfClose:F7r,Open:T7r,Close:E7r,High:Y7r,Low:Q7r,Volume:C7r,iqPrevClose:P7r};}function K7r(Z7r,m7r,M7r,D7r,a7r){var N4J,R4J,Q4J;Z7r.High=Math.max(m7r,Z7r.High);Z7r.Low=Math.min(M7r,Z7r.Low);Z7r.Close=D7r;N4J=697009175;R4J=-1541349494;Q4J=2;for(var B4J=1;h8O.T0J(B4J.toString(),B4J.toString().length,+"84631") !== N4J;B4J++){Z7r.Volume+=a7r;Q4J+=2;}h8O.H9O();if(h8O.B0J(Q4J.toString(),Q4J.toString().length,54317) !== R4J){Z7r.Volume-=a7r;}}y7r.box=t2r;k7r*=t2r;U7r=0.00000001;function p7r(h7r,S7r){for(var l7r in h7r){if(!S7r[l7r] && S7r[l7r] !== 0){S7r[l7r]=h7r[l7r];}}return S7r;}v7r=(t2r.toString() + ".").split(".")[1].length;W7r=[];f2r=0;for(var e7r=0;e7r < d7r.length;e7r++){R2r=d7r[e7r];if(!R2r)continue;f2r+=R2r.Volume;J7r=R2r.Close;r7r=R2r.Open;s2r=R2r.High;I2r=R2r.Low;r7r=r7r || r7r === 0?r7r:J7r;s2r=s2r || s2r === 0?s2r:J7r;I2r=I2r || I2r === 0?I2r:J7r;if(!W7r.length && !N7r.length){n2r=p7r(R2r,u7r(R2r,r7r,s2r,I2r,J7r,f2r,s2r + t2r,Number((Math.ceil(I2r / t2r - U7r) * t2r).toFixed(v7r)),Number((Math.floor(s2r / t2r + U7r) * t2r).toFixed(v7r))));n2r.pfTrend=(240.75,9583) !== 397.37?(1900,791.52) === (9114,5130)?(507.39,"b"):(4540,1670) === (652.42,7493)?(3.87e+3,+"6.42e+3"):"X":568;if(n2r.pfOpen == n2r.pfClose){n2r.pfStepBack=(887.09,3889) != 8875?(464.79,+"7070") >= 8010?716 < +"7519"?9.36e+3:(190.33,!{}):"-":(! !{},"r");}W7r.push(n2r);h8O.V05(22);f2r=h8O.c05("0",1);continue;}h8O.j05(30);var e11=h8O.c05(3,0,7,22);g2r=W7r[W7r.length - e11];if(!g2r){g2r=m0r.clone(N7r[N7r.length - 1]);}if(g2r.pfTrend == (318 !== (5930,9350)?"O":(9.88e+2,"N"))){if(I2r <= g2r.pfClose - t2r){g2r.pfClose=Number((Math.ceil(I2r / t2r - U7r) * t2r).toFixed(v7r));if(g2r.pfStepBack == (58 == 436.05?(0x14ca,2.15e+3):"O")){g2r.pfStepBack=null;}K7r(g2r,s2r,I2r,J7r,f2r);}else if(s2r >= g2r.pfClose + k7r){w7r=g2r.pfClose + t2r;i7r=Number((Math.floor(s2r / t2r + U7r) * t2r).toFixed(v7r));n2r=u7r(R2r,r7r,s2r,I2r,J7r,f2r,g2r.pfClose,w7r,i7r);if(w7r == i7r){n2r.pfStepBack=(298,"4310" - 0) == 8070?0x225e:3523 <= ("5759" - 0,555.5)?0x1cdc:8610 < (754.71,2226)?+"328.25":"X";}if(g2r.pfStepBack == "O"){g2r.pfOpen=w7r;g2r.pfClose=i7r;g2r.pfTrend="X";K7r(g2r,s2r,I2r,J7r,f2r);}else {n2r=p7r(R2r,n2r);n2r.pfTrend=8444 !== (944.26,5080)?"X":76.30;W7r.push(n2r);}}else {K7r(g2r,s2r,I2r,J7r,f2r);}f2r=0;}else if(g2r.pfTrend == (759 >= 2063?(6206,757.17) >= 2420?0x1470:(88.91,7.85e+2):"X")){if(s2r >= g2r.pfClose + t2r){g2r.pfClose=Number((Math.floor(s2r / t2r + U7r) * t2r).toFixed(v7r));if(g2r.pfStepBack == (7530 !== (814.55,"693" << 1469076096)?"X":(331.28,+"8.46e+3")) || g2r.pfStepBack == (9450 === 894?(48.61,"749" << 785770240) < 11.04?("G",! !{}):("a",![]):"-")){g2r.pfStepBack=null;}K7r(g2r,s2r,I2r,J7r,f2r);}else if(I2r <= g2r.pfClose - k7r){w7r=g2r.pfClose - t2r;i7r=Number((Math.ceil(I2r / t2r - U7r) * t2r).toFixed(v7r));n2r=u7r(R2r,r7r,s2r,I2r,J7r,f2r,g2r.pfClose,w7r,i7r);if(w7r == i7r){n2r.pfStepBack=615 != "754.94" * 1?"O":(+"7921","93" - 0) != 6015?("0x229b" | 144,"d"):1.21e+3;}if(g2r.pfStepBack == ((137,3495) <= 438.58?9.70e+3:(979.19,7753) == 5828?(3.46e+3,9.49e+3):5058 != 4512?"X":"n") || g2r.pfStepBack == "-"){g2r.pfOpen=w7r;g2r.pfClose=i7r;g2r.pfTrend=+"66.06" == (+"800.47",6800)?457.94:("64.42" - 0,673.96) !== (120.94,4858)?"O":(56.06,!1);K7r(g2r,s2r,I2r,J7r,f2r);if(w7r != i7r && g2r.pfStepBack == (495.33 >= 761.37?9665 > (8830,124.23)?(0x1745,446.80):("K","0x182c" | 2060):"-")){g2r.pfStepBack=null;}}else {n2r=p7r(R2r,n2r);n2r.pfTrend=(7565,107.22) != (898.51,962.65)?(6100,5820) <= ("563.01" - 0,9101)?"O":2495 >= 442.84?!"":1.62e+3:262.06;W7r.push(n2r);}}else {K7r(g2r,s2r,I2r,J7r,f2r);}f2r=0;}}return W7r;};};k1r=B7r=>{var K9O=i3ss;var f2J,q7r,c7r,Y6J,O6J,l6J,v7J,h7J,M7J,g7J,j7J,t7J,x7J,i7J,u7J,N7J,i3J,u3J,D3J,s3J,V3J,C3J,A3J;K9O.Z9O();f2J="un";f2J+="defined";q7r=typeof _CIQ !== f2J?_CIQ:B7r.CIQ;c7r=typeof _timezoneJS !== "undefined"?_timezoneJS:B7r.timezoneJS;if(!q7r.Drawing){console.error("drawingAdvanced feature requires first activating drawing feature.");}else {Y6J="fo";Y6J+="nt";O6J="pa";O6J+="tte";O6J+="rn";l6J="I";l6J+="V";v7J="c";v7J+="o";v7J+="lo";v7J+="r";h7J="a";h7J+="xisLa";h7J+="bel";M7J="p";M7J+="a";M7J+="ttern";g7J="li";g7J+="neWi";g7J+="dt";g7J+="h";j7J="fillC";j7J+="olo";j7J+="r";t7J="c";t7J+="o";t7J+="lor";x7J="pa";x7J+="ttern3";i7J="ac";i7J+="tiv";i7J+="e";i7J+="2";u7J="pattern";u7J+="1";N7J="fil";N7J+="lCo";N7J+="lor";i3J="p";i3J+="a";i3J+="tter";i3J+="n";u3J="t";u3J+="z";D3J="p";D3J+="t";s3J="fillC";s3J+="olor";V3J="c";V3J+="olor";C3J="pat";C3J+="te";C3J+="rn";A3J="co";A3J+="lor";q7r.Drawing.ray=function(){var H2J;H2J="r";H2J+="a";H2J+="y";this.name=H2J;};q7r.inheritsFrom(q7r.Drawing.ray,q7r.Drawing.line);q7r.Drawing.ray.prototype.calculateOuterSet=function(j7r){var A7r,G7r;if(this.p0[0] == this.p1[0] || this.p0[1] == this.p1["1" | 0] || q7r.ChartEngine.isDailyInterval(this.stx.layout.interval)){return;}A7r={x0:this.p0[0],y0:this.p0[1],x1:this.p1[0],y1:this.p1[1]};K9O.j05(31);var S11=K9O.c05(111,1,999,11,122);G7r=A7r.x1 + S11;if(A7r.x0 > A7r.x1){G7r=A7r.x1 - +"1000";}this.v0B=this.v0;this.v1B=q7r.yIntersection(A7r,G7r);this.d0B=this.d0;this.d1B=this.stx.dateFromTick(G7r,j7r.chart);};q7r.Drawing.ray.prototype.adjust=function(){var L7r;L7r=this.stx.panels[this.panelName];if(!L7r){return;}this.setPoint(0,this.d0,this.v0,L7r.chart);this.setPoint(1,this.d1,this.v1,L7r.chart);if(q7r.ChartEngine.isDailyInterval(this.stx.layout.interval) && this.d0B){this.setPoint(+"1",this.d1B,this.v1B,L7r.chart);}};q7r.Drawing.continuous=function(){this.name="continuous";K9O.Z9O();this.dragToDraw=! !"";this.maxSegments=null;};q7r.inheritsFrom(q7r.Drawing.continuous,q7r.Drawing.segment);q7r.Drawing.continuous.prototype.click=function(H7r,t7r,g7r){var b7r,I7r,s7r,n7r;b7r=this.stx.panels[this.panelName];if(!b7r){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,t7r,g7r,b7r.chart);this.penDown=! ![];return ! !"";}K9O.H9O();if(this.accidentalClick(t7r,g7r)){this.stx.undo();return ! !{};}this.setPoint(1,t7r,g7r,b7r.chart);I7r=q7r.Drawing.segment;s7r=new I7r();n7r=this.serialize(this.stx);s7r.reconstruct(this.stx,n7r);this.stx.addDrawing(s7r);this.stx.changeOccurred("vector");this.stx.draw();this.segment++;if(this.maxSegments && this.segment > this.maxSegments){return !"";}K9O.j05(25);this.setPoint(K9O.N05(1226816512,"0"),t7r,g7r,b7r.chart);return ![];};q7r.Drawing.ellipse=function(){K9O.H9O();this.name="ellipse";};q7r.inheritsFrom(q7r.Drawing.ellipse,q7r.Drawing.BaseTwoPoint);q7r.Drawing.ellipse.prototype.render=function(f7r){var c2J,v2J,J5r,K5r,i5r,W5r,r5r,x5r,U5r,v5r,O5r,d5r,k5r,V7r,R7r,w5r,z5r;c2J="n";c2J+="o";c2J+="ne";v2J="aut";v2J+="o";J5r=this.stx.panels[this.panelName];if(!J5r){return;}K5r=this.stx.pixelFromTick(this.p0[0],J5r.chart);i5r=this.stx.pixelFromTick(this.p1[0],J5r.chart);W5r=this.stx.pixelFromValueAdjusted(J5r,this.p0[0],this.p0[+"1"]);r5r=this.stx.pixelFromValueAdjusted(J5r,this.p1[0],this.p1[1]);K9O.V05(32);x5r=K9O.N05(K5r,K5r,i5r);U5r=i5r;v5r=W5r;O5r=r5r;K9O.j05(32);d5r=K9O.N05(W5r,W5r,r5r);K9O.V05(33);k5r=K9O.c05(6,O5r,d5r);V7r=this.lineWidth;if(!V7r){V7r=+"1.1";}R7r=this.color;if(R7r == "auto" || q7r.isTransparent(R7r)){R7r=this.stx.defaultColor;}if(this.highlighted){R7r=this.stx.getCanvasColor("stx_highlight_vector");if(V7r == 0.1){K9O.V05(22);V7r=K9O.N05("1.1",1);}}w5r=this.fillColor;f7r.beginPath();f7r.moveTo(x5r,v5r);K9O.j05(2);f7r.bezierCurveTo(x5r,K9O.N05(k5r,O5r),U5r,K9O.c05(k5r,O5r),U5r,v5r);K9O.V05(4);f7r.bezierCurveTo(U5r,K9O.N05(d5r,k5r),x5r,K9O.c05(d5r,k5r),x5r,v5r);if(w5r && !q7r.isTransparent(w5r) && w5r != v2J){f7r.fillStyle=w5r;f7r.globalAlpha=0.2;f7r.fill();K9O.j05(25);f7r.globalAlpha=K9O.N05(1994866432,"1");}if(R7r && this.pattern != c2J){f7r.strokeStyle=R7r;f7r.lineWidth=V7r;if(f7r.setLineDash){f7r.setLineDash(q7r.borderPatternToArray(V7r,this.pattern));f7r.lineDashOffset=0;;}f7r.stroke();}f7r.closePath();if(this.highlighted){z5r=this.highlighted == "p1"?!0:![];this.littleCircle(f7r,i5r,r5r,z5r);}};q7r.Drawing.ellipse.prototype.intersected=function(l5r,S5r,N5r){var P3J,y5r,e5r,p5r,u5r;if(!this.p0 || !this.p1){return null;}if(this.pointIntersection(this.p1["0" & 2147483647],this.p1[1],N5r)){P3J="p";P3J+="1";this.highlighted="p1";return {action:"drag",point:P3J};}y5r=this.p0[+"0"] - (this.p1[0] - this.p0[0]);e5r=this.p1[+"0"];p5r=this.p1[1];K9O.j05(34);var W11=K9O.N05(20,7,22,21);K9O.j05(35);var p11=K9O.N05(2,2,2);K9O.Z9O();K9O.j05(4);var L11=K9O.c05(19,18);u5r=this.p0[W11] - (this.p1[p11] - this.p0[L11]);if(N5r.x0 > Math.max(y5r,e5r) || N5r.x1 < Math.min(y5r,e5r)){return ![];}if(N5r.y1 > Math.max(u5r,p5r) || N5r.y0 < Math.min(u5r,p5r)){return !1;}this.highlighted=! !{};return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:l5r,value:S5r};};q7r.Drawing.ellipse.prototype.configs=[A3J,"fillColor","lineWidth",C3J];q7r.Drawing.ellipse.prototype.reconstruct=function(Z5r,h5r){this.stx=Z5r;this.color=h5r.col;this.fillColor=h5r.fc;this.panelName=h5r.pnl;this.pattern=h5r.ptrn;this.lineWidth=h5r.lw;this.d0=h5r.d0;this.d1=h5r.d1;this.tzo0=h5r.tzo0;this.tzo1=h5r.tzo1;this.v0=h5r.v0;this.v1=h5r.v1;this.adjust();};q7r.Drawing.ellipse.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};};q7r.Drawing.channel=function(){K9O.H9O();this.name="channel";this.dragToDraw=!"1";this.p2=null;};q7r.inheritsFrom(q7r.Drawing.channel,q7r.Drawing.segment);q7r.Drawing.channel.prototype.configs=[V3J,s3J,"lineWidth","pattern"];q7r.Drawing.channel.prototype.move=function(a5r,m5r,M5r){var D5r,i9J,x9J,E9J;if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[m5r,M5r];}else {K9O.j05(36);var F11=K9O.c05(2,4,2,17,20);K9O.V05(37);var r11=K9O.N05(33,7,13,3);K9O.j05(2);var y11=K9O.c05(765333376,382666688);D5r=M5r - (this.p1[F11] - this.p0[r11]) / (this.p1[0] - this.p0["0" ^ 0]) * (m5r - this.p1["0" >> y11]);this.p2=[this.p1[0],D5r];}i9J=73597481;x9J=384768362;E9J=+"2";K9O.H9O();for(var S9J=1;K9O.B0J(S9J.toString(),S9J.toString().length,42270) !== i9J;S9J++){this.render(a5r);E9J+=2;}if(K9O.T0J(E9J.toString(),E9J.toString().length,82790) !== x9J){this.render(a5r);}};q7r.Drawing.channel.prototype.click=function(Q5r,T5r,Y5r){var o5r;o5r=this.stx.panels[this.panelName];if(!o5r){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,T5r,Y5r,o5r.chart);this.penDown=! ![];return !{};}if(this.accidentalClick(T5r,Y5r)){this.stx.undo();return !0;}if(this.p2 !== null){this.setPoint(2,this.p2[0],this.p2["1" - 0],o5r.chart);this.penDown=![];return !0;}this.setPoint(1,T5r,Y5r,o5r.chart);if(this.p0["0" >> 982156704] == this.p1[+"0"]){this.p1=null;return !"1";}this.p2=[this.p1[0],this.p1[+"1"]];return !{};};q7r.Drawing.channel.prototype.boxIntersection=function(F5r,B5r,P5r){var E5r,C5r,X5r,q5r,c5r;E5r=this.p0;C5r=this.p1;X5r=this.p2;if(!E5r || !C5r || !X5r){return !"1";}if(P5r.x0 > Math.max(E5r[0],C5r[0]) || P5r.x1 < Math.min(E5r[0],C5r[0])){return ! !0;}K9O.V05(38);var t11=K9O.c05(20721312000,6,122601095946,9);K9O.j05(2);var j11=K9O.c05(1,0);K9O.V05(39);var g11=K9O.N05(18,14,3);K9O.j05(40);var M11=K9O.c05(21,20,1);q5r=(C5r[0] - E5r[0]) * ((X5r["1" << t11] < E5r[j11]?P5r.y1:P5r.y0) - E5r["1" ^ 0]) - (C5r[g11] - E5r[M11]) * (F5r - E5r[0]);K9O.j05(41);var k11=K9O.c05(4,2,10);K9O.V05(42);var w11=K9O.c05(5,12,14,15);K9O.V05(43);var h11=K9O.c05(14,255,18,0,4);K9O.V05(44);var q11=K9O.N05(285,16,15,18);K9O.j05(41);var Z11=K9O.N05(1,5,10);K9O.j05(2);var f11=K9O.N05(1,0);c5r=(X5r[0] - E5r[0]) * ((X5r[k11] > E5r[+"1"]?P5r.y1:P5r.y0) - (E5r[w11] + X5r[h11] - C5r[q11])) - (C5r[Z11] - E5r[f11]) * (F5r - E5r[0]);K9O.V05(45);return K9O.N05(0,q5r,c5r);};q7r.Drawing.channel.prototype.intersected=function(j5r,L5r,b5r){var G5r,f9J,H9J,v9J;if(!this.p0 || !this.p1 || !this.p2){return null;}G5r={0:this.p0,1:this.p1,2:this.p2};for(var A5r in G5r){if(this.pointIntersection(G5r[A5r][0],G5r[A5r][1],b5r)){K9O.V05(2);this.highlighted=K9O.c05(A5r,"p");return {action:"drag",point:"p" + A5r};}}if(this.boxIntersection(j5r,L5r,b5r)){this.highlighted=!0;return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),p2:q7r.clone(this.p2),tick:j5r,value:L5r};}f9J=1062430895;H9J=-1297264138;v9J=+"2";for(var P2J=+"1";K9O.T0J(P2J.toString(),P2J.toString().length,62678) !== f9J;P2J++){return null;}if(K9O.B0J(v9J.toString(),v9J.toString().length,12491) !== H9J){K9O.V05(22);return K9O.c05("1",1);}};q7r.Drawing.channel.prototype.render=function(t5r){var X3J,g5r,n5r,s5r,H5r,f5r,I5r,x4r,J4r,V5r,R5r,k4r,w4r,i4r;X3J="segm";X3J+="e";X3J+="nt";g5r=this.stx.panels[this.panelName];if(!g5r){return;}n5r=this.stx.pixelFromTick(this.p0[0],g5r.chart);s5r=this.stx.pixelFromTick(this.p1[0],g5r.chart);H5r=this.stx.pixelFromValueAdjusted(g5r,this.p0[0],this.p0["1" >> 650028352]);f5r=this.stx.pixelFromValueAdjusted(g5r,this.p1[0],this.p1[1]);I5r=null;if(this.p2){I5r=this.stx.pixelFromValueAdjusted(g5r,this.p2[0],this.p2[1]);}x4r=this.lineWidth;J4r=this.getLineColor();V5r=this.fillColor;if(this.p2 && V5r && !q7r.isTransparent(V5r) && V5r != "auto"){t5r.beginPath();t5r.moveTo(n5r,H5r);t5r.lineTo(s5r,f5r);t5r.lineTo(s5r,I5r);K9O.V05(46);t5r.lineTo(n5r,K9O.c05(H5r,I5r,f5r));t5r.closePath();t5r.globalAlpha=+"0.2";t5r.fillStyle=V5r;t5r.fill();t5r.globalAlpha=1;}R5r={pattern:this.pattern,lineWidth:x4r};if((this.penDown || this.highlighted) && this.pattern == "none"){R5r.pattern="dotted";}this.stx.plotLine(n5r,s5r,H5r,f5r,J4r,"segment",t5r,g5r,R5r);if(this.p2){K9O.V05(46);this.stx.plotLine(n5r,s5r,K9O.c05(H5r,I5r,f5r),I5r,J4r,X3J,t5r,g5r,R5r);}if(this.highlighted){k4r=this.highlighted == "p0"?! !"1":!"1";w4r=this.highlighted == "p1"?! !{}:![];i4r=this.highlighted == "p2"?! ![]:![];this.littleCircle(t5r,n5r,H5r,k4r);this.littleCircle(t5r,s5r,f5r,w4r);this.littleCircle(t5r,s5r,I5r,i4r);}};q7r.Drawing.channel.prototype.reposition=function(O4r,W4r,d4r,K4r){var J3J,m3J,r4r,U4r,v4r;J3J="d";J3J+="r";J3J+="a";J3J+="g";m3J="m";m3J+="o";m3J+="ve";if(!W4r){return;}r4r=this.stx.panels[this.panelName];U4r=W4r.tick - d4r;v4r=W4r.value - K4r;if(W4r.action == m3J){this.setPoint(0,W4r.p0[0] - U4r,W4r.p0[1] - v4r,r4r.chart);this.setPoint(1,W4r.p1[0] - U4r,W4r.p1[1] - v4r,r4r.chart);this.setPoint(2,W4r.p2[0] - U4r,W4r.p2[1] - v4r,r4r.chart);this.render(O4r);}else if(W4r.action == J3J){this[W4r.point]=[d4r,K4r];this.setPoint(0,this.p0[0],this.p0[1],r4r.chart);this.setPoint(1,this.p1[0],this.p1[1],r4r.chart);this.setPoint(2,this.p2[0],this.p2[1],r4r.chart);this.render(O4r);}};q7r.Drawing.channel.prototype.adjust=function(){var z4r,z0J,U0J,d0J;z4r=this.stx.panels[this.panelName];if(!z4r){return;}z0J=-1710070825;U0J=-199974679;K9O.j05(29);d0J=K9O.c05(2,"2");for(var K0J=1;K9O.B0J(K0J.toString(),K0J.toString().length,24982) !== z0J;K0J++){this.setPoint(+"0",this.d0,this.v0,z4r.chart);d0J+=2;}if(K9O.T0J(d0J.toString(),d0J.toString().length,55250) !== U0J){this.setPoint(1,this.d0,this.v0,z4r.chart);}this.setPoint(1,this.d1,this.v1,z4r.chart);this.setPoint(2,this.d1,this.v2,z4r.chart);K9O.Z9O();;};q7r.Drawing.channel.prototype.reconstruct=function(y4r,N4r){this.stx=y4r;this.color=N4r.col;this.fillColor=N4r.fc;this.panelName=N4r.pnl;this.pattern=N4r.ptrn;this.lineWidth=N4r.lw;this.d0=N4r.d0;this.d1=N4r.d1;this.tzo0=N4r.tzo0;this.tzo1=N4r.tzo1;this.v0=N4r.v0;this.v1=N4r.v1;this.v2=N4r.v2;this.adjust();};q7r.Drawing.channel.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,v2:this.v2};};q7r.Drawing.pitchfork=function(){K9O.Z9O();this.name="pitchfork";this.dragToDraw=!{};this.p2=null;};q7r.inheritsFrom(q7r.Drawing.pitchfork,q7r.Drawing.channel);q7r.Drawing.pitchfork.prototype.configs=["color","lineWidth","pattern"];q7r.Drawing.pitchfork.prototype.move=function(u4r,e4r,p4r){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[e4r,p4r];}else {this.p2=[e4r,p4r];}this.render(u4r);};q7r.Drawing.pitchfork.prototype.intersected=function(m4r,M4r,D4r){var h4r,Z4r,O3J,l3J,Y3J;if(!this.p0 || !this.p1 || !this.p2){return null;}h4r={0:this.p0,1:this.p1,2:this.p2};for(var S4r in h4r){if(this.pointIntersection(h4r[S4r][0],h4r[S4r][1],D4r)){K9O.j05(2);this.highlighted=K9O.c05(S4r,1448 < 5020?(2790,5660) >= (7717,7170)?+"4100" < 227.3?(+"1.04e+3","324.15" * 1):+"0x2047":"p":("0x2492" | 9362,!{}));return {action:"drag",point:"p" + S4r};}}Z4r=this.rays;for(var l4r=0;l4r < Z4r.length;l4r++){O3J="s";O3J+="e";O3J+="gment";l3J="r";l3J+="a";l3J+="y";if(this.lineIntersection(m4r,M4r,D4r,l4r?l3J:O3J,Z4r[l4r][0],Z4r[l4r][1],! ![])){Y3J="m";Y3J+="o";Y3J+="v";Y3J+="e";this.highlighted=! !{};return {action:Y3J,p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),p2:q7r.clone(this.p2),tick:m4r,value:M4r};}}K9O.Z9O();return null;};q7r.Drawing.pitchfork.prototype.render=function(q4r){var a4r,o4r,C4r,c4r,T4r,Y4r,B4r,Q4r,E4r,j4r,L4r,b4r,P4r,A4r,G4r,I3J,F4r,t4r,g4r,s4r,I4r;a4r=this.stx.panels[this.panelName];if(!a4r){return;}o4r=this.stx;C4r=this.p2;if(!C4r){C4r=this.p1;}c4r=o4r.pixelFromTick(this.p0["0" << 693190784],a4r.chart);T4r=o4r.pixelFromTick(this.p1["0" * 1],a4r.chart);Y4r=o4r.pixelFromTick(C4r[0],a4r.chart);B4r=o4r.pixelFromValueAdjusted(a4r,this.p0[0],this.p0[1]);Q4r=o4r.pixelFromValueAdjusted(a4r,this.p1[0],this.p1[1]);E4r=o4r.pixelFromValueAdjusted(a4r,C4r[+"0"],C4r[1]);K9O.H9O();j4r=this.lineWidth;L4r=this.getLineColor();b4r={pattern:this.pattern,lineWidth:j4r};K9O.V05(25);P4r=K9O.c05(1355067360,"50");K9O.j05(47);A4r=K9O.N05(E4r,"2",B4r,Q4r);K9O.V05(18);G4r=K9O.c05(T4r,Y4r,c4r,2);if(G4r < 0){P4r*=-1;}K9O.j05(20);A4r*=K9O.c05(G4r,P4r);K9O.j05(10);this.rays=[[[T4r,Q4r],[Y4r,E4r]],[[c4r,B4r],[K9O.N05(2,T4r,Y4r),K9O.c05(2,Q4r,E4r)]]];if(!(T4r == Y4r && Q4r == E4r)){K9O.j05(4);this.rays.push([[T4r,Q4r],[K9O.c05(T4r,P4r),K9O.c05(Q4r,A4r)]],[[Y4r,E4r],[K9O.N05(Y4r,P4r),K9O.c05(E4r,A4r)]]);}for(var X4r="0" & 2147483647;X4r < this.rays.length;X4r++){I3J="segm";I3J+="en";I3J+="t";F4r=this.rays[X4r];t4r=X4r?"ray":I3J;o4r.plotLine(F4r[0][0],F4r[1][0],F4r[0][1],F4r[1][1],L4r,t4r,q4r,a4r,b4r);}if(this.highlighted){g4r=this.highlighted == "p0"?! ![]:![];s4r=this.highlighted == "p1"?! !{}:! !0;I4r=this.highlighted == "p2"?!0:!"1";this.littleCircle(q4r,c4r,B4r,g4r);this.littleCircle(q4r,T4r,Q4r,s4r);this.littleCircle(q4r,Y4r,E4r,I4r);}};q7r.Drawing.pitchfork.prototype.adjust=function(){var n4r;n4r=this.stx.panels[this.panelName];K9O.H9O();if(!n4r){return;}this.setPoint(0,this.d0,this.v0,n4r.chart);K9O.V05(22);this.setPoint(K9O.N05("1",1),this.d1,this.v1,n4r.chart);this.setPoint(2,this.d2,this.v2,n4r.chart);};q7r.Drawing.pitchfork.prototype.reconstruct=function(f4r,H4r){this.stx=f4r;this.color=H4r.col;this.panelName=H4r.pnl;this.pattern=H4r.ptrn;this.lineWidth=H4r.lw;this.d0=H4r.d0;this.d1=H4r.d1;this.d2=H4r.d2;this.tzo0=H4r.tzo0;this.tzo1=H4r.tzo1;this.tzo2=H4r.tzo2;this.v0=H4r.v0;this.v1=H4r.v1;this.v2=H4r.v2;this.adjust();};q7r.Drawing.pitchfork.prototype.serialize=function(){K9O.H9O();return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};};q7r.Drawing.gartley=function(){K9O.H9O();this.name="gartley";this.dragToDraw=! !0;this.maxSegments=+"4";this.shape=null;this.points=[];};q7r.inheritsFrom(q7r.Drawing.gartley,q7r.Drawing.continuous);q7r.Drawing.gartley.prototype.check=function(R4r,V4r){var o9J,b9J,G9J;if(!V4r){return !"";}o9J=-1513934931;b9J=-1221055876;G9J=+"2";for(var u9J=1;K9O.B0J(u9J.toString(),u9J.toString().length,"99903" - 0) !== o9J;u9J++){if(R4r[0] >= V4r[0] || R4r[1] == V4r[1]){return ! !"";}G9J+=2;}if(K9O.T0J(G9J.toString(),G9J.toString().length,80772) !== b9J){if(R4r[9] > V4r[5] && R4r[9] != V4r[4]){return !"";}}if(this.segment == 1){if(R4r["1" * 1] < V4r[1]){this.shape=(503.85,6986) <= 6860?(419.19,"F"):("6310" & 2147483647) !== 977.12?"M":(6.07e+2,!"1");}else {this.shape="W";}}else if(this.segment == 2){if(this.shape == "M" && R4r[1] < V4r[+"1"]){return !"1";}else if(this.shape == (8355 <= 483.37?!"1":"W") && R4r["1" & 2147483647] > V4r[1]){return ! !"";}else if((V4r[1] - R4r[1]) / (this.points[0][1] - R4r[1]) < 0.618){return !1;}else if((V4r[1] - R4r[1]) / (this.points[0][1] - R4r[1]) >= 0.786){return !{};}}else if(this.segment == 3){if(this.shape == (363 > (+"1567",88.92)?"M":(7960,5240) <= (2612,1320)?(+"3.54e+3",6.66e+3):! ![]) && R4r[1] > V4r[1]){return !{};}else if(this.shape == (46.74 == 7080?100.27 == +"786.9"?(0x1a65,2.60e+3):(4599,6980) < (4330,1623)?!0:(+"1.72e+3",!1):"W") && R4r[1] < V4r[1]){return !{};}else if((V4r[1] - R4r[1]) / (this.points[1][1] - R4r[1]) < 0.618){return ![];}else if((V4r[1] - R4r[1]) / (this.points[1][1] - R4r["1" >> 1366397728]) >= 0.786){return ! !0;}}else if(this.segment == +"4"){if(this.shape == "M" && (R4r[1] < V4r[+"1"] || V4r[1] < this.points[0][1])){return !"1";}else if(this.shape == ((+"1400",+"7250") !== (224.35,313.62)?"W":(0xea,3.44e+3)) && (R4r[1] > V4r[1] || V4r[1] > this.points[0][1])){return !{};}else if((this.points[1][1] - V4r[1]) / (this.points[1][1] - this.points[2][1]) < 1.27){return ! !"";}else if((this.points[1][1] - V4r[1]) / (this.points[1][1] - this.points[2][1]) >= 1.618){return !"1";}}return ! !{};};q7r.Drawing.gartley.prototype.click=function(w8r,x8r,k8r){var J8r,S0J,W0J,p0J;J8r=this.stx.panels[this.panelName];if(!J8r){return;}this.copyConfig();K9O.Z9O();if(!this.penDown){this.setPoint(+"0",x8r,k8r,J8r.chart);this.pts=[];this.penDown=!0;this.segment=1;return ! !0;}if(this.accidentalClick(x8r,k8r)){this.penDown=!"";return !1;}if(this.check(this.p0,this.p1)){if(this.segment == "1" << 1304067872){this.points.push(this.p0);}this.points.push(this.p1);this.setPoint(1,x8r,k8r,J8r.chart);this.segment++;if(this.segment > this.maxSegments){S0J=-1925990037;W0J=1487295659;p0J=2;for(var F0J=1;K9O.B0J(F0J.toString(),F0J.toString().length,10294) !== S0J;F0J++){this.setPoint(9,this.points[4][6],this.points[+"4"][+"2"],J8r.chart);this.penDown=! !{};p0J+=2;}if(K9O.B0J(p0J.toString(),p0J.toString().length,2406) !== W0J){this.setPoint(0,this.points["0" - 0][0],this.points[0][1],J8r.chart);this.penDown=!"1";}return !0;}this.pts.push(this.d1,this.tzo1,this.v1);this.setPoint(0,x8r,k8r,J8r.chart);;}return ![];};q7r.Drawing.gartley.prototype.render=function(W8r){var N3J,i8r,S8r,z8r,h8r,N8r,v8r,Z8r,y8r,K8r,d8r,U8r,e8r,p8r,u8r,l8r;N3J="d";N3J+="o";N3J+="tt";N3J+="ed";i8r=this.stx.panels[this.panelName];if(!i8r){return;}S8r=this.stx.pixelFromTick(this.p0[0],i8r.chart);z8r=this.stx.pixelFromTick(this.p1[0],i8r.chart);h8r=this.stx.pixelFromValueAdjusted(i8r,this.p0[0],this.p0[1]);N8r=this.stx.pixelFromValueAdjusted(i8r,this.p1[0],this.p1[1]);if(this.segment == 2){this.drawDropZone(W8r,0.618 * this.points[0][1] + 0.382 * this.p0[1],0.786 * this.points[0][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == 3){this.drawDropZone(W8r,+"0.618" * this.points[1][1] + ("0.382" - 0) * this.p0["1" * 1],0.786 * this.points["1" >> 1542019584][1] + 0.214 * this.p0[1],this.p0[0]);}else if(this.segment == "4" << 767764512){K9O.j05(48);var H11=K9O.N05(11,119,11);K9O.j05(4);var v11=K9O.c05(11,10);K9O.j05(49);var c11=K9O.c05(3,17,9,8,79);v8r=1.618 * this.points[H11][v11] - 0.618 * this.points[1][c11];if(this.shape == "M"){v8r=Math.max(v8r,this.points[0][1]);}else {v8r=Math.min(v8r,this.points[0][1]);}this.drawDropZone(W8r,v8r,1.27 * this.points[2][1] - 0.27 * this.points["1" | 1][1],this.p0[0]);}Z8r=this.lineWidth;y8r=this.getLineColor();K8r={pattern:this.pattern,lineWidth:Z8r};if((this.penDown || this.highlighted) && this.pattern == "none"){K8r.pattern=N3J;}if(this.segment <= this.maxSegments){this.stx.plotLine(S8r,z8r,h8r,N8r,y8r,this.name,W8r,i8r,K8r);}d8r=this.fillColor;U8r=[];if(this.points.length){W8r.beginPath();for(var r8r=1;r8r < this.points.length && r8r <= 4;r8r++){e8r=this.stx.pixelFromTick(this.points[r8r - 1][+"0"],i8r.chart);p8r=this.stx.pixelFromTick(this.points[r8r][+"0"],i8r.chart);u8r=this.stx.pixelFromValueAdjusted(i8r,this.points[r8r - 1][0],this.points[r8r - 1][1]);l8r=this.stx.pixelFromValueAdjusted(i8r,this.points[r8r]["0" | 0],this.points[r8r][1]);if(r8r == 1){U8r.push(e8r,u8r);}U8r.push(p8r,l8r);this.stx.plotLine(e8r,p8r,u8r,l8r,y8r,this.name,W8r,i8r,K8r);}if(this.points.length == 2 || this.points.length == 4){U8r.push(z8r,N8r);}if(this.points[2]){U8r.push(this.stx.pixelFromTick(this.points[2][0],i8r.chart),this.stx.pixelFromValueAdjusted(i8r,this.points[+"2"][+"0"],this.points[2][1]));}if(d8r && d8r != "auto" && !q7r.isTransparent(d8r)){for(var O8r=0;O8r < U8r.length;O8r+=2){if(O8r === 0){W8r.moveTo(U8r[0],U8r[1]);}W8r.lineTo(U8r[O8r],U8r[O8r + +"1"]);}W8r.fillStyle=d8r;W8r.globalAlpha=+"0.2";W8r.closePath();W8r.fill();W8r.globalAlpha=1;}};};q7r.Drawing.gartley.prototype.lineIntersection=function(a8r,o8r,T8r,Y8r){var m8r,D8r;m8r=this.points;D8r=this.stx.panels[this.panelName];if(m8r.length != this.maxSegments + 1 || !D8r){return ! !"";}for(var M8r=0;M8r < m8r.length - ("1" >> 437716352);M8r++){if(q7r.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,a8r,o8r,T8r,"segment",m8r[M8r],m8r[M8r + 1])){return ! !"1";}}return ![];};q7r.Drawing.gartley.prototype.boxIntersection=function(X8r,F8r,E8r){var C8r,P8r;if(!this.p0 || !this.p1){return !1;}if(E8r.x0 > Math.max(this.p0[0],this.p1[0]) || E8r.x1 < Math.min(this.p0["0" ^ 0],this.p1[0])){return !{};}C8r=Math.min(this.p0[1],this.p1[+"1"]);P8r=Math.max(this.p0[1],this.p1["1" * 1]);for(var Q8r=0;Q8r < this.points.length;Q8r++){C8r=Math.min(C8r,this.points[Q8r][1]);P8r=Math.max(P8r,this.points[Q8r]["1" - 0]);}if(E8r.y1 > P8r || E8r.y0 < C8r){return ! !"";}return !"";};q7r.Drawing.gartley.prototype.reposition=function(b8r,c8r,A8r,G8r){var B8r,j8r,L8r,R9J,Q9J,T9J;if(!c8r){return;}B8r=this.stx.panels[this.panelName];j8r=c8r.tick - A8r;c8r.tick=A8r;L8r=c8r.value - G8r;K9O.H9O();c8r.value=G8r;if(c8r.action == "move"){R9J=1281702126;Q9J=-1072822081;T9J=2;for(var z9J=1;K9O.T0J(z9J.toString(),z9J.toString().length,19795) !== R9J;z9J++){this.pts=[];T9J+=+"2";}if(K9O.T0J(T9J.toString(),T9J.toString().length,46411) !== Q9J){this.pts=[];}for(var q8r=0;q8r < this.points.length;q8r++){this.points[q8r][0]-=j8r;this.points[q8r][1]-=L8r;this.setPoint(1,this.points[q8r][0],this.points[q8r][1],B8r.chart);if(q8r && q8r < this.points.length - +"1"){this.pts.push(this.d1,this.tzo1,this.v1);}this.points[q8r]=this.p1;}this.setPoint(+"0",this.points[0][+"0"],this.points[0][1],B8r.chart);this.render(b8r);;}};q7r.Drawing.gartley.prototype.configs=["color","fillColor","lineWidth","pattern"];q7r.Drawing.gartley.prototype.adjust=function(){var t8r;t8r=this.stx.panels[this.panelName];if(!t8r){return;}this.reconstructPoints();this.setPoint(0,this.d0,this.v0,t8r.chart);this.points.unshift(this.p0);this.setPoint(1,this.d1,this.v1,t8r.chart);this.points.push(this.p1);};q7r.Drawing.gartley.prototype.reconstructPoints=function(){var I8r,s8r;I8r=this.stx.panels[this.panelName];K9O.H9O();if(!I8r){return;}this.points=[];for(var g8r=0;g8r < this.pts.length;g8r+=3){s8r=q7r.strToDateTime(this.pts[g8r]);s8r.setMinutes(s8r.getMinutes() + Number(this.pts[g8r + 1]) - s8r.getTimezoneOffset());this.points.push([this.stx.tickFromDate(q7r.yyyymmddhhmmssmmm(s8r),I8r.chart),this.pts[g8r + 2]]);}};q7r.Drawing.gartley.prototype.reconstruct=function(H8r,n8r){this.stx=H8r;this.color=n8r.col;this.fillColor=n8r.fc;this.panelName=n8r.pnl;this.pattern=n8r.ptrn;this.lineWidth=n8r.lw;this.d0=n8r.d0;this.d1=n8r.d1;this.tzo0=n8r.tzo0;this.tzo1=n8r.tzo1;this.v0=n8r.v0;this.v1=n8r.v1;this.pts=n8r.pts.split((+"6510",4970) <= 5290?",":30.44);this.adjust();};q7r.Drawing.gartley.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1,pts:this.pts.join((352,3020) !== (2650,8120)?",":(! !0,"d"))};};q7r.Drawing.freeform=function(){this.name="freeform";K9O.H9O();this.splineTension=0.3;this.dragToDraw=! !{};};q7r.inheritsFrom(q7r.Drawing.freeform,q7r.Drawing.segment);q7r.Drawing.freeform.prototype.measure=function(){};q7r.Drawing.freeform.prototype.intersected=function(V8r,R8r,f8r){if(f8r.x0 > this.hiX || f8r.x1 < this.lowX){return null;}if(f8r.y1 > this.hiY || f8r.y0 < this.lowY){return null;}this.highlighted=! ![];K9O.H9O();return {action:"move",p0:q7r.clone(this.p0),tick:V8r,value:R8r};};q7r.Drawing.freeform.prototype.reposition=function(i1H,J1H,W1H,r1H){var x1H,k1H,w1H;if(!J1H){return;}K9O.H9O();x1H=this.stx.panels[this.panelName];k1H=J1H.tick - W1H;w1H=J1H.value - r1H;if(J1H.action == "move"){this.setPoint(0,J1H.p0[0] - k1H,J1H.p0["1" - 0] - w1H,x1H.chart);this.adjust();this.render(i1H);}};q7r.Drawing.freeform.prototype.click=function(K1H,v1H,d1H){var U1H,O1H;U1H=this.stx.panels[this.panelName];if(!U1H){return;}if(this.penDown === !1){this.copyConfig();this.startX=Math.round(this.stx.resolveX(this.stx.pixelFromTick(v1H,U1H.chart)));this.startY=Math.round(this.stx.resolveY(this.stx.pixelFromValueAdjusted(U1H,v1H,d1H)));O1H=this.stx.dateFromTick(v1H,U1H.chart,! !{});this.d0=q7r.yyyymmddhhmmssmmm(O1H);this.tzo0=O1H.getTimezoneOffset();this.v0=d1H;this.p0=[q7r.ChartEngine.crosshairX - this.startX,q7r.ChartEngine.crosshairY - this.startY];K9O.j05(29);this.nodes=[this.p0[0],this.p0[K9O.N05(1,"1")]];this.pNodes=[this.p0];this.candleWidth=this.stx.layout.candleWidth;this.multiplier=U1H.yAxis.multiplier;this.interval=this.stx.layout.interval;this.periodicity=this.stx.layout.periodicity;this.tempSplineTension=this.splineTension;this.splineTension=-1;document.body.style.cursor="pointer";this.penDown=! !{};return ![];}this.penDown=!{};this.splineTension=this.tempSplineTension;document.body.style.cursor="auto";return ! ![];};q7r.Drawing.freeform.prototype.move=function(y1H,e1H,p1H){var z1H,N1H;if(!this.penDown){return;}K9O.Z9O();z1H=this.stx.panels[this.panelName];N1H=this.stx.dateFromTick(e1H,z1H.chart,!0);this.d1=q7r.yyyymmddhhmmssmmm(N1H);this.tzo1=N1H.getTimezoneOffset();this.v1=p1H;this.p1=[q7r.ChartEngine.crosshairX - this.startX,z1H.yAxis.flipped?this.startY - q7r.ChartEngine.crosshairY:q7r.ChartEngine.crosshairY - this.startY];if(this.pNodes.length > 2){if(this.p1[0] == this.pNodes[this.pNodes.length - 2][0] && this.p1[0] == this.pNodes[this.pNodes.length - 1][0]){this.pNodes.length--;this.nodes.length-=2;}else if(this.p1[1] == this.pNodes[this.pNodes.length - 2][1] && this.p1[1] == this.pNodes[this.pNodes.length - 1][1]){this.pNodes.length--;this.nodes.length-=2;}}this.nodes.push(this.p1[0],this.p1["1" >> 1622291712]);this.pNodes.push(this.p1);this.render(y1H);return !1;};q7r.Drawing.freeform.prototype.intervalRatio=function(Z1H,u1H,o1H,T1H,S1H,h1H){var l1H,R3J,Q3J;function m1H(q1H,F1H){if(q7r.Market.Symbology.isForexSymbol(F1H)){return +"1440";}return 390;}function D1H(P1H,X1H){K9O.V05(25);return K9O.N05(998705216,"30");}l1H=0;if(Z1H == u1H){l1H=+"1";}else if(!isNaN(Z1H) && !isNaN(u1H)){K9O.V05(20);l1H=K9O.c05(u1H,Z1H);}else if(isNaN(Z1H)){R3J="mon";R3J+="t";R3J+="h";if(Z1H == R3J){if(u1H == "week"){l1H=a1H(S1H,h1H);}else if(u1H == "day"){l1H=D1H(S1H,h1H);}else if(!isNaN(u1H)){l1H=D1H(S1H,h1H) * m1H(S1H,h1H) / u1H;}}else if(Z1H == "week"){if(u1H == "month"){K9O.j05(50);var P01=K9O.c05(3,27,9,0);l1H=P01 / a1H(S1H,h1H);}if(u1H == "day"){l1H=M1H(S1H,h1H);}else if(!isNaN(u1H)){l1H=M1H(S1H,h1H) * m1H(S1H,h1H) / u1H;}}else if(Z1H == "day"){if(u1H == "week"){l1H=("1" | 0) / M1H(S1H,h1H);}else if(u1H == "month"){l1H=+"1" / D1H(S1H,h1H);}else if(!isNaN(u1H)){l1H=m1H(S1H,h1H) / u1H;}}}else if(!isNaN(Z1H)){Q3J="m";Q3J+="o";Q3J+="nt";Q3J+="h";if(u1H == Q3J){l1H=Z1H / (D1H(S1H,h1H) * m1H(S1H,h1H));}else if(u1H == "week"){l1H=Z1H / (M1H(S1H,h1H) * m1H(S1H,h1H));}else if(u1H == "day"){l1H=Z1H / m1H(S1H,h1H);}}function a1H(Y1H,Q1H){K9O.j05(51);return K9O.N05("5",0);}function M1H(E1H,C1H){K9O.H9O();return 5;}K9O.j05(20);l1H*=K9O.c05(T1H,o1H);return l1H;};q7r.Drawing.freeform.prototype.render=function(g1H){var c1H,j1H,s1H,I1H,n1H,L1H,B1H,H1H,b1H,t1H,f1H,G1H;c1H=this.stx.panels[this.panelName];if(!c1H){return;}j1H=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,c1H.chart.symbol);if(j1H === 0){return;}s1H=this.stx.layout.candleWidth / this.candleWidth;I1H=c1H.yAxis.multiplier / this.multiplier;this.setPoint(0,this.d0,this.v0,c1H.chart);n1H=this.stx.pixelFromTick(this.p0[0],c1H.chart);L1H=this.stx.pixelFromValueAdjusted(c1H,this.p0[0],this.p0[1]);B1H=[];H1H=this.lineWidth;b1H=this.getLineColor();t1H={pattern:this.pattern,lineWidth:H1H};for(var A1H=0;A1H < this.pNodes.length;A1H++){f1H=j1H * s1H * this.pNodes[A1H][0] + n1H;K9O.V05(52);var A01=K9O.c05(5,27,20,1);G1H=I1H * this.pNodes[A1H][A01];if(c1H.yAxis.flipped){K9O.j05(4);G1H=K9O.N05(L1H,G1H);}else {G1H+=L1H;}B1H.push(f1H,G1H);}if(!B1H.length){return;}if(this.splineTension < +"0"){this.stx.connectTheDots(B1H,b1H,this.name,g1H,c1H,t1H);}else {this.stx.plotSpline(B1H,this.splineTension,b1H,this.name,g1H,! !1,t1H);}};q7r.Drawing.freeform.prototype.adjust=function(){var V1H,r0H,R1H,w0H,i0H,x0H,W0H,k0H;V1H=this.stx.panels[this.panelName];if(!V1H){return;}r0H=[this.nodes[0],this.nodes[1]];this.pNodes=[r0H];this.lowX=this.nodes[0];this.hiX=this.nodes[0];this.lowY=this.nodes[1];this.hiY=this.nodes[1];for(var J0H="2" * 1;J0H < this.nodes.length;J0H+=2){K9O.j05(2);R1H=[this.nodes[J0H],this.nodes[K9O.N05(1,J0H)]];this.pNodes.push(R1H);this.lowX=Math.min(this.lowX,R1H[+"0"]);this.hiX=Math.max(this.hiX,R1H[0]);this.lowY=Math.max(this.lowY,R1H[1]);this.hiY=Math.min(this.hiY,R1H[1]);}w0H=this.intervalRatio(this.interval,this.stx.layout.interval,this.periodicity,this.stx.layout.periodicity,this.d0,V1H.chart.symbol);if(w0H === 0){return;}i0H=this.stx.layout.candleWidth / this.candleWidth;x0H=V1H.yAxis.multiplier / this.multiplier;K9O.V05(29);this.setPoint(K9O.c05(0,"0"),this.d0,this.v0,V1H.chart);W0H=this.stx.pixelFromTick(this.p0[0],V1H.chart);k0H=this.stx.pixelFromValueAdjusted(V1H,this.p0[+"0"],this.p0[1]);this.lowX=this.stx.tickFromPixel(Math.floor(w0H * i0H * this.lowX) + W0H,V1H.chart);this.hiX=this.stx.tickFromPixel(Math.ceil(w0H * i0H * this.hiX) + W0H,V1H.chart);if(V1H.yAxis.flipped){this.lowY=this.stx.valueFromPixel(k0H - Math.floor(x0H * this.lowY),V1H);this.hiY=this.stx.valueFromPixel(k0H - Math.ceil(x0H * this.hiY),V1H);}else {this.lowY=this.stx.valueFromPixel(Math.floor(x0H * this.lowY) + k0H,V1H);this.hiY=this.stx.valueFromPixel(Math.ceil(x0H * this.hiY) + k0H,V1H);}};q7r.Drawing.freeform.prototype.serialize=function(){return {name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,cw:Number(this.candleWidth.toFixed(4)),mlt:Number(this.multiplier.toFixed(4)),d0:this.d0,tzo0:this.tzo0,v0:this.v0,inter:this.interval,pd:this.periodicity,nodes:this.nodes};};q7r.Drawing.freeform.prototype.reconstruct=function(v0H,U0H){K9O.Z9O();this.stx=v0H;this.color=U0H.col;this.panelName=U0H.pnl;this.pattern=U0H.ptrn;this.lineWidth=U0H.lw;this.candleWidth=U0H.cw;this.multiplier=U0H.mlt;this.d0=U0H.d0;this.tzo0=U0H.tzo0;this.v0=U0H.v0;this.interval=U0H.inter;this.periodicity=U0H.pd;this.nodes=U0H.nodes;this.adjust();};q7r.Drawing.callout=function(){this.name="callout";this.arr=[];this.w=0;this.h=+"0";this.padding=4;this.text="";this.ta=null;K9O.H9O();this.fontSize=0;this.font={};this.stemEntry="";this.defaultWidth=50;K9O.j05(4);this.defaultHeight=K9O.c05("10",0);;};q7r.inheritsFrom(q7r.Drawing.callout,q7r.Drawing.annotation);q7r.Drawing.callout.prototype.configs=["color","fillColor","lineWidth","pattern","font"];q7r.Drawing.callout.prototype.copyConfig=function(O0H){q7r.Drawing.copyConfig(this,O0H);this.borderColor=this.color;};q7r.Drawing.callout.prototype.move=function(d0H,K0H,z0H){if(!this.penDown){return;}this.copyConfig();K9O.Z9O();this.p0=[K0H,z0H];this.render(d0H);};q7r.Drawing.callout.prototype.onChange=function(p0H){var e0H,y0H,N0H;e0H=this.stx.panels[this.panelName];if(!e0H){return;}y0H=p0H.target;this.w=y0H.clientWidth;this.h=y0H.clientHeight;N0H=this.context || this.stx.chart.tempCanvas.context;q7r.clearCanvas(N0H.canvas,this.stx);this.render(N0H);this.edit(N0H);};q7r.Drawing.callout.prototype.render=function(u0H){var n3J,T3J,T0H,F0H,X0H,S0H,l0H,Z0H,h0H,Y0H,Q0H,o0H,M0H,E0H,D0H,C0H,m0H,a0H,B3J,K3J,a3J,d3J,U3J,z3J,q0H;n3J="alp";n3J+="hab";n3J+="etic";T3J="a";T3J+="u";T3J+="t";T3J+="o";this.context=u0H;T0H=this.stx.panels[this.panelName];if(!T0H){return;}F0H=this.stx.pixelFromTick(this.p0[0],T0H.chart);X0H=this.stx.pixelFromValueAdjusted(T0H,this.p0[0],this.p0[1]);if(isNaN(X0H)){return;}u0H.font=this.fontString;u0H.textBaseline="top";S0H=F0H;l0H=X0H;K9O.V05(53);var C01=K9O.c05(1,13,2,15,2);Z0H=this.w / C01;K9O.j05(54);var V01=K9O.N05(16,15,11,12);h0H=this.h / V01;if(this.penDown){Z0H=this.defaultWidth;h0H=this.defaultHeight;if(!h0H){h0H=this.fontSize;}}Y0H=this.lineWidth;if(!Y0H){Y0H=1.1;}Q0H=this.color;if(Q0H == "auto" || q7r.isTransparent(Q0H)){Q0H=this.stx.defaultColor;}o0H=this.borderColor;if(o0H == T3J || q7r.isTransparent(o0H)){o0H=this.stx.defaultColor;}if(this.highlighted){o0H=this.stx.getCanvasColor("stx_highlight_vector");}m0H=Math.min(Math.min(Z0H,h0H) / 2,8);if(this.stem){if(this.stem.t){M0H=this.stx.pixelFromTick(this.stem.t);D0H=this.stx.pixelFromValueAdjusted(T0H,this.stem.t,this.stem.v);}else if(this.stem.x){M0H=S0H;D0H=l0H;S0H+=this.stem.x;l0H+=this.stem.y;}a0H="";if(M0H >= S0H + Z0H){K9O.V05(2);E0H=K9O.N05(Z0H,S0H);a0H=3590 <= (+"8071",7570)?936 > +"8225"?("d",856.57):(736.57,"7199" - 0) < ("8355" & 2147483647,825.51)?! !"":"r":0x1499;}else if(M0H > S0H - Z0H && M0H < S0H + Z0H){E0H=S0H;a0H=(920,441.13) != 4299?"c":3.78e+3;}else if(M0H <= S0H - Z0H){K9O.j05(4);E0H=K9O.N05(S0H,Z0H);a0H=790 !== (5002,5918)?"l":(762.35,! !1);}if(D0H >= l0H + h0H){K9O.V05(2);C0H=K9O.N05(h0H,l0H);a0H+=("8319" ^ 0,+"6470") == (738,5800)?(865.16,!{}):(7760,2020) <= (3210,392.09)?(191.15,0x1597):("352.48" * 1,3500) != 736.2?"b":(!1,5.59e+3);}else if(D0H > l0H - h0H && D0H < l0H + h0H){C0H=l0H;a0H+="m";}else if(D0H <= l0H - h0H){K9O.j05(4);C0H=K9O.c05(l0H,h0H);a0H+="t";}this.stemEntry=a0H;if(a0H != "cm"){M0H=Math.round(M0H);E0H=Math.round(E0H);D0H=Math.round(D0H);C0H=Math.round(C0H);}}if(this.highlighted){B3J="stx_ann";B3J+="otation_highlight_bg";this.stx.canvasColor(B3J,u0H);}else {if(this.fillColor){u0H.fillStyle=this.fillColor;u0H.globalAlpha=0.4;}else if(this.stem){u0H.fillStyle=this.stx.containerColor;}}u0H.strokeStyle=o0H;if(u0H.setLineDash){u0H.setLineDash(q7r.borderPatternToArray(Y0H,this.pattern));u0H.lineDashOffset=0;;}if(o0H){K3J="n";K3J+="on";K3J+="e";a3J="c";a3J+="t";d3J="l";d3J+="t";U3J="r";U3J+="b";z3J="r";z3J+="m";u0H.beginPath();u0H.lineWidth=Y0H;K9O.j05(11);u0H.moveTo(K9O.c05(S0H,m0H,Z0H),K9O.N05(l0H,h0H,K9O.j05(4)));if(this.stemEntry != "rt"){K9O.j05(2);u0H.quadraticCurveTo(K9O.c05(Z0H,S0H),K9O.c05(l0H,h0H,K9O.j05(4)),K9O.c05(Z0H,S0H,K9O.V05(2)),K9O.c05(m0H,h0H,l0H,K9O.V05(3)));;}else {u0H.lineTo(M0H,D0H);K9O.V05(2);u0H.lineTo(K9O.N05(Z0H,S0H),K9O.N05(m0H,h0H,l0H,K9O.V05(3)));}K9O.j05(2);u0H.lineTo(K9O.c05(Z0H,S0H),K9O.N05(m0H,l0H,2,K9O.j05(55)));if(this.stemEntry == z3J){u0H.lineTo(M0H,D0H);}K9O.V05(2);u0H.lineTo(K9O.c05(Z0H,S0H),K9O.N05("2",l0H,m0H,K9O.j05(56)));K9O.V05(2);u0H.lineTo(K9O.N05(Z0H,S0H),K9O.c05(l0H,m0H,h0H,K9O.j05(11)));if(this.stemEntry != U3J){K9O.V05(2);u0H.quadraticCurveTo(K9O.c05(Z0H,S0H),K9O.c05(h0H,l0H,K9O.V05(2)),K9O.c05(S0H,m0H,Z0H,K9O.j05(11)),K9O.c05(h0H,l0H,K9O.j05(2)));;}else {u0H.lineTo(M0H,D0H);K9O.V05(11);u0H.lineTo(K9O.N05(S0H,m0H,Z0H),K9O.N05(h0H,l0H,K9O.j05(2)));}K9O.j05(57);u0H.lineTo(K9O.N05(S0H,2,m0H),K9O.c05(h0H,l0H,K9O.j05(2)));if(this.stemEntry == "cb"){u0H.lineTo(M0H,D0H);}K9O.V05(58);u0H.lineTo(K9O.c05(S0H,"2",m0H),K9O.N05(h0H,l0H,K9O.V05(2)));K9O.j05(3);u0H.lineTo(K9O.N05(m0H,Z0H,S0H),K9O.c05(h0H,l0H,K9O.j05(2)));if(this.stemEntry != "lb"){K9O.V05(4);u0H.quadraticCurveTo(K9O.c05(S0H,Z0H),K9O.N05(h0H,l0H,K9O.V05(2)),K9O.N05(S0H,Z0H,K9O.j05(4)),K9O.N05(l0H,m0H,h0H,K9O.j05(11)));;}else {u0H.lineTo(M0H,D0H);K9O.j05(4);u0H.lineTo(K9O.N05(S0H,Z0H),K9O.N05(l0H,m0H,h0H,K9O.j05(11)));}K9O.V05(4);u0H.lineTo(K9O.c05(S0H,Z0H),K9O.N05(l0H,2,m0H,K9O.V05(57)));if(this.stemEntry == "lm"){u0H.lineTo(M0H,D0H);}K9O.V05(4);u0H.lineTo(K9O.c05(S0H,Z0H),K9O.N05(m0H,l0H,2,K9O.j05(55)));K9O.V05(4);u0H.lineTo(K9O.N05(S0H,Z0H),K9O.c05(m0H,h0H,l0H,K9O.j05(3)));if(this.stemEntry != d3J){K9O.j05(4);u0H.quadraticCurveTo(K9O.N05(S0H,Z0H),K9O.N05(l0H,h0H,K9O.j05(4)),K9O.N05(m0H,Z0H,S0H,K9O.j05(3)),K9O.c05(l0H,h0H,K9O.V05(4)));;}else {u0H.lineTo(M0H,D0H);K9O.j05(3);u0H.lineTo(K9O.N05(m0H,Z0H,S0H),K9O.c05(l0H,h0H,K9O.V05(4)));}K9O.j05(55);u0H.lineTo(K9O.c05(m0H,S0H,2),K9O.N05(l0H,h0H,K9O.V05(4)));if(this.stemEntry == a3J){u0H.lineTo(M0H,D0H);}K9O.j05(57);u0H.lineTo(K9O.c05(S0H,2,m0H),K9O.N05(l0H,h0H,K9O.V05(4)));K9O.j05(11);u0H.lineTo(K9O.c05(S0H,m0H,Z0H),K9O.N05(l0H,h0H,K9O.V05(4)));u0H.fill();u0H.globalAlpha=1;if(this.pattern != K3J){u0H.stroke();}}if(this.highlighted){this.stx.canvasColor("stx_annotation_highlight",u0H);}else {u0H.fillStyle=Q0H;}l0H+=this.padding;if(!this.ta){for(var P0H=0;P0H < this.arr.length;P0H++){u0H.fillText(this.arr[P0H],S0H - Z0H + this.padding,l0H - h0H);l0H+=this.fontSize;}}u0H.textBaseline=n3J;if(this.highlighted && !this.noHandles){q0H=this.highlighted == "p0"?! !"1":! !"";this.littleCircle(u0H,M0H,D0H,q0H);};};q7r.Drawing.callout.prototype.click=function(B0H,A0H,G0H){var c0H;if(this.stx.overXAxis || this.stx.overYAxis){return;}c0H=this.stx.panels[this.panelName];this.copyConfig();this.setPoint(0,A0H,G0H,c0H.chart);if(!this.penDown){this.stem={d:this.d0,v:this.v0};this.penDown=!"";this.adjust();return !"1";}this.adjust();this.edit(B0H);this.penDown=!{};return ![];};q7r.Drawing.callout.prototype.reposition=function(I0H,j0H,g0H,s0H){var L0H,b0H,t0H,o3J;if(!j0H){return;}L0H=this.stx.panels[this.panelName];b0H=j0H.tick - g0H;t0H=j0H.value - s0H;if(j0H.stem){o3J="d";o3J+="r";o3J+="a";o3J+="g";if(j0H.action == o3J){this.stem={d:this.stx.dateFromTick(g0H,L0H.chart,! !{}),v:s0H};}else if(j0H.action == "move"){this.setPoint(0,j0H.p0[0] - b0H,j0H.p0[1] - t0H,L0H.chart);this.stem={d:this.stx.dateFromTick(this.stx.tickFromDate(j0H.stem.d,L0H.chart) - b0H),v:j0H.stem.v - t0H};}this.adjust();}else {this.setPoint(+"0",j0H.p0["0" | 0] - b0H,j0H.p0[1] - t0H,L0H.chart);}this.render(I0H);};q7r.Drawing.callout.prototype.lineIntersection=function(O3H,d3H,U3H,v3H){var x3H,n0H,V0H,k3H,w3H,i3H,H0H,R0H,J3H,W3H,r3H,f0H;x3H=this.stx.panels[this.panelName];K9O.Z9O();n0H=this.stem;V0H=this.p0;k3H=this.stx;if(!V0H || !n0H || !x3H){return ![];}w3H=n0H.t || this.stx.tickFromDate(n0H.d,x3H.chart);i3H={x0:V0H[0],x1:w3H,y0:V0H[1],y1:n0H.v};H0H=q7r.convertBoxToPixels(k3H,this.panelName,i3H);R0H=H0H.x0;J3H=H0H.y0;W3H=H0H.x1;r3H=H0H.y1;if(typeof this.stemEntry == "string"){if(this.stemEntry.indexOf("l") > -1){K9O.V05(59);var s01=K9O.c05(321,8,1,11,17);R0H-=this.w / s01;}else if(this.stemEntry.indexOf("r") > -1){R0H+=this.w / +"2";}if(this.stemEntry.indexOf((+"554",3320) > 5350?(0x2316,+"0x1c66"):"t") > -1){K9O.j05(60);var X01=K9O.c05(3,5,2,6,0);J3H-=this.h / X01;}else if(this.stemEntry.indexOf("b") > -1){K9O.j05(38);var m01=K9O.c05(60428883,5,241715491,12);J3H+=this.h / ("2" >> m01);}}f0H=q7r.convertBoxToPixels(k3H,this.panelName,U3H);return q7r.boxIntersects(f0H.x0,f0H.y0,f0H.x1,f0H.y1,R0H,J3H,W3H,r3H,v3H);};q7r.Drawing.callout.prototype.intersected=function(z3H,y3H,K3H){var N3H,b3J,e3H,p3H,u3H,l3H,S3H,h3H,Z3H;N3H=this.stx.panels[this.panelName];if(!this.p0){return null;}if(this.pointIntersection(this.stem.t,this.stem.v,K3H)){b3J="d";b3J+="ra";b3J+="g";this.highlighted="p0";return {action:b3J,stem:! !1};}K9O.j05(40);var J01=K9O.N05(25,12,2);K9O.Z9O();e3H=this.stx.pixelFromTick(this.p0[0],N3H.chart) - this.w / ("2" * J01);K9O.V05(21);var l01=K9O.N05(20,1,20,2,0);K9O.j05(61);var O01=K9O.N05(3,9,9,0);p3H=this.stx.pixelFromValueAdjusted(N3H,this.p0[0],this.p0[l01]) - this.h / O01;u3H=e3H + this.w;l3H=p3H + this.h;if(this.stem && this.stem.x){e3H+=this.stem.x;u3H+=this.stem.x;p3H+=this.stem.y;l3H+=this.stem.y;}S3H=this.stx.pixelFromTick(z3H,N3H.chart);h3H=this.stx.pixelFromValueAdjusted(N3H,z3H,y3H);if(S3H + K3H.r >= e3H && S3H - K3H.r <= u3H && h3H + K3H.r >= p3H && h3H - K3H.r <= l3H){this.highlighted=! ![];return {p0:q7r.clone(this.p0),tick:z3H,value:y3H};}Z3H=this.lineIntersection(z3H,y3H,K3H,"segment");if(Z3H){this.highlighted=! !"1";return {action:"move",stem:q7r.clone(this.stem),p0:q7r.clone(this.p0),tick:z3H,value:y3H};}return null;};q7r.Drawing.fibonacci=function(){var G3J;G3J="fibonac";G3J+="c";G3J+="i";this.name=G3J;K9O.H9O();this.configurator="fibonacci";};q7r.inheritsFrom(q7r.Drawing.fibonacci,q7r.Drawing.BaseTwoPoint);q7r.Drawing.fibonacci.mapping={trend:"740.14" - 0 === 905.28?("124.71" - 0,505.66):"t",color:(456,2542) < (516,130.98)?!{}:7270 <= (8700,+"6938")?"925.65" - 0:266.01 <= +"3890"?"c":0x1ace,parameters:8670 >= 139?943.24 === 465.87?("s",! ![]):"p":(878.80,"s"),pattern:D3J,opacity:("3280" & 2147483647,168) == 536.68?(1.60e+3,0xd0f):"o",lineWidth:"lw",level:908 > (6243,7924)?("Q","R"):3750 !== (2344,8490)?"l":("c",6.69e+3),extendLeft:"e",printLevels:"pl",printValues:"pv",timezone:u3J,display:1396 == (7760,8179)?"L":(4210,933.54) == (379,+"693")?![]:"d"};K9O.V05(4);q7r.Drawing.fibonacci.prototype.recommendedLevels=[-K9O.c05("0.618",0),-0.382,0,0.382,0.5,0.618,1,1.382,1.618];q7r.Drawing.fibonacci.prototype.configs=["color","fillColor","lineWidth",i3J,"parameters"];q7r.Drawing.fibonacci.prototype.initializeSettings=function(o3H){var D3H,M3H;D3H=this.recommendedLevels;K9O.Z9O();if(D3H && !o3H.currentVectorParameters.fibonacci.fibsAlreadySet){M3H=o3H.currentVectorParameters.fibonacci.fibs;for(var m3H="0" >> 111199520;m3H < M3H.length;m3H++){delete M3H[m3H].display;for(var a3H="0" - 0;a3H < D3H.length;a3H++){if(M3H[m3H].level == D3H[a3H]){M3H[m3H].display=! !{};}}}}};q7r.Drawing.fibonacci.prototype.setOuter=function(){var T3H,Y3H,F3H,q3H,c3H,B3H,A3H,j3H,L3H,E3H,C3H,Q3H,X3H,G3H;T3H=this.stx;Y3H=T3H.panels[this.panelName];if(!Y3H){return;}F3H=Math.max(this.p0[1],this.p1[1]);q3H=Math.min(this.p0[1],this.p1["1" * 1]);K9O.j05(4);c3H=K9O.N05(F3H,q3H);this.outer={p0:q7r.clone(this.p0),p1:q7r.clone(this.p1)};B3H=T3H.pixelFromValueAdjusted(Y3H,this.p0[0],this.p0[+"1"]);A3H=T3H.pixelFromValueAdjusted(Y3H,this.p1[0],this.p1[+"1"]);j3H=T3H.pixelFromTick(this.p0["0" ^ 0],Y3H.chart);L3H=T3H.pixelFromTick(this.p1[0],Y3H.chart);E3H=+"0";C3H=1;for(var P3H=0;P3H < this.parameters.fibs.length;P3H++){Q3H=this.parameters.fibs[P3H];if(Q3H.level >= E3H && Q3H.level <= C3H || !Q3H.display)continue;X3H=T3H.pixelFromValueAdjusted(Y3H,this.p0[0],A3H < B3H?F3H - c3H * Q3H.level:q3H + c3H * Q3H.level);G3H=q7r.xIntersection({x0:j3H,x1:L3H,y0:B3H,y1:A3H},X3H);if(Q3H.level < E3H){E3H=Q3H.level;this.outer.p1[+"1"]=T3H.valueFromPixel(X3H,Y3H);this.outer.p1[0]=T3H.tickFromPixel(G3H,Y3H.chart);}else if(Q3H.level > C3H){C3H=Q3H.level;this.outer.p0[1]=T3H.valueFromPixel(X3H,Y3H);this.outer.p0[0]=T3H.tickFromPixel(G3H,Y3H.chart);}}};q7r.Drawing.fibonacci.prototype.click=function(s3H,t3H,g3H){var b3H;b3H=this.stx.panels[this.panelName];if(!b3H){return;}this.copyConfig();if(!this.penDown){K9O.V05(51);this.setPoint(K9O.N05("0",0),t3H,g3H,b3H.chart);this.penDown=!0;return ! !0;}K9O.H9O();if(this.accidentalClick(t3H,g3H)){return this.dragToDraw;}this.setPoint(1,t3H,g3H,b3H.chart);this.setOuter();this.parameters=q7r.clone(this.parameters);this.penDown=!1;return ! !{};;};q7r.Drawing.fibonacci.prototype.render=function(I3H){var x3J,n3H,N9H,y9H,e9H,S9H,U9H,W9H,R3H,f3H,h9H,Z9H,m9H,o9H,T9H,M9H,Y9H,p9H,v9H,u9H,O9H,r9H,k9H,H3H,K9H,w9H,V3H,Q9H,E3J,d9H,i9H,J9H,D9H,x9H,a9H,E9H,C9H;x3J="a";x3J+="u";x3J+="t";x3J+="o";n3H=this.stx.panels[this.panelName];if(!n3H){return;}N9H=n3H.yAxis;if(!this.p1){return;}y9H=Math.max(this.p0[1],this.p1[1]);e9H=Math.min(this.p0[1],this.p1[1]);S9H=N9H.flipped?e9H - y9H:y9H - e9H;U9H=this.stx.pixelFromTick(this.p0[0],n3H.chart);W9H=this.stx.pixelFromTick(this.p1[0],n3H.chart);R3H=this.stx.pixelFromValueAdjusted(n3H,this.p0[0],this.p0[+"1"]);f3H=this.stx.pixelFromValueAdjusted(n3H,this.p1["0" - 0],this.p1[1]);h9H=Math.min(f3H,R3H);Z9H=Math.max(f3H,R3H);K9O.V05(4);m9H=K9O.c05(Z9H,h9H);K9O.V05(62);o9H=K9O.N05(U9H,0,W9H,f3H,R3H);T9H={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=T9H;}M9H=this.getLineColor(this.parameters.trend.color);I3H.textBaseline="middle";this.stx.canvasFont("stx_yaxis",I3H);K9O.V05(63);var Y01=K9O.c05(5,100,18,1);Y9H=I3H.measureText("161.8%").width + ("10" | Y01);p9H=Number.MAX_VALUE;v9H=Number.MAX_VALUE;K9O.j05(64);var I01=K9O.N05(13,78,0,10,9);u9H=Number.MAX_VALUE * I01;K9O.V05(65);var N01=K9O.N05(16,0,17,3,15);O9H=Number.MAX_VALUE * N01;r9H=this.color;if(r9H == x3J || q7r.isTransparent(r9H)){r9H=this.stx.defaultColor;}this.rays=[];for(var l9H=0;l9H < this.parameters.fibs.length;l9H++){I3H.textAlign="left";I3H.fillStyle=r9H;k9H=this.parameters.fibs[l9H];if(!k9H.display)continue;H3H=this.stx.pixelFromValueAdjusted(n3H,this.p0["0" & 2147483647],f3H < R3H?y9H - S9H * k9H.level:e9H + S9H * k9H.level);K9H=q7r.xIntersection({x0:U9H,x1:W9H,y0:R3H,y1:f3H},H3H);w9H=this.parameters.extendLeft?0:K9H;V3H=n3H.left + n3H.width;if(this.parameters.printLevels){K9O.V05(15);var R01=K9O.c05(990,13,7,4);K9O.V05(18);var Q01=K9O.N05(3,143504323805,13,11099781952);K9O.V05(66);var T01=K9O.c05(74,872,6,4);K9O.j05(67);var B01=K9O.N05(29979,3330,1,29979,1);Q9H=Math.round(k9H.level * R01) / ("10" << Q01) + (520.41 >= (+"7445",T01)?("G",B01):"%");V3H-=Y9H;if(this.parameters.printValues){E3J="s";E3J+="t";E3J+="x_yaxis";I3H.fillStyle=r9H;this.stx.canvasFont(E3J,I3H);;}if(V3H < w9H){I3H.textAlign="right";}I3H.fillText(Q9H,V3H,H3H);if(V3H < w9H){V3H+=5;}else {V3H-=5;}}if(this.parameters.printValues){if(K9H < n3H.width){d9H=this.stx.transformedPriceFromPixel(H3H,n3H);if(N9H.priceFormatter){d9H=N9H.priceFormatter(this.stx,n3H,d9H);}else {d9H=this.stx.formatYAxisPrice(d9H,n3H);}if(I3H == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(n3H,d9H,H3H,r9H,null,I3H);if(I3H == this.stx.chart.context){this.stx.startClip(n3H.name);}}}i9H=k9H.color;if(i9H == "auto" || q7r.isTransparent(i9H)){i9H=this.color;}if(i9H == "auto" || q7r.isTransparent(i9H)){i9H=this.stx.defaultColor;}J9H=k9H.color;if(J9H == "auto" || q7r.isTransparent(J9H)){J9H=this.fillColor;}if(J9H == "auto" || q7r.isTransparent(J9H)){J9H=this.stx.defaultColor;}I3H.fillStyle=J9H;D9H=q7r.clone(k9H.parameters);if(this.highlighted){D9H.opacity=+"1";}this.stx.plotLine(w9H,V3H,H3H,H3H,this.highlighted?M9H:i9H,"segment",I3H,n3H,D9H);this.rays.push([[w9H,H3H],[V3H,H3H]]);I3H.globalAlpha=0.05;I3H.beginPath();I3H.moveTo(V3H,H3H);I3H.lineTo(w9H,H3H);if(w9H){I3H.lineTo(W9H,f3H);}else {I3H.lineTo(w9H,f3H);}I3H.lineTo(V3H,f3H);if(typeof J9H != "undefined"){I3H.fill();}I3H.globalAlpha=1;if(H3H < v9H){p9H=K9H;v9H=H3H;}if(H3H > O9H){u9H=K9H;O9H=H3H;}}for(var z9H=0;z9H <= +"1";z9H++){x9H=o9H?Z9H - m9H * z9H:h9H + m9H * z9H;x9H=Math.round(x9H);if(x9H < v9H){p9H=q7r.xIntersection({x0:U9H,x1:W9H,y0:R3H,y1:f3H},x9H);v9H=x9H;}if(x9H > O9H){u9H=q7r.xIntersection({x0:U9H,x1:W9H,y0:R3H,y1:f3H},x9H);O9H=x9H;}}a9H=q7r.clone(this.parameters.trend.parameters);if(this.highlighted){a9H.opacity=1;}this.stx.plotLine(p9H,u9H,v9H,O9H,M9H,"segment",I3H,n3H,a9H);if(this.highlighted){E9H=this.highlighted == "p0"?! !1:!{};C9H=this.highlighted == "p1"?!"":![];this.littleCircle(I3H,U9H,R3H,E9H);this.littleCircle(I3H,W9H,f3H,C9H);}};q7r.Drawing.fibonacci.prototype.reposition=function(X9H,P9H,F9H,q9H){K9O.H9O();if(!P9H){return;}q7r.Drawing.BaseTwoPoint.prototype.reposition.apply(this,arguments);this.adjust();};q7r.Drawing.fibonacci.prototype.intersected=function(g9H,s9H,I9H){var A9H,G9H,j9H,L9H,b9H,t9H;A9H=this.p0;G9H=this.p1;if(!A9H || !G9H){return null;}j9H={0:A9H,1:G9H};for(var c9H in j9H){if(this.pointIntersection(j9H[c9H]["0" * 1],j9H[c9H][1],I9H)){K9O.j05(2);this.highlighted=K9O.N05(c9H,(993.65,262.81) >= 938.27?(940.43,!{}):"277.98" * 1 >= (8770,3850)?787 == 550.91?736.22:(1.43e+3,1.70e+3):"p");return {action:"drag",point:"p" + c9H};}}L9H=this.outer;b9H=this.rays;t9H=L9H && this.lineIntersection(g9H,s9H,I9H,"segment",L9H.p0,L9H.p1);if(!t9H){for(var B9H=0;B9H < b9H.length;B9H++){if(this.lineIntersection(g9H,s9H,I9H,"ray",b9H[B9H][0],b9H[B9H][1],! !{})){t9H=! !{};break;}}}if(t9H){this.highlighted=! !{};return {action:"move",p0:q7r.clone(A9H),p1:q7r.clone(G9H),tick:g9H,value:s9H};}return null;};q7r.Drawing.fibonacci.prototype.reconstruct=function(H9H,n9H){n9H=q7r.replaceFields(n9H,q7r.reverseObject(q7r.Drawing.fibonacci.mapping));this.stx=H9H;this.parameters=n9H.parameters;if(!this.parameters){this.parameters=q7r.clone(this.stx.currentVectorParameters.fibonacci);}this.color=n9H.col;this.fillColor=n9H.fc;this.panelName=n9H.pnl;this.d0=n9H.d0;this.d1=n9H.d1;this.d2=n9H.d2;this.tzo0=n9H.tzo0;this.tzo1=n9H.tzo1;this.tzo2=n9H.tzo2;this.v0=n9H.v0;this.v1=n9H.v1;this.v2=n9H.v2;this.adjust();};q7r.Drawing.fibonacci.prototype.adjust=function(){var f9H;f9H=this.stx.panels[this.panelName];if(!f9H){return;}K9O.V05(4);K9O.H9O();this.setPoint(K9O.c05("0",0),this.d0,this.v0,f9H.chart);this.setPoint(1,this.d1,this.v1,f9H.chart);this.setOuter();};q7r.Drawing.fibonacci.prototype.serialize=function(){var V9H;K9O.H9O();V9H={name:this.name,parameters:this.parameters,pnl:this.panelName,col:this.color,fc:this.fillColor,d0:this.d0,d1:this.d1,d2:this.d2,tzo0:this.tzo0,tzo1:this.tzo1,tzo2:this.tzo2,v0:this.v0,v1:this.v1,v2:this.v2};return q7r.replaceFields(V9H,q7r.Drawing.fibonacci.mapping);};q7r.Drawing.retracement=function(){K9O.H9O();var e3J;e3J="retracem";e3J+="e";e3J+="nt";this.name=e3J;};q7r.inheritsFrom(q7r.Drawing.retracement,q7r.Drawing.fibonacci);q7r.Drawing.fibprojection=function(){this.name="fibprojection";this.dragToDraw=!"1";this.p2=null;};q7r.inheritsFrom(q7r.Drawing.fibprojection,q7r.Drawing.fibonacci);q7r.Drawing.fibprojection.prototype.recommendedLevels=[0,0.618,1,1.272,+"1.618",2.618,4.236];q7r.Drawing.fibprojection.prototype.click=function(k6H,J6H,x6H){var R9H,G5J,D5J,u5J;R9H=this.stx.panels[this.panelName];if(!R9H){return;}this.copyConfig();if(!this.penDown){this.setPoint(0,J6H,x6H,R9H.chart);this.penDown=! !"1";return ![];}if(this.accidentalClick(J6H,x6H)){this.stx.undo();return ! !1;}K9O.Z9O();if(this.p2 !== null){G5J=-241016187;D5J=1158252257;u5J=2;for(var x5J=1;K9O.B0J(x5J.toString(),x5J.toString().length,81249) !== G5J;x5J++){this.setPoint(2,this.p2[0],this.p2[1],R9H.chart);this.parameters=q7r.clone(this.parameters);return ! ![];}if(K9O.T0J(u5J.toString(),u5J.toString().length,+"61481") !== D5J){this.setPoint(3,this.p2[8],this.p2[8],R9H.chart);this.parameters=q7r.clone(this.parameters);return ![];}}this.setPoint(1,J6H,x6H,R9H.chart);this.p2=[this.p1[0],this.p1[1]];return ![];;};q7r.Drawing.fibprojection.prototype.render=function(w6H){var r3J,S3J,i6H,m6H,D6H,N6H,e6H,u6H,p6H,l6H,d6H,a6H,S6H,o6H,K6H,F3J,L3J,p3J,z6H,W6H,T6H,v6H,r6H,W3J,Y6H,y6H,O6H,U6H,M6H,Z6H,y3J,Q6H,E6H,C6H;r3J="seg";r3J+="ment";S3J="a";S3J+="u";S3J+="to";i6H=this.stx.panels[this.panelName];if(!i6H){return;}m6H=i6H.yAxis;if(!this.p1){return;}K9O.j05(2);var z01=K9O.N05(1,0);K9O.j05(11);var U01=K9O.N05(15,29,15);D6H=this.p1[z01] - this.p0[U01];N6H=this.stx.pixelFromTick(this.p0[0],i6H.chart);e6H=this.stx.pixelFromTick(this.p1[0],i6H.chart);u6H=this.stx.pixelFromValueAdjusted(i6H,this.p0[0],this.p0[1]);p6H=this.stx.pixelFromValueAdjusted(i6H,this.p1[+"0"],this.p1["1" ^ 0]);l6H=null;d6H=null;if(this.p2){l6H=this.stx.pixelFromTick(this.p2[0],i6H.chart);d6H=this.stx.pixelFromValueAdjusted(i6H,this.p2[+"0"],this.p2[1]);}a6H={color:"auto",parameters:{pattern:"solid",opacity:0.25,lineWidth:1}};if(!this.parameters.trend){this.parameters.trend=a6H;}S6H=this.getLineColor(this.parameters.trend.color);w6H.textBaseline="middle";this.stx.canvasFont("stx_yaxis",w6H);K9O.V05(61);var d01=K9O.N05(9,5,2,7);o6H=w6H.measureText("161.8%").width + d01;K6H=this.color;if(K6H == S3J || q7r.isTransparent(K6H)){K6H=this.stx.defaultColor;}if(this.p2){this.rays=[];for(var h6H=0;h6H < this.parameters.fibs.length;h6H++){F3J="s";F3J+="egme";F3J+="nt";L3J="au";L3J+="to";p3J="au";p3J+="t";p3J+="o";w6H.textAlign="left";w6H.fillStyle=K6H;z6H=this.parameters.fibs[h6H];if(!z6H.display)continue;W6H=this.stx.pixelFromValueAdjusted(i6H,this.p2["0" & 2147483647],this.p2[1] + D6H * z6H.level);T6H=q7r.xIntersection({x0:N6H,x1:e6H,y0:u6H,y1:p6H},W6H);v6H=this.parameters.extendLeft?0:N6H;r6H=i6H.left + i6H.width;if(this.parameters.printLevels){W3J="righ";W3J+="t";K9O.j05(68);var a01=K9O.N05(1,1008,854,7,2);K9O.j05(36);var K01=K9O.c05(1,16,1,9,15);K9O.j05(69);var n01=K9O.c05(1,13,74070,1403462,19);K9O.V05(70);var o01=K9O.N05(30450,54811,10,2020,18);K9O.V05(2);var b01=K9O.c05(5703,570);K9O.j05(11);var G01=K9O.c05(92320,86553,3);K9O.V05(71);var D01=K9O.c05(7885,2,14,17,7857);K9O.j05(42);var u01=K9O.c05(63,175,5,189);K9O.V05(39);var i01=K9O.N05(24984,16644,12);K9O.j05(72);var x01=K9O.c05(4,17,134,34,8);K9O.V05(73);var E01=K9O.N05(37857,20,8,9,4735);K9O.j05(74);var e01=K9O.N05(20,13,6130,23);K9O.V05(31);var S01=K9O.N05(52,13,311,2,2);Y6H=Math.round(z6H.level * a01) / K01 + ((n01,214.68) <= (o01,+"851")?"%":(b01,G01) > (D01,u01)?(i01,x01) >= (E01,2030)?(e01,272.86):(S01,! ![]):+"5.10e+3");r6H-=o6H;if(this.parameters.printValues){w6H.fillStyle=K6H;this.stx.canvasFont("stx_yaxis",w6H);;}if(r6H < v6H){w6H.textAlign=W3J;}w6H.fillText(Y6H,r6H,W6H);if(r6H < v6H){r6H+=5;}else {r6H-=5;}}if(this.parameters.printValues){if(T6H < i6H.width){y6H=this.stx.transformedPriceFromPixel(W6H,i6H);if(m6H.priceFormatter){y6H=m6H.priceFormatter(this.stx,i6H,y6H);}else {y6H=this.stx.formatYAxisPrice(y6H,i6H);}if(w6H == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(i6H,y6H,W6H,K6H,null,w6H);if(w6H == this.stx.chart.context){this.stx.startClip(i6H.name);}}}O6H=z6H.color;if(O6H == "auto" || q7r.isTransparent(O6H)){O6H=this.color;}if(O6H == p3J || q7r.isTransparent(O6H)){O6H=this.stx.defaultColor;}U6H=z6H.color;if(U6H == L3J || q7r.isTransparent(U6H)){U6H=this.fillColor;}if(U6H == "auto" || q7r.isTransparent(U6H)){U6H=this.stx.defaultColor;}w6H.fillStyle=U6H;M6H=q7r.clone(z6H.parameters);if(this.highlighted){M6H.opacity=1;}this.stx.plotLine(v6H,r6H,W6H,W6H,this.highlighted?S6H:O6H,F3J,w6H,i6H,M6H);this.rays.push([[v6H,W6H],[r6H,W6H]]);w6H.globalAlpha=0.05;w6H.beginPath();w6H.moveTo(r6H,W6H);w6H.lineTo(v6H,W6H);if(v6H){w6H.lineTo(N6H,d6H);}else {w6H.lineTo(v6H,d6H);}w6H.lineTo(r6H,d6H);if(typeof U6H != "undefined"){w6H.fill();}w6H.globalAlpha=1;}}Z6H=q7r.clone(this.parameters.trend.parameters);if(this.highlighted){Z6H.opacity=1;}this.stx.plotLine(N6H,e6H,u6H,p6H,S6H,"segment",w6H,i6H,Z6H);if(this.p2){this.stx.plotLine(e6H,l6H,p6H,d6H,S6H,r3J,w6H,i6H,Z6H);}if(this.highlighted){y3J="p";y3J+="1";Q6H=this.highlighted == "p0"?! ![]:![];E6H=this.highlighted == y3J?! !"1":!{};C6H=this.highlighted == "p2"?!"":!1;this.littleCircle(w6H,N6H,u6H,Q6H);this.littleCircle(w6H,e6H,p6H,E6H);this.littleCircle(w6H,l6H,d6H,C6H);}};q7r.Drawing.fibprojection.prototype.move=function(F6H,P6H,X6H){if(!this.penDown){return;}this.copyConfig();if(this.p2 === null){this.p1=[P6H,X6H];}else {this.p2=[P6H,X6H];}this.render(F6H);};q7r.Drawing.fibprojection.prototype.reposition=function(G6H,q6H,j6H,L6H){var t3J,c6H,B6H,A6H;t3J="m";t3J+="o";t3J+="v";t3J+="e";if(!q6H){return;}c6H=this.stx.panels[this.panelName];K9O.Z9O();B6H=q6H.tick - j6H;A6H=q6H.value - L6H;if(q6H.action == t3J){this.setPoint(0,q6H.p0[0] - B6H,q6H.p0[1] - A6H,c6H.chart);this.setPoint(1,q6H.p1[0] - B6H,q6H.p1[1] - A6H,c6H.chart);this.setPoint(2,q6H.p2[0] - B6H,q6H.p2[1] - A6H,c6H.chart);this.render(G6H);}else if(q6H.action == "drag"){this[q6H.point]=[j6H,L6H];this.setPoint(0,this.p0[0],this.p0[1],c6H.chart);this.setPoint(1,this.p1[0],this.p1[1],c6H.chart);this.setPoint(2,this.p2[0],this.p2[1],c6H.chart);this.render(G6H);}};q7r.Drawing.fibprojection.prototype.intersected=function(n6H,H6H,f6H){var j3J,t6H,b6H,g6H,V6H,R6H,J2H,g3J,M3J;K9O.Z9O();j3J="se";j3J+="g";j3J+="ment";t6H=this.p0;b6H=this.p1;g6H=this.p2;if(!t6H || !b6H || !g6H){return null;}V6H={0:t6H,1:b6H,2:g6H};for(var s6H in V6H){if(this.pointIntersection(V6H[s6H][0],V6H[s6H][1],f6H)){K9O.j05(2);this.highlighted=K9O.c05(s6H,(5920,1790) != 843.97?"p":8370 !== 8634?("f","G"):"k");return {action:"drag",point:(491 < 1060?"p":"d") + s6H};}}R6H=this.rays;J2H=this.lineIntersection(n6H,H6H,f6H,"segment",t6H,b6H) || this.lineIntersection(n6H,H6H,f6H,j3J,b6H,g6H);if(!J2H){for(var I6H=0;I6H < R6H.length;I6H++){g3J="r";g3J+="a";g3J+="y";if(this.lineIntersection(n6H,H6H,f6H,g3J,R6H[I6H][0],R6H[I6H][1],!0)){J2H=! !{};break;}}}if(J2H){M3J="mov";M3J+="e";this.highlighted=! !"1";return {action:M3J,p0:q7r.clone(t6H),p1:q7r.clone(b6H),p2:q7r.clone(g6H),tick:n6H,value:H6H};}return null;};q7r.Drawing.fibprojection.prototype.adjust=function(){var x2H;x2H=this.stx.panels[this.panelName];if(!x2H){return;}this.setPoint(0,this.d0,this.v0,x2H.chart);this.setPoint(1,this.d1,this.v1,x2H.chart);this.setPoint(2,this.d2,this.v2,x2H.chart);};q7r.Drawing.fibarc=function(){this.name="fibarc";;};q7r.inheritsFrom(q7r.Drawing.fibarc,q7r.Drawing.fibonacci);q7r.Drawing.fibarc.prototype.recommendedLevels=[+"0.382",0.5,0.618,+"1"];q7r.Drawing.fibarc.prototype.setOuter=function(){K9O.H9O();var k2H,w2H,i2H,r2H,U2H,W2H,v2H;k2H=this.stx.panels[this.panelName];if(!k2H){return;}this.outer={p0:q7r.clone(this.p0),p1:q7r.clone(this.p1)};w2H=this.stx.pixelFromValueAdjusted(k2H,this.p0[0],this.p0[+"1"]);i2H=this.stx.pixelFromValueAdjusted(k2H,this.p1[0],this.p1[1]);r2H=this.stx.pixelFromTick(this.p0[0],k2H.chart);U2H=this.stx.pixelFromTick(this.p1[+"0"],k2H.chart);K9O.V05(48);W2H=K9O.N05(w2H,i2H,2);v2H=q7r.xIntersection({x0:r2H,x1:U2H,y0:w2H,y1:i2H},W2H);this.outer.p0[1]=this.stx.valueFromPixel(W2H,k2H);this.outer.p0[+"0"]=this.stx.tickFromPixel(v2H,k2H.chart);};q7r.Drawing.fibarc.prototype.intersected=function(N2H,u2H,d2H){var w3J,l2H,K2H,z2H,h2H,S2H,k3J,m2H,O2H,e2H,Z2H,p2H;w3J="m";w3J+="ove";l2H=this.stx.panels[this.panelName];if(!l2H){return;}K2H=this.p0;z2H=this.p1;h2H=this.outer;if(!K2H || !z2H){return null;}S2H={0:K2H,1:z2H};for(var y2H in S2H){if(this.pointIntersection(S2H[y2H][+"0"],S2H[y2H][1],d2H)){K9O.j05(2);this.highlighted=K9O.c05(y2H,6130 === (840.59,2841)?1770 === (3940,7657)?"v":(+"252.31","r"):"p");return {action:"drag",point:((763.07,7880) <= ("7579" - 0,2487)?(6.52e+3,+"784.19"):"p") + y2H};}}if(this.lineIntersection(N2H,u2H,d2H,"segment",h2H.p0,h2H.p1)){k3J="mo";k3J+="ve";this.highlighted=! !{};return {action:k3J,p0:q7r.clone(K2H),p1:q7r.clone(z2H),tick:N2H,value:u2H};}m2H={x0:K2H[0],x1:z2H[0],y0:K2H[1],y1:z2H[1]};O2H=q7r.convertBoxToPixels(this.stx,this.panelName,m2H);e2H={x:Math.abs(Math.sqrt(2) * (O2H.x1 - O2H.x0)),y:Math.abs(Math.sqrt(2) * (O2H.y1 - O2H.y0))};Z2H=this.stx.pixelFromTick(N2H,l2H.chart);p2H=this.stx.pixelFromValueAdjusted(l2H,N2H,u2H);if(Z2H + d2H.r < O2H.x1 - e2H.x || Z2H - d2H.r > O2H.x1 + e2H.x){return null;}if(p2H + d2H.r < O2H.y1 - e2H.y || p2H - d2H.r > O2H.y1 + e2H.y){return null;}if(O2H.y0 < O2H.y1 && p2H - d2H.r > O2H.y1){return null;}if(O2H.y0 > O2H.y1 && p2H + d2H.r < O2H.y1){return null;}this.highlighted=! !"1";return {action:w3J,p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:N2H,value:u2H};};q7r.Drawing.fibarc.prototype.render=function(M2H){var h3J,D2H,F2H,C2H,T2H,Q2H,o2H,B2H,A2H,G2H,q2H,f3J,Z3J,a2H,b2H,j2H,P2H,t2H,g2H,q3J,E2H,X2H,Y2H,L2H,H3J,s2H,I2H;h3J="mi";h3J+="ddle";D2H=this.stx.panels[this.panelName];if(!D2H){return;}F2H=D2H.yAxis;K9O.Z9O();if(!this.p1){return;}C2H=this.stx.pixelFromTick(this.p0[0],D2H.chart);T2H=this.stx.pixelFromTick(this.p1[0],D2H.chart);Q2H=this.stx.pixelFromValueAdjusted(D2H,this.p0[0],this.p0[1]);o2H=this.stx.pixelFromValueAdjusted(D2H,this.p1[+"0"],this.p1[+"1"]);K9O.V05(75);B2H=K9O.c05(Q2H,o2H);K9O.j05(76);A2H=Math.abs(K9O.N05(Q2H,C2H,T2H,o2H));G2H=this.getLineColor(this.parameters.trend.color);M2H.textBaseline=h3J;this.stx.canvasFont("stx_yaxis",M2H);q2H=this.getLineColor();for(var c2H="0" | 0;c2H < this.parameters.fibs.length;c2H++){f3J="a";f3J+="ut";f3J+="o";Z3J="a";Z3J+="u";Z3J+="to";M2H.fillStyle=q2H;a2H=this.parameters.fibs[c2H];if(a2H.level < +"0" || !a2H.display)continue;K9O.j05(48);var W01=K9O.N05(5,39,8);K9O.V05(48);var p01=K9O.c05(7,68,10);b2H=Math.abs(this.p1[+"1"] - this.p0[W01]) * Math.sqrt(p01) * a2H.level;K9O.V05(11);var L01=K9O.c05(5,8,4);K9O.V05(43);var F01=K9O.c05(14,227,15,0,16);K9O.V05(77);var r01=K9O.c05(2,16,11,15,12);K9O.j05(78);var y01=K9O.c05(19,6,10,4,2);K9O.V05(48);var t01=K9O.c05(4,35,9);j2H=this.p1[L01] + b2H * (B2H?F01:r01) * (F2H.flipped?y01:t01);P2H=this.stx.pixelFromValueAdjusted(D2H,this.p0[0],j2H);t2H=q7r.xIntersection({x0:C2H,x1:T2H,y0:Q2H,y1:o2H},P2H);if(this.parameters.printLevels){M2H.textAlign="center";K9O.V05(48);var j01=K9O.N05(18,144962,8528);K9O.j05(41);var g01=K9O.N05(8320,2,19968);K9O.j05(73);var M01=K9O.N05(15670105706,5,13,18,921770926);K9O.V05(79);var k01=K9O.N05(474,474,8536,4);g2H=Math.round(a2H.level * +"1000") / +"10" + (j01 > g01?"%":("0x1e5d" << M01,k01));if(this.parameters.printValues){q3J="stx";q3J+="_yax";q3J+="i";q3J+="s";M2H.fillStyle=q2H;this.stx.canvasFont(q3J,M2H);;}M2H.fillText(g2H,T2H,Math.round(P2H - 5));}M2H.textAlign="left";if(this.parameters.printValues){if(t2H < D2H.width){E2H=j2H;if(F2H.priceFormatter){E2H=F2H.priceFormatter(this.stx,D2H,E2H);}else {E2H=this.stx.formatYAxisPrice(E2H,D2H);}if(M2H == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(D2H,E2H,P2H,q2H,null,M2H);if(M2H == this.stx.chart.context){this.stx.startClip(D2H.name);}}}X2H=a2H.color;if(X2H == Z3J || q7r.isTransparent(X2H)){X2H=this.getLineColor();}M2H.strokeStyle=this.highlighted?G2H:X2H;Y2H=a2H.color;if(Y2H == f3J || q7r.isTransparent(Y2H)){Y2H=this.fillColor;}if(Y2H == "auto" || q7r.isTransparent(Y2H)){Y2H=this.stx.defaultColor;}M2H.fillStyle=Y2H;M2H.globalAlpha=this.highlighted?+"1":a2H.parameters.opacity;M2H.lineWidth=a2H.parameters.lineWidth;if(M2H.setLineDash){M2H.setLineDash(q7r.borderPatternToArray(M2H.lineWidth,a2H.parameters.pattern));M2H.lineDashOffset=0;;}M2H.save();M2H.beginPath();K9O.j05(20);M2H.scale(K9O.c05(A2H,1),1);K9O.j05(22);M2H.arc(K9O.N05(T2H,A2H),o2H,Math.abs(P2H - o2H),0,Math.PI,!B2H);if(this.pattern != "none"){M2H.stroke();}M2H.globalAlpha=0.05;M2H.fill();M2H.restore();if(M2H.setLineDash){M2H.setLineDash([]);}M2H.globalAlpha=1;}M2H.textAlign="left";L2H=q7r.clone(this.parameters.trend.parameters);if(this.highlighted){L2H.opacity=1;}K9O.V05(80);this.stx.plotLine(T2H,K9O.N05("2",767696352,C2H,T2H),o2H,K9O.N05(Q2H,o2H,2,K9O.j05(48)),G2H,"segment",M2H,D2H,L2H);if(this.highlighted){H3J="p";H3J+="1";s2H=this.highlighted == "p0"?!"":!{};I2H=this.highlighted == H3J?! ![]:! !0;this.littleCircle(M2H,C2H,Q2H,s2H);this.littleCircle(M2H,T2H,o2H,I2H);}};q7r.Drawing.fibfan=function(){this.name="fibfan";;};q7r.inheritsFrom(q7r.Drawing.fibfan,q7r.Drawing.fibonacci);K9O.V05(4);q7r.Drawing.fibfan.prototype.recommendedLevels=[0,0.382,0.5,K9O.c05("0.618",0),K9O.c05(1,"1",K9O.V05(29))];q7r.Drawing.fibfan.prototype.setOuter=function(){};q7r.Drawing.fibfan.prototype.render=function(n2H){var c3J,v3J,f2H,p7H,H2H,x7H,V2H,v7H,u7H,l7H,S7H,Z7H,m7H,d7H,K7H,z7H,i7H,A7J,W7H,J7H,N7H,R2H,r7H,M7H,P7J,O7H,k7H,w7H,h7H,U7H,C7J,D7H,a7H;c3J="16";c3J+="1";c3J+=".8%";v3J="m";v3J+="idd";v3J+="le";f2H=this.stx.panels[this.panelName];if(!f2H){return;}p7H=f2H.yAxis;if(!this.p1){return;}H2H=this.stx.pixelFromTick(this.p0[0],f2H.chart);x7H=this.stx.pixelFromTick(this.p1[0],f2H.chart);V2H=this.stx.pixelFromValueAdjusted(f2H,this.p0[0],this.p0[1]);v7H=this.stx.pixelFromValueAdjusted(f2H,this.p1[0],this.p1[1]);u7H=Math.min(v7H,V2H);l7H=Math.max(v7H,V2H);K9O.j05(4);S7H=K9O.N05(l7H,u7H);K9O.V05(81);Z7H=K9O.c05(v7H,x7H,"0",H2H,2147483647,V2H);m7H=this.getLineColor(this.parameters.trend.color);n2H.textBaseline=v3J;this.stx.canvasFont("stx_yaxis",n2H);K9O.j05(82);var w01=K9O.N05(1501656146,141155677747,5,5,19);d7H=n2H.measureText(c3J).width + ("10" << w01);K7H=Number.MAX_VALUE;K9O.j05(83);var h01=K9O.c05(4,11,3,8,2);z7H=Number.MAX_VALUE * h01;i7H=this.color;if(i7H == "auto" || q7r.isTransparent(i7H)){i7H=this.stx.defaultColor;}this.rays=[];for(var e7H=0;e7H < this.parameters.fibs.length;e7H++){A7J="le";A7J+="ft";n2H.fillStyle=i7H;W7H=this.parameters.fibs[e7H];if(!W7H.display)continue;J7H=this.stx.pixelFromValueAdjusted(f2H,this.p0[0],(this.p0[1] - this.p1[1]) * W7H.level + this.p1[1]);N7H=q7r.xIntersection({x0:x7H,x1:x7H,y0:V2H,y1:v7H},J7H);R2H=f2H.left;if(x7H > H2H){R2H+=f2H.width;}K9O.V05(84);r7H=K9O.c05(V2H,N7H,H2H,R2H,H2H,V2H,J7H);if(H2H > R2H - (this.parameters.printLevels?d7H + 5:0) && x7H > H2H)continue;else if(H2H < R2H + (this.parameters.printLevels?d7H + 5:0) && x7H < H2H)continue;if(this.parameters.printLevels){K9O.V05(28);var q01=K9O.c05(2,250,748);K9O.j05(61);var Z01=K9O.c05(11,4,1,3);K9O.V05(4);var f01=K9O.c05(45360,40320);K9O.V05(85);var H01=K9O.N05(5104,10,5100,1020,11);K9O.j05(2);var v01=K9O.c05(15,286423889);M7H=Math.round(W7H.level * q01) / Z01 + ((f01,441.95) == (H01,"8961" << v01)?("I","u"):"%");if(x7H > H2H){P7J="le";P7J+="ft";R2H-=d7H;n2H.textAlign=P7J;}else {R2H+=d7H;n2H.textAlign="right";}if(this.parameters.printValues){n2H.fillStyle=i7H;this.stx.canvasFont("stx_yaxis",n2H);;}K9O.j05(84);r7H=K9O.N05(V2H,N7H,H2H,R2H,H2H,V2H,J7H);n2H.fillText(M7H,R2H,r7H);if(x7H > H2H){R2H-=5;}else {R2H+=5;}}n2H.textAlign=A7J;if(this.parameters.printValues){if(N7H < f2H.width){O7H=this.stx.transformedPriceFromPixel(J7H,f2H);if(p7H.priceFormatter){O7H=p7H.priceFormatter(this.stx,f2H,O7H);}else {O7H=this.stx.formatYAxisPrice(O7H,f2H);}if(n2H == this.stx.chart.context){this.stx.endClip();}this.stx.createYAxisLabel(f2H,O7H,J7H,i7H,null,n2H);if(n2H == this.stx.chart.context){this.stx.startClip(f2H.name);}}}k7H=W7H.color;if(k7H == "auto" || q7r.isTransparent(k7H)){k7H=this.color;}if(k7H == "auto" || q7r.isTransparent(k7H)){k7H=this.stx.defaultColor;}w7H=W7H.color;if(w7H == "auto" || q7r.isTransparent(w7H)){w7H=this.fillColor;}if(w7H == "auto" || q7r.isTransparent(w7H)){w7H=this.stx.defaultColor;}n2H.fillStyle=w7H;if(this.parameters.printLevels){K9O.j05(84);r7H=K9O.c05(V2H,N7H,H2H,R2H,H2H,V2H,J7H);}h7H=q7r.clone(W7H.parameters);if(this.highlighted){h7H.opacity=+"1";}this.stx.plotLine(H2H,R2H,V2H,r7H,this.highlighted?m7H:k7H,"segment",n2H,f2H,h7H);this.rays.push([[H2H,V2H],[R2H,r7H]]);n2H.globalAlpha=+"0.05";n2H.beginPath();n2H.moveTo(R2H,r7H);n2H.lineTo(H2H,V2H);n2H.lineTo(R2H,V2H);n2H.fill();K9O.j05(22);n2H.globalAlpha=K9O.N05("1",1);if(J7H < K7H){K7H=J7H;}if(J7H > z7H){z7H=J7H;}}for(var y7H=0;y7H <= "1" * 1;y7H++){U7H=Z7H?l7H - S7H * y7H:u7H + S7H * y7H;U7H=Math.round(U7H);if(U7H < K7H){K7H=U7H;}if(U7H > z7H){z7H=U7H;}}if(this.highlighted){C7J="p";C7J+="0";D7H=this.highlighted == C7J?! ![]:!1;a7H=this.highlighted == "p1"?! ![]:! !0;this.littleCircle(n2H,H2H,V2H,D7H);this.littleCircle(n2H,x7H,v7H,a7H);}};q7r.Drawing.fibtimezone=function(){this.name="fibtimezone";K9O.Z9O();;};q7r.inheritsFrom(q7r.Drawing.fibtimezone,q7r.Drawing.fibonacci);q7r.Drawing.fibtimezone.prototype.render=function(o7H){var m7J,X7J,s7J,V7J,T7H,Y7H,P7H,A7H,G7H,c7H,j7H,g7H,L7H,q7H,Q7H,b7H,X7H,F7H,E7H,C7H,B7H,J7J,s7H,I7H,t7H;m7J="se";m7J+="g";m7J+="m";m7J+="ent";X7J="l";X7J+="ef";X7J+="t";s7J="a";s7J+="u";s7J+="t";s7J+="o";V7J="aut";V7J+="o";T7H=this.stx.panels[this.panelName];if(!T7H){return;}if(!this.p1){return;}Y7H=this.stx.pixelFromTick(this.p0[0],T7H.chart);P7H=this.stx.pixelFromTick(this.p1[0],T7H.chart);A7H=this.stx.pixelFromValueAdjusted(T7H,this.p0[0],this.p0[+"1"]);G7H=this.stx.pixelFromValueAdjusted(T7H,this.p1[0],this.p1[1]);c7H=[1,+"0"];j7H=this.getLineColor(this.parameters.trend.color);o7H.textBaseline="middle";K9O.H9O();this.stx.canvasFont("stx_yaxis",o7H);g7H=20;L7H=this.p1[0] - this.p0[0];q7H=this.color;if(q7H == V7J || q7r.isTransparent(q7H)){q7H=this.stx.defaultColor;}o7H.textAlign="center";Q7H=Y7H;b7H=T7H.yAxis.top;X7H=T7H.yAxis.bottom;F7H=0;E7H=this.parameters.timezone.color;if(E7H == s7J || q7r.isTransparent(E7H)){E7H=this.color;}if(E7H == "auto" || q7r.isTransparent(E7H)){E7H=this.stx.defaultColor;}C7H=this.parameters.timezone.color;if(C7H == "auto" || q7r.isTransparent(C7H)){C7H=this.fillColor;}if(C7H == "auto" || q7r.isTransparent(C7H)){C7H=this.stx.defaultColor;}if(this.parameters.printLevels){K9O.V05(4);X7H-=K9O.c05(g7H,7);}B7H=q7r.clone(this.parameters.timezone.parameters);if(this.highlighted){B7H.opacity=1;}do {Q7H=this.stx.pixelFromTick(this.p0[+"0"] + F7H * L7H,T7H.chart);if(Y7H < P7H && Q7H > T7H.left + T7H.width)break;else if(Y7H > P7H && Q7H < T7H.left)break;if(this.parameters.printLevels){o7H.fillStyle=q7H;o7H.fillText(P7H > Y7H?F7H:F7H * -1,Q7H,X7H + +"7");}o7H.fillStyle=C7H;this.stx.plotLine(Q7H,Q7H,0,X7H,this.highlighted?j7H:E7H,"segment",o7H,T7H,B7H);o7H.globalAlpha=0.05;o7H.beginPath();o7H.moveTo(Y7H,b7H);o7H.lineTo(Q7H,b7H);o7H.lineTo(Q7H,X7H);o7H.lineTo(Y7H,X7H);o7H.fill();o7H.globalAlpha=1;K9O.j05(86);var P81=K9O.c05(10,1,11,45,6);F7H=c7H[0] + c7H[P81];c7H.unshift(F7H);}while(L7H);o7H.textAlign=X7J;this.stx.plotLine(Y7H,P7H,A7H,G7H,j7H,m7J,o7H,T7H,B7H);if(this.highlighted){J7J="p";J7J+="1";s7H=this.highlighted == "p0"?! !{}:![];I7H=this.highlighted == J7J?! ![]:! !"";this.littleCircle(o7H,Y7H,A7H,s7H);this.littleCircle(o7H,P7H,G7H,I7H);}else {t7H=this.stx.valueFromPixel(T7H.height / +"2",T7H);this.setPoint(0,this.p0[0],t7H,T7H.chart);this.setPoint(+"1",this.p1[0],t7H,T7H.chart);}};q7r.Drawing.fibtimezone.prototype.intersected=function(J5H,x5H,f7H){var l7J,n7H,V7H,k5H,v5J,c5J,P9J,R7H,w5H;l7J="se";l7J+="gm";l7J+="en";l7J+="t";n7H=this.p0;V7H=this.p1;k5H=this.stx.panels[this.panelName];if(!n7H || !V7H || !k5H){return null;}v5J=-1677549186;K9O.H9O();K9O.j05(87);c5J=K9O.c05(2137392544,"2141486860");P9J=2;for(var C9J=1;K9O.B0J(C9J.toString(),C9J.toString().length,70986) !== v5J;C9J++){R7H={0:n7H,1:V7H};P9J+=2;}if(K9O.B0J(P9J.toString(),P9J.toString().length,3048) !== c5J){R7H={0:n7H,1:V7H};}for(var H7H in R7H){if(this.pointIntersection(R7H[H7H][0],R7H[H7H][1],f7H)){K9O.j05(2);this.highlighted=K9O.c05(H7H,"p");return {action:"drag",point:((+"2630",9230) <= 285.24?("z",+"505.68"):8260 <= 7170?"3986" * 1 == (4597,5216)?"O":(![],"1.32e+3" * 1):"p") + H7H};}}w5H=this.lineIntersection(J5H,x5H,f7H,l7J);if(w5H || f7H.x0 <= this.p0[0] && f7H.x1 >= n7H[0]){this.highlighted=!"";return {action:"move",p0:q7r.clone(n7H),p1:q7r.clone(V7H),tick:J5H,value:x5H};}return null;};q7r.Drawing.arrow_v0=function(){this.name="arrow";K9O.j05(88);K9O.H9O();this.dimension=[+"11",K9O.N05(2147483647,"11")];K9O.j05(87);this.points=[[1160 > (2830,628.51)?"M":2644 === 224.28?! !{}:1.01e+3,K9O.N05(743884032,"3"),0,1230 == (154,1125)?(7269,8267) > 220?502.1 > (1400,9959)?1.11e+2:(0x18ff,473.36):("1.24e+3" - 0,+"0x6ba"):"L",7,0,("7904" >> 2140545248,5480) !== 7775?"L":(7.57e+3,"i"),7,5,3310 < (658.77,1850)?(641,8.07e+3):"L",10,5,"L",K9O.c05(4,"5",K9O.j05(29)),10,"L",+"0",5,"L",3,5,("7703" ^ 0,"2213" << 523120000) < (931.84,259)?(![],176.04):190.15 !== +"1428"?"L":"k",3,0]];};q7r.inheritsFrom(q7r.Drawing.arrow_v0,q7r.Drawing.shape);q7r.Drawing.xcross=function(){this.name="xcross";this.dimension=[7,7];K9O.V05(25);this.points=[[2410 != 512.77?"M":! !{},1,0,"L",3,2,"L",5,K9O.c05(328881152,"0"),53.45 >= 8950?+"3970" > (+"3159",981.94)?(7520,6983) >= 6360?(525.58,! !0):! ![]:"3.87e+2" | 1:"L",K9O.c05("6",0,K9O.V05(4)),+"1","L",4,3,"L",6,5,"L",5,6,"L",3,4,4850 <= (578,+"3056")?8890 != 612.81?+"6478" >= (350,6858)?315.20:!1:6.40e+3:"L",+"1",6,(344.94,"4053" >> 746624928) <= 6513?"L":(5270,8294) > (+"700.22","343.86" * 1)?(158.76,4279) >= (661.44,7810)?855.15:384.11:(16.14,!"1"),0,5,(8460,+"176.68") != 141.42?"L":216.03 > 7110?"Z":"Q",+"2",3,"L",0,1,+"616.91" != 7240?"L":(6.49e+3,0x1d1),1,0]];;};q7r.inheritsFrom(q7r.Drawing.xcross,q7r.Drawing.shape);q7r.Drawing.check=function(){this.name="check";this.dimension=[8,9];K9O.V05(51);this.points=[[(619,+"6450") > 9461?(! !{},"E"):"M",1,5,4107 >= (5420,554.73)?"L":(547.08,9420) == "9400" * 1?4.16e+3:(498.74,910.09) === 8310?(273.94,! !1):(648.17,0x35d),0,6,("8766" & 2147483647,3081) != (390.64,696.85)?"L":!1,K9O.N05("2",0),8,"L",7,K9O.c05(0,"1",K9O.j05(29)),495.78 > 15.73?"L":(795.57,7706) !== (5116,4380)?(3060,9260) > (3790,7346)?("I",3.48e+3):0xf23:302.32,6,0,(8869,5470) == "4842" - 0?"1680" - 0 < 615.76?(0x1080,9.04e+2):"h":"L",+"2",+"6","L",1,5]];;};q7r.inheritsFrom(q7r.Drawing.check,q7r.Drawing.shape);q7r.Drawing.star=function(){this.name="star";this.dimension=[12,12];K9O.V05(88);this.points=[[(857,117.43) < 334.42?"M":7241 != 261.88?248.25 != +"451.73"?("666.25" - 0,6.80e+3):0xfc5:"G",0,4,(+"3179","27.97" - 0) > "6421" - 0?(+"4.45e+3","Q"):"L",4,4,(3781,4136) == (119.83,+"4800")?(12,9711) >= 7135?"867.74" - 0 < 5278?0x257:0xde5:(0x1427,! !{}):"L",5.5,0,8545 < (4627,550)?(7.21e+3,"m"):"L",7,4,(598,2385) != 8390?"L":84.62 < (333.43,9310)?"J":("D",![]),11,4,965.45 != +"5000"?(+"677.57","176.59" - 0) >= 6125?355.53:4233 == 9590?(555.77,0x21d):"L":0x318,+"8",7,6270 !== 3800?257 !== (66,+"3165")?"L":1400 == 7581?(0x17c5,!{}):0x12f3:(45,! ![]),K9O.N05(2147483647,"9"),11,"L",5.5,9,(494.47,2992) == (8109,"578" >> 1878786272)?5640 > 22.51?(6.11e+3,+"3.61e+3"):(!1,+"465.44"):"L",2,11,"L",3,7,"L",0,4]];;};q7r.inheritsFrom(q7r.Drawing.star,q7r.Drawing.shape);q7r.Drawing.heart=function(){this.name="heart";this.dimension=[23,20];K9O.V05(4);this.points=[["M",11,3,(+"9890",9190) > (6330,+"9186")?"B":"g",11,2.4,10,+"0",K9O.N05("6",0),0,"B",0,K9O.c05(862482752,"0",K9O.j05(25)),0,7.5,+"0",7.5,(9080,7581) >= (7830,844.87)?"B":4024 > 9155?!{}:6877 >= 267.37?+"0x260":(!{},"860.51" - 0),K9O.c05(412022144,"0",K9O.V05(25)),+"11",4,15.4,11,19,(+"1594",3108) >= "2530" >> 832349344?(+"2340",721.14) !== (3547,223.32)?"B":(+"9290",+"6950") != 6903?5.25e+3:("z",591):(!1,9.06e+3),K9O.c05(416083488,"18",K9O.j05(87)),15.4,22,11,22,7.5,24.68 != 3860?"B":(725,"8640" ^ 0) >= ("5180" * 1,"1016" * 1)?5805 === (4110,+"7520")?246.94:"A":(+"500.63",! !""),22,7.5,22,0,16,0,9657 <= 4443?(8.94e+3,"l"):"B",13,0,11,2.4,11,3]];K9O.H9O();;};q7r.inheritsFrom(q7r.Drawing.heart,q7r.Drawing.shape);q7r.Drawing.focusarrow=function(){this.name="focusarrow";this.dimension=[7,5];K9O.H9O();this.points=[[(+"7148","505.5" * 1) <= (402.64,754)?(7480,782) == (902.06,426)?(!0,"0x1558" * 1):"M":("m",0x14c2),0,0,(+"8893",4170) === 1970?"z":"L",2,2,("7187" & 2147483647,8230) === ("5943" | 20)?0x262f:(3783,6390) === (204.25,8160)?! ![]:3266 < (483,"2145" * 1)?265.84:"L",0,4,(508,5570) >= (731.58,"15.86" * 1)?"L":(236.53,+"1984") !== (660.71,817.09)?(7717,27.71) === 1690?! !{}:(8.00e+3,0x29b):0x3cc,0,0],[511 < (765,+"8886")?(1600,"1680" | 512) > +"6440"?(! !1,! !"1"):"M":(1.16e+3,706.21),6,0,(3560,"4249" - 0) !== (+"5771",8080)?"L":(7.78e+3,470.68),4,2,360.79 < 306.84?(0x1a1a,296.47):(720,267) < 47.31?(6.12e+3,0x557):"L",6,4,522.22 < (+"216",8250)?"L":(0x1b1d,! ![]),6,0]];;};q7r.inheritsFrom(q7r.Drawing.focusarrow,q7r.Drawing.shape);q7r.Drawing.crossline=function(){K9O.H9O();this.name="crossline";};q7r.inheritsFrom(q7r.Drawing.crossline,q7r.Drawing.horizontal);q7r.extend(q7r.Drawing.crossline.prototype,{measure:function(){},accidentalClick:function(i5H,W5H){return ! !0;},adjust:function(){K9O.Z9O();var r5H;r5H=this.stx.panels[this.panelName];if(!r5H){return;}this.setPoint(+"0",this.d0,this.v0,r5H.chart);this.p1=q7r.clone(this.p0);},intersected:function(v5H,O5H,d5H){var U5H,O7J;if(!this.p0 || !this.p1){return null;}this.p1[+"0"]+=1;U5H=this.lineIntersection(v5H,O5H,d5H,"line");this.p1=q7r.clone(this.p0);if(!U5H){O7J="l";O7J+="ine";this.p1[1]+=1;U5H=this.lineIntersection(v5H,O5H,d5H,O7J);this.p1=q7r.clone(this.p0);if(!U5H){return null;}}this.highlighted=! ![];if(this.pointIntersection(this.p0[0],this.p0[1],d5H)){this.highlighted="p0";}return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:v5H,value:O5H};},render:function(h5H){var Y7J,K5H,y5H,e5H,u5H,n0J,o0J,b0J,Z5H,N5H,z5H,p5H,m5H,l5H,S5H,M5H;Y7J="horizont";Y7J+="al";K5H=this.stx.panels[this.panelName];if(!K5H){return;}y5H=this.stx.pixelFromTick(this.p0[0],K5H.chart);e5H=this.stx.pixelFromValueAdjusted(K5H,this.p0[0],this.p0[1]);u5H=this.getLineColor();n0J=-1056897052;K9O.j05(25);o0J=-K9O.c05(1057206976,"879333566");b0J=2;for(var D0J=1;K9O.B0J(D0J.toString(),D0J.toString().length,33186) !== n0J;D0J++){Z5H={pattern:this.pattern,lineWidth:this.lineWidth};b0J+=2;}if(K9O.B0J(b0J.toString(),b0J.toString().length,1994) !== o0J){Z5H={pattern:this.pattern,lineWidth:this.lineWidth};}K9O.V05(89);this.stx.plotLine(y5H,K9O.c05(y5H,"100"),e5H,e5H,u5H,Y7J,h5H,K5H,Z5H);K9O.V05(89);this.stx.plotLine(y5H,y5H,e5H,K9O.N05(e5H,"100"),u5H,"vertical",h5H,K5H,Z5H);if(this.axisLabel && !this.repositioner){this.stx.endClip();N5H=this.p0[1];if(K5H.chart.transformFunc){N5H=K5H.chart.transformFunc(this.stx,K5H.chart,N5H);}if(K5H.yAxis.priceFormatter){N5H=K5H.yAxis.priceFormatter(this.stx,K5H,N5H);}else {N5H=this.stx.formatYAxisPrice(N5H,K5H);}this.stx.createYAxisLabel(K5H,N5H,e5H,u5H);this.stx.startClip(K5H.name);if(this.p0[+"0"] >= 0 && !this.stx.chart.xAxis.noDraw){z5H=this.stx.dateFromTick(this.p0[0],K5H.chart,! !"1");if(!q7r.ChartEngine.isDailyInterval(this.stx.layout.interval)){K9O.V05(64);var A81=K9O.N05(2,2739368226,913122729,4,8);m5H=z5H.getSeconds() * ("1000" >> A81) + z5H.getMilliseconds();if(c7r.Date && this.stx.displayZone){p5H=new c7r.Date(z5H.getTime(),this.stx.displayZone);z5H=new Date(p5H.getFullYear(),p5H.getMonth(),p5H.getDate(),p5H.getHours(),p5H.getMinutes());z5H=new Date(z5H.getTime() + m5H);}}else {z5H.setHours(0,0,0,0);}l5H=q7r.mmddhhmm(q7r.yyyymmddhhmm(z5H));if(K5H.chart.xAxis.formatter){l5H=K5H.chart.xAxis.formatter(z5H,this.name,null,null,l5H);}else if(this.stx.internationalizer){if(z5H.getHours() !== 0 || z5H.getMinutes() !== 0){S5H=this.stx.internationalizer.monthDay.format(z5H);K9O.j05(48);var C81=K9O.N05(16,110818,7388);K9O.j05(90);var V81=K9O.N05(1,4030,4030,4028,18);K9O.V05(48);var s81=K9O.N05(4,0,1335);K9O.V05(26);var X81=K9O.N05(11,3,4,1);K9O.V05(3);var m81=K9O.c05(12,7,2016);K9O.V05(91);var J81=K9O.c05(7904,18,20,141891,19);K9O.V05(54);var l81=K9O.N05(29,8,9,3208);K9O.V05(92);var O81=K9O.N05(1,11,15,14,3561);K9O.V05(93);var Y81=K9O.N05(4216,4,4935,7,4230);S5H+=((C81,V81) == (+"4283",53.46)?(! ![],149.30):(s81,"828.68" * X81) === (m81,J81)?l81 == O81?("0x269c" - 0,52.18):("D",Y81):" ") + this.stx.internationalizer.hourMinute.format(z5H);}else {S5H=this.stx.internationalizer.yearMonthDay.format(z5H);}l5H=S5H;}this.stx.endClip();this.stx.createXAxisLabel({panel:K5H,txt:l5H,x:y5H,backgroundColor:u5H,color:null,pointed:! !{},padding:"2" << 339432608});this.stx.startClip(K5H.name);}}if(this.highlighted){M5H=this.highlighted == "p0"?!0:!{};this.littleCircle(h5H,y5H,e5H,M5H);}}},! ![]);q7r.Drawing.speedarc=function(){var I7J;I7J="speed";I7J+="a";I7J+="rc";this.name=I7J;this.printLevels=!"";};q7r.inheritsFrom(q7r.Drawing.speedarc,q7r.Drawing.segment);q7r.extend(q7r.Drawing.speedarc.prototype,{defaultOpacity:0.25,configs:["color",N7J,"lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;K9O.Z9O();this.pattern=this.stx.currentVectorParameters.pattern;},intersected:function(D5H,a5H,P5H){var T5H,X5H,R7J,Y5H,Q5H,E5H,C5H;if(!this.p0 || !this.p1){return null;}T5H={0:this.p0,1:this.p1};for(var o5H in T5H){if(this.pointIntersection(T5H[o5H][0],T5H[o5H][1],P5H)){K9O.V05(2);this.highlighted=K9O.N05(o5H,"p");return {action:"drag",point:(523 > (867.18,"2236" | 156)?(8.66e+3,! ![]):5412 >= "960.83" - 0?"p":(+"738.96","u")) + o5H};}}X5H=this.lineIntersection(D5H,a5H,P5H,this.name);if(X5H){R7J="m";R7J+="o";R7J+="v";R7J+="e";this.highlighted=! ![];return {action:R7J,p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:D5H,value:a5H};}K9O.Z9O();Y5H=this.p1[0] - (this.p0[0] - this.p1[0]);Q5H=this.p0[0];E5H=this.p1[1];C5H=this.p0[1];if(D5H > Math.max(Y5H,Q5H) || D5H < Math.min(Y5H,Q5H)){return null;}if(a5H > Math.max(C5H,E5H) || a5H < Math.min(C5H,E5H)){return null;}this.highlighted=! ![];return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:D5H,value:a5H};},render:function(F5H){var T7J,q5H,L5H,B5H,G5H,c5H,t5H,g5H,b5H,A5H,I5H,n5H,s5H,Q7J,H5H,f5H,V5H,R5H;T7J="l";T7J+="e";T7J+="f";T7J+="t";q5H=this.stx.panels[this.panelName];if(!q5H){return;}K9O.Z9O();if(!this.p1){return;}L5H=this.stx.pixelFromTick(this.p0[0],q5H.chart);B5H=this.stx.pixelFromTick(this.p1[0],q5H.chart);G5H=this.stx.pixelFromValueAdjusted(q5H,this.p0[0],this.p0[1]);c5H=this.stx.pixelFromValueAdjusted(q5H,this.p1[0],this.p1[+"1"]);K9O.V05(75);t5H=K9O.N05(G5H,c5H);K9O.V05(76);g5H=Math.abs(K9O.N05(G5H,L5H,B5H,c5H));b5H=this.getLineColor();F5H.strokeStyle=b5H;A5H=this.fillColor;if(A5H == "auto" || q7r.isTransparent(A5H)){A5H=this.stx.defaultColor;}F5H.fillStyle=A5H;if(F5H.setLineDash){F5H.setLineDash(q7r.borderPatternToArray(this.lineWidth,this.pattern));F5H.lineDashOffset=+"0";;}this.stx.canvasFont("stx_yaxis",F5H);for(var j5H=1;j5H < 3;j5H++){K9O.V05(86);var I81=K9O.N05(4,2,10,11,2);K9O.V05(83);var N81=K9O.c05(7,13,16,20,1);K9O.j05(12);var R81=K9O.c05(21,19,13,18);I5H=Math.abs(this.p1[I81] - this.p0[+"1"]) * Math.sqrt(N81) * j5H / R81;K9O.V05(11);var Q81=K9O.N05(12,28,17);K9O.j05(4);var T81=K9O.N05(12,13);K9O.j05(1);var B81=K9O.c05(6,7);K9O.V05(40);var z81=K9O.c05(65,6,11);K9O.j05(35);var U81=K9O.N05(12,11,1);n5H=this.p1[Q81] + I5H * (t5H?T81:B81) * (q5H.yAxis.flipped?z81:U81);s5H=this.stx.pixelFromValueAdjusted(q5H,this.p0["0" * 1],n5H);F5H.save();F5H.beginPath();K9O.j05(20);F5H.scale(K9O.c05(g5H,1),1);K9O.j05(22);F5H.arc(K9O.N05(B5H,g5H),c5H,Math.abs(s5H - c5H),0,Math.PI,!t5H);F5H.globalAlpha=this.highlighted?"1" << 364481824:this.defaultOpacity;if(this.pattern != "none"){F5H.stroke();}F5H.globalAlpha=0.1;F5H.fill();F5H.restore();F5H.globalAlpha=1;if(this.printLevels){Q7J="ce";Q7J+="nt";Q7J+="er";F5H.fillStyle=b5H;F5H.textAlign=Q7J;K9O.j05(2);H5H=K9O.c05("/3",j5H);F5H.fillText(H5H,B5H,Math.round(s5H - 5));F5H.fillStyle=A5H;}}F5H.textAlign=T7J;f5H={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};this.stx.plotLine(L5H,B5H,G5H,c5H,b5H,"segment",F5H,q5H,f5H);if(F5H.setLineDash){F5H.setLineDash([]);}if(this.highlighted){V5H=this.highlighted == "p0"?!0:!"1";R5H=this.highlighted == "p1"?! ![]:!{};this.littleCircle(F5H,L5H,G5H,V5H);this.littleCircle(F5H,B5H,c5H,R5H);}},reconstruct:function(x4H,J4H){var z4J,U4J,d4J;this.stx=x4H;z4J=-2095644363;U4J=40059349;K9O.H9O();d4J=2;for(var K4J=+"1";K9O.B0J(K4J.toString(),K4J.toString().length,29569) !== z4J;K4J++){this.color=J4H.col;this.fillColor=J4H.fc;this.panelName=J4H.pnl;this.pattern=J4H.ptrn;this.lineWidth=J4H.lw;this.d0=J4H.d0;this.d1=J4H.d1;K9O.V05(22);d4J+=K9O.c05("2",1);}if(K9O.T0J(d4J.toString(),d4J.toString().length,79611) !== U4J){this.color=J4H.col;this.fillColor=J4H.fc;this.panelName=J4H.pnl;this.pattern=J4H.ptrn;this.lineWidth=J4H.lw;this.d0=J4H.d0;this.d1=J4H.d1;}this.tzo0=J4H.tzo0;this.tzo1=J4H.tzo1;this.v0=J4H.v0;this.v1=J4H.v1;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,v0:this.v0,v1:this.v1};}},! ![]);q7r.Drawing.speedline=function(){var B7J;B7J="spee";B7J+="dli";B7J+="n";B7J+="e";this.name=B7J;K9O.H9O();this.printLevels=! !1;};q7r.inheritsFrom(q7r.Drawing.speedline,q7r.Drawing.speedarc);q7r.extend(q7r.Drawing.speedline.prototype,{intersected:function(v4H,O4H,d4H){var i4H,W4H,r4H,z7J,U4H;i4H=this.p0;W4H=this.p1;if(!i4H || !W4H){return null;}r4H={0:i4H,1:W4H};for(var k4H in r4H){if(this.pointIntersection(r4H[k4H][0],r4H[k4H][1],d4H)){z7J="dr";z7J+="a";z7J+="g";K9O.j05(2);this.highlighted=K9O.N05(k4H,9190 == 1?156.19:(882.92,8246) == 649.56?("b",149.15):"6519" - 0 > (707.14,86.16)?"p":0x212c);return {action:z7J,point:(8410 == 225.51?(8150,6350) === (263,4730)?"r":(1343,1750) !== (991.64,"3260" - 0)?(958.26,"3.21e+3" >> 1670100192):("4.43e+3" & 2147483647,![]):"p") + k4H};}}U4H=this.rays;for(var w4H=0;w4H < U4H.length;w4H++){if(this.lineIntersection(v4H,O4H,d4H,"ray",U4H[w4H][0],U4H[w4H][+"1"],! !"1")){this.highlighted=! !"1";return {action:"move",p0:q7r.clone(i4H),p1:q7r.clone(W4H),tick:v4H,value:O4H};}}return null;},render:function(K4H){var n7J,a7J,d7J,U7J,p4H,z4H,y4H,N4H,u4H,E4H,h4H,m4H,C4H,P4H,X4H,Y4H,Q4H,e4H,l4H,Z4H,a4H,S4H,D4H,o4H,T4H,K7J,o7J,F4H,q4H;n7J="mi";n7J+="d";n7J+="dl";n7J+="e";a7J="3";a7J+="/";a7J+="2";d7J="2";d7J+="/";K9O.H9O();d7J+="3";U7J="a";U7J+="ut";U7J+="o";p4H=this.stx.panels[this.panelName];if(!p4H){return;}if(!this.p1){return;}z4H=this.stx.pixelFromTick(this.p0[+"0"],p4H.chart);y4H=this.stx.pixelFromTick(this.p1[0],p4H.chart);N4H=this.stx.pixelFromValueAdjusted(p4H,this.p0[0],this.p0[1]);u4H=this.stx.pixelFromValueAdjusted(p4H,this.p1[0],this.p1[1]);this.stx.canvasFont("stx_yaxis",K4H);E4H=this.getLineColor();h4H=this.color;if(h4H == "auto" || q7r.isTransparent(h4H)){h4H=this.stx.defaultColor;}K4H.strokeStyle=h4H;m4H=this.fillColor;if(m4H == U7J || q7r.isTransparent(m4H)){m4H=this.stx.defaultColor;}K4H.fillStyle=m4H;C4H={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};Y4H=["1",d7J,"1/3",a7J,6300 >= (621.82,"5965" & 2147483647)?"8545" >> 46370784 === (824.47,9450)?(3.58e+3,"X"):538.28 >= 242?"3":0x137:0x2592];K9O.j05(20);Q4H=[1,K9O.N05(3,2),K9O.N05(3,1),K9O.c05(2,3),3];e4H=[];this.rays=[];for(var M4H=0;M4H < Q4H.length;M4H++){l4H=Q4H[M4H];if(l4H > 1 && !this.extension)continue;Z4H=this.stx.pixelFromValueAdjusted(p4H,this.p0["0" | 0],this.p0[+"1"] - (this.p0[1] - this.p1[+"1"]) * l4H);if(l4H > 1){a4H=q7r.xIntersection({x0:z4H,x1:y4H,y0:N4H,y1:Z4H},u4H);e4H.push(a4H);}else {a4H=q7r.xIntersection({x0:y4H,x1:y4H,y0:N4H,y1:u4H},Z4H);e4H.push(Z4H);}S4H=l4H > 1?a4H:y4H;D4H=l4H > 1?u4H:Z4H;if(!this.confineToGrid){S4H=p4H.left;if(y4H > z4H){S4H+=p4H.width;}K9O.j05(84);D4H=K9O.N05(N4H,y4H,z4H,S4H,z4H,N4H,Z4H);}if(this.printLevels){if(l4H != 1 || this.extension){K4H.fillStyle=h4H;o4H=0;T4H=0;if(N4H > u4H){T4H=-5;K4H.textBaseline="bottom";}else {K7J="t";K7J+="o";K7J+="p";K9O.j05(29);T4H=K9O.c05(4,"5");K4H.textBaseline=K7J;}if(z4H > y4H){K9O.V05(22);o4H=K9O.c05("5",1);K4H.textAlign="right";}else {o4H=- +"5";K4H.textAlign="left";}if(l4H > 1){K4H.fillText(Y4H[M4H],a4H + (this.confineToGrid?"0" * 1:o4H),u4H);}else {K4H.fillText(Y4H[M4H],y4H,Z4H + (this.confineToGrid?0:T4H));}K4H.fillStyle=m4H;}}this.stx.plotLine(z4H,S4H,N4H,D4H,this.highlighted?E4H:h4H,"segment",K4H,p4H,C4H);if(l4H == +"1"){P4H=S4H;X4H=D4H;}this.rays.push([[z4H,N4H],[S4H,D4H]]);K9O.V05(4);K4H.globalAlpha=K9O.c05("0.1",0);K4H.beginPath();K4H.moveTo(S4H,D4H);K4H.lineTo(z4H,N4H);K4H.lineTo(P4H,X4H);K4H.fill();K4H.globalAlpha=1;}K4H.textAlign="left";K4H.textBaseline=n7J;if(this.confineToGrid){K4H.globalAlpha=0.3;K4H.beginPath();K9O.V05(4);K4H.strokeRect(z4H,N4H,K9O.N05(y4H,z4H),K9O.N05(u4H,N4H));K4H.moveTo(z4H,e4H[1]);K4H.lineTo(y4H,e4H[1]);K4H.moveTo(z4H,e4H[2]);K4H.lineTo(y4H,e4H[2]);if(this.extension){K4H.moveTo(e4H[3],N4H);K4H.lineTo(e4H[+"3"],u4H);K4H.moveTo(e4H["4" & 2147483647],N4H);K4H.lineTo(e4H[4],u4H);}K4H.stroke();K9O.V05(51);K4H.globalAlpha=K9O.c05("1",0);}if(this.highlighted){o7J="p";o7J+="1";F4H=this.highlighted == "p0"?! !{}:!{};q4H=this.highlighted == o7J?! ![]:![];this.littleCircle(K4H,z4H,N4H,F4H);this.littleCircle(K4H,y4H,u4H,q4H);}}},! !{});q7r.Drawing.gannfan=function(){this.name="gannfan";this.printLevels=! !"1";};q7r.inheritsFrom(q7r.Drawing.gannfan,q7r.Drawing.speedline);q7r.extend(q7r.Drawing.gannfan.prototype,{render:function(c4H){var G4H,B4H,j4H,A4H,s4H,J8H,L4H,g4H,x8H,k8H,w8H,V4H,b4H,i8H,R4H,t4H,I4H,H4H,f4H,b7J,W8H,r8H;G4H=this.stx.panels[this.panelName];if(!G4H){return;}if(!this.p1){return;}B4H=this.stx.pixelFromTick(this.p0["0" * 1],G4H.chart);j4H=this.stx.pixelFromTick(this.p1[0],G4H.chart);A4H=this.stx.pixelFromValueAdjusted(G4H,this.p0[0],this.p0[1]);s4H=this.stx.pixelFromValueAdjusted(G4H,this.p1[0],this.p1["1" << 487066016]);this.stx.canvasFont("stx_yaxis",c4H);J8H=this.getLineColor();L4H=this.color;if(L4H == "auto" || q7r.isTransparent(L4H)){L4H=this.stx.defaultColor;}c4H.strokeStyle=L4H;g4H=this.fillColor;if(g4H == "auto" || q7r.isTransparent(g4H)){g4H=this.stx.defaultColor;}c4H.fillStyle=g4H;x8H={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};K9O.V05(20);V4H=[1,+"2",+"3",4,8,K9O.c05(2,1),K9O.c05(3,1),K9O.c05(4,1),K9O.c05(8,1)];this.rays=[];for(var n4H=0;n4H < V4H.length;n4H++){b4H=V4H[n4H];K9O.j05(94);i8H=K9O.N05(b4H,B4H,j4H,B4H);K9O.j05(95);R4H=K9O.c05(A4H,A4H,b4H,s4H);t4H=G4H.left;if(j4H > B4H){t4H+=G4H.width;}K9O.j05(84);I4H=K9O.c05(A4H,j4H,B4H,t4H,B4H,A4H,R4H);if(this.printLevels){c4H.fillStyle=L4H;H4H=0;f4H=0;if(A4H > s4H){f4H=5;c4H.textBaseline="top";}else {f4H=-5;c4H.textBaseline="bottom";}if(B4H > j4H){H4H=5;c4H.textAlign="left";}else {H4H=-5;c4H.textAlign="right";}if(b4H > 1){K9O.j05(2);c4H.fillText(K9O.N05("x1",b4H),K9O.N05(H4H,i8H),s4H);}else {K9O.j05(57);c4H.fillText(K9O.c05("1x",b4H,1),j4H,K9O.c05(f4H,R4H,K9O.V05(2)));}c4H.fillStyle=g4H;}this.stx.plotLine(B4H,t4H,A4H,I4H,this.highlighted?J8H:L4H,"segment",c4H,G4H,x8H);this.rays.push([[B4H,A4H],[t4H,I4H]]);if(b4H == 1){k8H=t4H;w8H=I4H;}c4H.globalAlpha=0.1;c4H.beginPath();c4H.moveTo(t4H,I4H);c4H.lineTo(B4H,A4H);c4H.lineTo(k8H,w8H);c4H.fill();c4H.globalAlpha=1;}c4H.textAlign="left";c4H.textBaseline="middle";if(this.highlighted){b7J="p";b7J+="1";W8H=this.highlighted == "p0"?!"":!1;r8H=this.highlighted == b7J?!"":!"1";this.littleCircle(c4H,B4H,A4H,W8H);this.littleCircle(c4H,j4H,s4H,r8H);}}},!"");q7r.Drawing.timecycle=function(){this.name="timecycle";this.printLevels=! ![];};q7r.inheritsFrom(q7r.Drawing.timecycle,q7r.Drawing.speedarc);q7r.extend(q7r.Drawing.timecycle.prototype,{intersected:function(z8H,N8H,O8H){var U8H,d8H,y8H,K8H,e8H;U8H=this.p0;d8H=this.p1;y8H=this.stx.panels[this.panelName];if(!U8H || !d8H || !y8H){return null;}K8H={0:U8H,1:d8H};for(var v8H in K8H){if(this.pointIntersection(K8H[v8H][0],K8H[v8H][1],O8H)){K9O.j05(2);this.highlighted=K9O.c05(v8H,"p");return {action:"drag",point:(2860 == (+"159.29",548.81)?6.52e+3:"p") + v8H};}}e8H=this.lineIntersection(z8H,N8H,O8H,"segment");if(e8H || O8H.x0 <= this.p0[0] && O8H.x1 >= U8H[0]){this.highlighted=! !{};return {action:"move",p0:q7r.clone(U8H),p1:q7r.clone(d8H),tick:z8H,value:N8H};}return null;},render:function(p8H){var G7J,u8H,S8H,D8H,Y8H,Q8H,o8H,E8H,q8H,C8H,l8H,P8H,m8H,M8H,a8H,X8H,h8H,T8H,c8H,D7J,B8H,A8H,V9J,s9J,X9J,F8H;G7J="le";G7J+="ft";u8H=this.stx.panels[this.panelName];if(!u8H){return;}if(!this.p1){return;}S8H=this.stx.pixelFromTick(this.p0[0],u8H.chart);D8H=this.stx.pixelFromTick(this.p1["0" * 1],u8H.chart);Y8H=this.stx.pixelFromValueAdjusted(u8H,this.p0[+"0"],this.p0[1]);Q8H=this.stx.pixelFromValueAdjusted(u8H,this.p1[0],this.p1[+"1"]);K9O.j05(25);o8H=K9O.c05(2037579584,"0");E8H=this.getLineColor();p8H.textBaseline="middle";this.stx.canvasFont("stx_yaxis",p8H);K9O.V05(88);q8H=K9O.N05(2147483647,"20");C8H=this.p1[0] - this.p0[0];p8H.textAlign="center";l8H=S8H;P8H=u8H.yAxis.top;m8H=u8H.yAxis.bottom;M8H=this.color;if(M8H == "auto" || q7r.isTransparent(M8H)){M8H=this.stx.defaultColor;}a8H=this.fillColor;if(a8H == "auto" || q7r.isTransparent(a8H)){a8H=this.stx.defaultColor;}if(this.printLevels){K9O.j05(4);m8H-=K9O.c05(q8H,7);}X8H={pattern:this.pattern,lineWidth:this.lineWidth,opacity:this.highlighted?1:this.defaultOpacity};h8H=[];p8H.save();p8H.fillStyle=a8H;p8H.globalAlpha=0.05;do {l8H=this.stx.pixelFromTick(this.p0[0] + o8H * C8H,u8H.chart);o8H++;if(S8H < D8H && l8H > u8H.left + u8H.width)break;else if(S8H > D8H && l8H < u8H.left)break;else if(l8H < u8H.left || l8H > u8H.left + u8H.width)continue;p8H.beginPath();p8H.moveTo(S8H,P8H);p8H.lineTo(l8H,P8H);p8H.lineTo(l8H,m8H);p8H.lineTo(S8H,m8H);p8H.fill();h8H.push({c:o8H,x:l8H});}while(C8H);p8H.globalAlpha=+"1";K9O.V05(88);T8H=K9O.N05(2147483647,"0");for(var Z8H=0;Z8H < h8H.length;Z8H++){this.stx.plotLine(h8H[Z8H].x,h8H[Z8H].x,"0" - 0,m8H,this.highlighted?E8H:M8H,"segment",p8H,u8H,X8H);if(this.printLevels){p8H.fillStyle=M8H;K9O.V05(11);var d81=K9O.c05(1,0,2);c8H=this.stx.chart.context.measureText(h8H[Z8H].c).width + d81;if(c8H < this.stx.layout.candleWidth + T8H){p8H.fillText(h8H[Z8H].c,h8H[Z8H].x,m8H + 7);T8H=0;}else {T8H+=this.stx.layout.candleWidth;}}}p8H.restore();p8H.textAlign=G7J;this.stx.plotLine(S8H,D8H,Y8H,Q8H,E8H,"segment",p8H,u8H,X8H);if(this.highlighted){D7J="p";D7J+="1";B8H=this.highlighted == "p0"?! !1:! !0;A8H=this.highlighted == D7J?!0:![];K9O.j05(25);V9J=-K9O.N05(1592480416,"2045357909");s9J=+"511293137";K9O.j05(29);X9J=K9O.c05(0,"2");for(var J9J="1" | 1;K9O.B0J(J9J.toString(),J9J.toString().length,17902) !== V9J;J9J++){this.littleCircle(p8H,S8H,Y8H,B8H);X9J+=2;}if(K9O.T0J(X9J.toString(),X9J.toString().length,48361) !== s9J){this.littleCircle(p8H,S8H,Y8H,B8H);}this.littleCircle(p8H,D8H,Q8H,A8H);}else {F8H=this.stx.valueFromPixel(u8H.height / 2,u8H);this.setPoint(0,this.p0[0],F8H,u8H.chart);this.setPoint(1,this.p1[+"0"],F8H,u8H.chart);}}},! !{});q7r.Drawing.regression=function(){this.name="regression";};q7r.inheritsFrom(q7r.Drawing.regression,q7r.Drawing.segment);q7r.extend(q7r.Drawing.regression.prototype,{configs:["color","lineWidth","pattern","active1","color1","lineWidth1",u7J,i7J,"color2","lineWidth2","pattern2","active3","color3","lineWidth3",x7J],copyConfig:function(j8H){var S7J,e7J,E7J,G8H;S7J="aut";S7J+="o";e7J="aut";e7J+="o";E7J="aut";E7J+="o";q7r.Drawing.copyConfig(this,j8H);G8H=this.stx.currentVectorParameters;this.active1=! !G8H.active1;this.active2=! !G8H.active2;this.active3=! !G8H.active3;this.color1=G8H.color1 || E7J;this.color2=G8H.color2 || e7J;this.color3=G8H.color3 || S7J;this.lineWidth1=G8H.lineWidth1;this.lineWidth2=G8H.lineWidth2;this.lineWidth3=G8H.lineWidth3;this.pattern1=G8H.pattern1;this.pattern2=G8H.pattern2;this.pattern3=G8H.pattern3;},$controls:['cq-cvp-controller[cq-cvp-header="1"]','cq-cvp-controller[cq-cvp-header="2"]','cq-cvp-controller[cq-cvp-header="3"]'],click:function(f8H,t8H,g8H){var b8H,L8H,s8H,I8H;if(t8H < 0){return;}this.copyConfig();K9O.H9O();b8H=this.stx.panels[this.panelName];if(!this.penDown){this.setPoint(0,t8H,g8H,b8H.chart);this.penDown=!"";L8H=this.stx;this.field=L8H.highlightedDataSetField;if(!this.field && b8H != L8H.chart.panel){for(var n8H in L8H.chart.seriesRenderers){s8H=L8H.chart.seriesRenderers[n8H];if(s8H.params.panel == b8H.name){this.field=s8H.seriesParams["0" - 0].field;break;}}for(var H8H in L8H.layout.studies){I8H=L8H.layout.studies[H8H];if(I8H.panel == b8H.name){this.field=Object.keys(I8H.outputMap)[0];break;}}}return ! !0;}if(this.accidentalClick(t8H,g8H)){return this.dragToDraw;}this.setPoint(1,t8H,g8H,b8H.chart);this.penDown=![];return ! ![];;},getYValue:function(i1Z){var J1Z,x1Z,k1Z,W1Z,R8H,V8H,w1Z,Z4J,f4J,H4J;J1Z=this.stx.chart.dataSet[i1Z];x1Z=this.stx.chart.dataSet[i1Z];if(!J1Z){return null;}k1Z=this.stx.panels[this.panelName];W1Z=this.stx.getYAxisByField(k1Z,this.field) || k1Z.yAxis;if(this.stx.charts[k1Z.name] && k1Z.chart.transformFunc && W1Z == k1Z.yAxis){x1Z=J1Z.transform;}K9O.Z9O();if(!x1Z){return null;}R8H=null;V8H=null;w1Z=this.stx.defaultPlotField || "Close";if(this.field){V8H=q7r.existsInObjectChain(x1Z,this.field);Z4J=- +"144251900";f4J=315657989;H4J=2;for(var c4J=1;K9O.B0J(c4J.toString(),c4J.toString().length,"15982" << 1509806304) !== Z4J;c4J++){if(~V8H){return 1;}H4J+=2;}if(K9O.T0J(H4J.toString(),H4J.toString().length,14998) !== f4J){if(!V8H){return null;}}R8H=V8H=V8H.obj[V8H.member];if(J1Z != x1Z){R8H=q7r.existsInObjectChain(J1Z,this.field);R8H=R8H.obj[R8H.member];}if(typeof V8H == "object"){V8H=V8H[w1Z];R8H=R8H[w1Z];}}else {V8H=x1Z[w1Z];R8H=J1Z[w1Z];}return {transformed:V8H,untransformed:R8H};},render:function(N1Z){var L7J,p7J,W7J,U1Z,O1Z,d1Z,M1Z,y1Z,D1Z,e1Z,l1Z,E1Z,C1Z,P1Z,X1Z,S1Z,a1Z,r1Z,K1Z,F1Z,q1Z,h1Z,Z1Z,c1Z,m1Z,o1Z,T1Z,M0J,k0J,w0J,p1Z,u1Z,Y1Z,Q1Z,A1Z,B1Z,G1Z,z1Z,I2J,N2J,R2J,m2J,J2J,l2J,F7J,j1Z,L1Z;L7J="se";L7J+="gm";L7J+="e";L7J+="nt";p7J="se";p7J+="gm";p7J+="e";p7J+="nt";W7J="s";W7J+="egme";W7J+="nt";U1Z=this.stx.panels[this.panelName];if(!U1Z){return;}if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[0] < 0){return;}O1Z=this.stx.pixelFromTick(this.p0[0],U1Z.chart);d1Z=this.stx.pixelFromTick(this.p1[0],U1Z.chart);if(O1Z < U1Z.left && d1Z < U1Z.left){return;}if(O1Z > U1Z.right && d1Z > U1Z.right){return;}M1Z=this.stx.getYAxisByField(U1Z,this.field);y1Z=[];D1Z=[];e1Z=0;l1Z=0;E1Z=+"0";C1Z=0;P1Z=Math.min(this.p1[0],this.p0[0]);K9O.V05(78);var a81=K9O.c05(11,75,10,17,7);X1Z=Math.max(this.p1[0],this.p0[0]) + a81;K9O.V05(4);S1Z=K9O.c05(X1Z,P1Z);for(var v1Z=P1Z;v1Z < X1Z;v1Z++){a1Z=this.getYValue(v1Z);if(a1Z){y1Z.push(a1Z.transformed);D1Z.push(a1Z.untransformed);}}r1Z=y1Z.length;K9O.V05(96);K1Z=K9O.N05(1,2,r1Z,r1Z);F1Z=Math.pow(K1Z,2);K9O.V05(97);q1Z=K9O.c05(2,K1Z,"1",r1Z,3);for(v1Z="0" >> 1508429184;v1Z < r1Z;v1Z++){E1Z+=r1Z * y1Z[v1Z] - e1Z;e1Z+=y1Z[v1Z];C1Z+=r1Z * D1Z[v1Z] - l1Z;l1Z+=D1Z[v1Z];}K9O.j05(98);h1Z=K9O.c05(e1Z,E1Z,r1Z,q1Z,r1Z,K1Z,F1Z);K9O.j05(99);Z1Z=K9O.N05(K1Z,h1Z,r1Z,e1Z);K9O.V05(98);c1Z=K9O.N05(l1Z,C1Z,r1Z,q1Z,r1Z,K1Z,F1Z);K9O.j05(99);m1Z=K9O.N05(K1Z,h1Z,r1Z,l1Z);if(this.p0[0] < this.p1[0]){M0J=603093685;k0J=-1336713551;w0J=2;for(var q0J=+"1";K9O.B0J(q0J.toString(),q0J.toString().length,29634) !== M0J;q0J++){o1Z=Z1Z;K9O.j05(39);T1Z=K9O.N05(h1Z,Z1Z,S1Z);this.p0[8]=m1Z;w0J+=2;}if(K9O.T0J(w0J.toString(),w0J.toString().length,20111) !== k0J){o1Z=Z1Z;K9O.j05(100);T1Z=K9O.c05(Z1Z,h1Z,S1Z);this.p0[2]=m1Z;}o1Z=Z1Z;K9O.j05(101);T1Z=K9O.c05(h1Z,Z1Z,S1Z);K9O.j05(25);this.p0[K9O.N05(1309112032,"1")]=m1Z;K9O.V05(101);this.p1[1]=K9O.N05(c1Z,m1Z,S1Z);}else {K9O.j05(101);o1Z=K9O.N05(h1Z,Z1Z,S1Z);T1Z=Z1Z;K9O.V05(101);this.p0[1]=K9O.N05(c1Z,m1Z,S1Z);this.p1[1]=m1Z;}p1Z=this.stx.pixelFromTransformedValue(o1Z,U1Z,M1Z);u1Z=this.stx.pixelFromTransformedValue(T1Z,U1Z,M1Z);Y1Z=this.getLineColor();Q1Z={pattern:this.pattern,lineWidth:this.lineWidth};this.stx.plotLine(O1Z,d1Z,p1Z,u1Z,Y1Z,W7J,N1Z,U1Z,Q1Z);K9O.V05(4);this.stx.plotLine(O1Z,O1Z,K9O.N05(p1Z,20),K9O.N05(20,p1Z,K9O.j05(2)),Y1Z,p7J,N1Z,U1Z,Q1Z);K9O.j05(4);this.stx.plotLine(d1Z,d1Z,K9O.c05(u1Z,20),K9O.c05(20,u1Z,K9O.j05(2)),Y1Z,L7J,N1Z,U1Z,Q1Z);K9O.Z9O();if(this.active1 || this.active2 || this.active3){K9O.V05(20);A1Z=K9O.c05(r1Z,e1Z);B1Z=0;for(v1Z=0;v1Z < r1Z;v1Z++){B1Z+=Math.pow(y1Z[v1Z] - A1Z,2);}K9O.j05(20);G1Z=Math.sqrt(K9O.c05(r1Z,B1Z));z1Z={context:N1Z,panel:U1Z,points:{0:{x:O1Z,v:o1Z},1:{x:d1Z,v:T1Z}},stddev:G1Z,yAxis:M1Z};this.lines={};if(this.active1){I2J=1690357702;N2J=-1357938641;R2J=2;for(var T2J=1;K9O.T0J(T2J.toString(),T2J.toString().length,"59727" & 2147483647) !== I2J;T2J++){this.renderStddev((6350,700536) <= +"537"?(909,+"17291") >= (402116,642013)?0xf224:"4820" * 1 > ("376557" << 1502549120,3426)?5348022:0x7e2:"1",1484 == ("1889" >> 390278944,"6564" - 0)?"1":("1","1"),z1Z);R2J+=2;}if(K9O.B0J(R2J.toString(),R2J.toString().length,78995) !== N2J){this.renderStddev((4289,743.92) > 967?(683,71.85) > (404.47,511.17)?0x1b20:3860 < (465.43,4030)?+"5.75e+3":+"0xb3b":"1",6360 != (1632,1950)?"p":("f","V"),z1Z);}this.renderStddev((8460,2600) != ("890.37" - 0,+"4595")?"1":678.22,"n",z1Z);}if(this.active2){K9O.j05(25);m2J=K9O.N05(1152286496,"987698190");J2J=53382652;l2J=2;for(var Y2J="1" - 0;K9O.T0J(Y2J.toString(),Y2J.toString().length,+"95652") !== m2J;Y2J++){this.renderStddev(3990 != 3625?"2":261.44 < (515.15,"921.36" * 1)?(!"",131.53):("1.99e+3" * 1,533.86),(225.88,394) > (416,6940)?(7930,+"8333") > ("2790" >> 160728800,7740)?! !{}:![]:"p",z1Z);this.renderStddev(3559 === 674.1?! !"1":"2",365 == (4064,8851)?4.15e+3:"n",z1Z);l2J+=2;}if(K9O.B0J(l2J.toString(),l2J.toString().length,74663) !== J2J){this.renderStddev(8532 !== +"1801"?"2":836302 >= (501871,"140916" << 1983437824)?(! !0,+"448570"):(1327614,957116),(454436,+"571") <= ("212" | 4,6948)?(7932,4793) <= (8334,+"3033")?![]:! ![]:"p",z1Z);this.renderStddev(2318 != 11362?![]:"2",791 !== (4635,"5489" * 1)?1764596:"2",z1Z);}}if(this.active3){this.renderStddev((9440,424.44) >= (917,3040)?0x1b5a:"3","p",z1Z);this.renderStddev((733,388.26) >= (1465,9110)?(3810,7400) == (735.41,156.28)?(0x1326,0x115b):"L":"3",(188.34,1616) < 6660?7348 !== 8230?"n":! !"":(4.85e+3,8.07e+3),z1Z);}}if(!this.highlighted){this.pixelX=[O1Z,d1Z];this.pixelY=[p1Z,u1Z];}else {F7J="p";F7J+="0";j1Z=this.highlighted == F7J?! ![]:!{};L1Z=this.highlighted == "p1"?! ![]:!{};this.littleCircle(N1Z,O1Z,p1Z,j1Z);this.littleCircle(N1Z,d1Z,u1Z,L1Z);}},renderStddev:function(H1Z,r0Z,f1Z){var r7J,k0Z,U0Z,v0Z,O0Z,V1Z,w0Z,i0Z,J0Z,x0Z,s1Z,t1Z,R1Z,b1Z,g1Z,I1Z,n1Z,d0Z,K0Z,W0Z,z0Z;r7J="pa";r7J+="tt";r7J+="e";r7J+="rn";K9O.j05(28);k0Z=K9O.N05(H1Z,"stddev",r0Z);K9O.V05(2);U0Z=K9O.c05(H1Z,"color");K9O.V05(2);v0Z=K9O.c05(H1Z,r7J);K9O.j05(2);O0Z=K9O.c05(H1Z,"lineWidth");V1Z=f1Z.points;w0Z=V1Z[0].v;i0Z=V1Z[1].v;J0Z=f1Z.stddev;x0Z=r0Z === ((5329,446.71) !== 866.58?"n":(3893,724.15) == 4766?260.48:"1341" >> 196703136 == 649.31?("s","c"):(642.11,0x133d))?H1Z * -1:H1Z * 1;s1Z=this.stx;t1Z=f1Z.panel;R1Z=f1Z.yAxis;b1Z={name:k0Z,color:this.getLineColor(this[U0Z]),type:"segment",y0:s1Z.pixelFromTransformedValue(w0Z + J0Z * x0Z,t1Z,R1Z),y1:s1Z.pixelFromTransformedValue(i0Z + J0Z * x0Z,t1Z,R1Z),params:{pattern:this[v0Z],lineWidth:this[O0Z]}};if(this.lines){this.lines[k0Z]=b1Z;}g1Z=f1Z.context;I1Z=V1Z[0].x;n1Z=V1Z[1].x;s1Z.plotLine(I1Z,n1Z,b1Z.y0,b1Z.y1,b1Z.color,b1Z.type,g1Z,t1Z,b1Z.params);s1Z.plotLine(I1Z,I1Z,b1Z.y0 - +"10",b1Z.y0 + 10,b1Z.color,b1Z.type,g1Z,t1Z,b1Z.params);s1Z.plotLine(n1Z,n1Z,b1Z.y1 - "10" * 1,b1Z.y1 + 10,b1Z.color,b1Z.type,g1Z,t1Z,b1Z.params);K9O.j05(2);d0Z=K9O.N05(("919.02" * 1,7570) <= 457?(+"2430",100.14) === (6703,4650)?(375,146.43):("Q",! !""):"\u03c3",H1Z);K9O.V05(11);var K81=K9O.c05(2,4,7);K0Z=Math.max(I1Z,n1Z) + K81;W0Z=I1Z < n1Z?b1Z.y1:b1Z.y0;g1Z.fillStyle=b1Z.color;g1Z.save();g1Z.textBaseline="middle";g1Z.fillText(d0Z,K0Z,W0Z);g1Z.restore();if(f1Z.formatPrice && this.axisLabel && !this.highlighted && !this.penDown){if(I1Z >= t1Z.chart.left && I1Z <= t1Z.chart.right || n1Z >= t1Z.chart.left && n1Z <= t1Z.chart.right){K9O.j05(23);z0Z=K9O.N05(I1Z < n1Z?i0Z:w0Z,x0Z,J0Z);s1Z.endClip();s1Z.createYAxisLabel(t1Z,f1Z.formatPrice(z0Z,R1Z),W0Z,b1Z.color,null,g1Z,R1Z);s1Z.startClip(t1Z.name);}}},intersected:function(e0Z,p0Z,M0Z){var l0Z,S0Z,h0Z,a0Z,o0Z,m0Z,y0Z,y7J;if(!this.pixelX || !this.pixelY){return null;}l0Z=this.repositionIntersection(e0Z,p0Z);if(l0Z){return l0Z;}S0Z={0:this.pixelX,1:this.pixelY};for(var N0Z=0;N0Z < +"2";N0Z++){if(this.pointIntersection(S0Z[0][N0Z],S0Z["1" >> 1835258880][N0Z],M0Z,!0)){K9O.V05(2);this.highlighted=K9O.N05(N0Z,"p");return {action:"drag",point:(8612 !== (6930,4140)?"p":5723 !== (87.49,+"693.12")?(![],"U"):779) + N0Z};}}h0Z=this;a0Z=this.pixelX[0];o0Z=this.pixelX[1];m0Z=function(Q0Z){var E0Z,X0Z;E0Z=[a0Z,Q0Z.y0];X0Z=[o0Z,Q0Z.y1];K9O.H9O();return h0Z.lineIntersection(e0Z,p0Z,M0Z,h0Z.name,E0Z,X0Z,! !{});};y0Z=m0Z({y0:this.pixelY[+"0"],y1:this.pixelY["1" | 1]});if(!y0Z && this.lines){for(var Y0Z in this.lines){if(m0Z(this.lines[Y0Z])){y0Z=! !{};break;}}}K9O.Z9O();if(y0Z){y7J="m";y7J+="o";y7J+="ve";this.highlighted=! ![];return {action:y7J,p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:e0Z,value:p0Z};}return null;},repositionIntersection:function(q0Z,c0Z){var B2J,z2J,U2J;if(!this.p0 || !this.p1){return ![];}if(this == this.stx.repositioningDrawing && this.highlighted){if(this.highlighted === ! ![]){return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:q0Z,value:c0Z};}return {action:"drag",point:this.highlighted};}K9O.Z9O();B2J=393791435;z2J=+"1674074819";U2J=2;for(var a2J=1;K9O.T0J(a2J.toString(),a2J.toString().length,3488) !== B2J;a2J++){return ! !{};}if(K9O.B0J(U2J.toString(),U2J.toString().length,49708) !== z2J){return ![];}},lineIntersection:function(n0Z,f0Z,g0Z,s0Z,A0Z,G0Z,I0Z){var b0Z,B0Z,L0Z;if(!I0Z){K9O.j05(2);console.log(K9O.N05(" lineIntersection must accept p0 and p1 in pixels.  Please verify and set isPixels=true.",s0Z));return ![];}if(!A0Z){A0Z=this.p0;}if(!G0Z){G0Z=this.p1;}if(!(A0Z && G0Z)){return !"1";}b0Z=this.stx;B0Z=q7r.convertBoxToPixels(b0Z,this.panelName,g0Z);if(B0Z.x0 === undefined){return !"1";}L0Z={x0:A0Z["0" | 0],x1:G0Z[+"0"],y0:A0Z[1],y1:G0Z[1]};return q7r.boxIntersects(B0Z.x0,B0Z.y0,B0Z.x1,B0Z.y1,L0Z.x0,L0Z.y0,L0Z.x1,L0Z.y1);},boxIntersection:function(R0Z,J3Z,V0Z){if(V0Z.cx0 > Math.max(this.pixelX[0],this.pixelX[1]) || V0Z.cx1 < Math.min(this.pixelX[0],this.pixelX[1])){return !"1";}if(!this.stx.repositioningDrawing && (V0Z.cy1 < this.pixelY[0] || V0Z.cy0 > this.pixelY[1])){return !{};}return !"";},reconstruct:function(k3Z,x3Z){this.stx=k3Z;this.color=x3Z.col;this.color1=x3Z.col1;this.color2=x3Z.col2;this.color3=x3Z.col3;this.active1=x3Z.dev1;this.active2=x3Z.dev2;this.active3=x3Z.dev3;this.panelName=x3Z.pnl;this.pattern=x3Z.ptrn;this.pattern1=x3Z.ptrn1;this.pattern2=x3Z.ptrn2;this.pattern3=x3Z.ptrn3;this.lineWidth=x3Z.lw;this.lineWidth1=x3Z.lw1;this.lineWidth2=x3Z.lw2;this.lineWidth3=x3Z.lw3;this.d0=x3Z.d0;this.d1=x3Z.d1;this.tzo0=x3Z.tzo0;this.tzo1=x3Z.tzo1;this.field=x3Z.fld;this.adjust();},serialize:function(){return {name:this.name,pnl:this.panelName,dev1:this.active1,dev2:this.active2,dev3:this.active3,col:this.color,col1:this.color1,col2:this.color2,col3:this.color3,ptrn:this.pattern,ptrn1:this.pattern1,ptrn2:this.pattern2,ptrn3:this.pattern3,lw:this.lineWidth,lw1:this.lineWidth1,lw2:this.lineWidth2,lw3:this.lineWidth3,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! !{});q7r.Drawing.trendline=function(){this.name="trendline";};q7r.inheritsFrom(q7r.Drawing.trendline,q7r.Drawing.segment);q7r.Drawing.trendline.prototype.configs=[t7J,j7J,g7J,M7J,"font"];q7r.Drawing.trendline.prototype.measure=function(){;};q7r.Drawing.trendline.prototype.reconstruct=function(w3Z,i3Z){K9O.Z9O();q7r.Drawing.segment.prototype.reconstruct.call(this,w3Z,i3Z);this.callout=new q7r.Drawing.callout();this.callout.reconstruct(w3Z,i3Z.callout);};q7r.Drawing.trendline.prototype.serialize=function(){var W3Z;W3Z=q7r.Drawing.segment.prototype.serialize.call(this);W3Z.callout=this.callout.serialize();return W3Z;};q7r.Drawing.trendline.prototype.render=function(z3Z){var k7J,r3Z,S3Z,O3Z,d3Z,U3Z,v3Z,N3Z,K3Z,y3Z,h3Z,e3Z,Z3Z,m3Z,p3Z,u3Z,l3Z,M3Z,D3Z,a3Z,o3Z;k7J="%";k7J+=")";k7J+=" ";r3Z=this.stx.panels[this.panelName];if(!r3Z){return;}q7r.Drawing.segment.prototype.render.call(this,z3Z);if(!this.callout){this.callout=new q7r.Drawing.callout();S3Z=q7r.Drawing.segment.prototype.serialize.call(this);this.callout.reconstruct(this.stx,S3Z);}this.callout.p0=q7r.clone(this.p0);O3Z=this.stx.pixelFromTick(this.p0[+"0"],r3Z.chart);d3Z=this.stx.pixelFromTick(this.p1[0],r3Z.chart);U3Z=this.stx.pixelFromValueAdjusted(r3Z,this.p0[0],this.p0[1]);v3Z=this.stx.pixelFromValueAdjusted(r3Z,this.p1[0],this.p1[+"1"]);if(!isFinite(U3Z) || !isFinite(v3Z)){return;}K9O.j05(102);N3Z=K9O.N05(O3Z,0,d3Z,"2");K9O.j05(10);K3Z=K9O.N05(2,U3Z,v3Z);this.fontSize=q7r.stripPX(this.font && this.font.size || 13);K9O.j05(103);var n81=K9O.N05(1,19,14,18,35);y3Z=this.callout.w * 1.2 + (this.callout.stemEntry[0] == "c"?0:n81);h3Z=Math.sqrt(Math.pow(d3Z - O3Z,2) + Math.pow(v3Z - U3Z,2));K9O.V05(39);var o81=K9O.N05(21,3,17);K9O.V05(104);var b81=K9O.c05(5,7,2,16,3);K9O.j05(1);var G81=K9O.c05(20,19);e3Z=y3Z / (h3Z || y3Z) * (this.p1[o81] < this.p0[b81]?+"1":G81);K9O.V05(105);Z3Z=K9O.N05(e3Z,v3Z,N3Z,K3Z);K9O.V05(30);m3Z=K9O.c05(N3Z,d3Z,e3Z,K3Z);this.callout.p0[0]=this.stx.tickFromPixel(Z3Z,r3Z.chart);K9O.Z9O();this.callout.p0[1]=this.stx.priceFromPixel(m3Z,r3Z);this.callout.v0=this.callout.p0[1];this.callout.p1=q7r.clone(this.p0);this.callout.stx=this.stx;this.callout.fillColor=this.fillColor || this.callout.fillColor;this.callout.borderColor=this.color;this.callout.font=this.font || this.callout.font;this.callout.noHandles=! !1;K9O.V05(48);var D81=K9O.c05(7,27,4);K9O.j05(48);var u81=K9O.N05(11,120,11);p3Z=this.p1["1" | D81] - this.p0[u81];K9O.j05(3);var i81=K9O.N05(14,12,0);K9O.V05(106);var x81=K9O.c05(9,24,15,2,17);K9O.V05(107);var E81=K9O.N05(13,1,13);this.callout.text="" + Number(p3Z).toFixed(i81) + (this.p0[x81] === 0?"":" (" + Number(100 * p3Z / this.p0[+"1"]).toFixed(E81) + k7J) + "" + Math.abs(this.p1[0] - this.p0[0]) + " Bars";u3Z=Math.floor((this.p0[0] + this.p1[0]) / 2);if(Math.abs(this.p0[0] - this.p1["0" ^ 0]) > 1 && Math.abs(this.p0[0] - this.p1["0" | 0]) < +"20"){M3Z=this.stx.pixelFromTick(u3Z,r3Z.chart);K9O.j05(108);D3Z=K9O.c05(v3Z,M3Z,O3Z,O3Z,U3Z,U3Z,d3Z);l3Z=this.stx.priceFromPixel(D3Z,r3Z) || K3Z;}else {l3Z=this.stx.priceFromPixel(K3Z,r3Z);}this.callout.stem={t:u3Z,v:l3Z};this.callout.renderText();this.callout.render(z3Z);if(this.highlighted){a3Z=this.highlighted == "p0"?!"":!{};o3Z=this.highlighted == "p1"?!0:![];this.littleCircle(z3Z,O3Z,U3Z,a3Z);this.littleCircle(z3Z,d3Z,v3Z,o3Z);}};q7r.Drawing.trendline.prototype.lineIntersection=function(T3Z,Y3Z,Q3Z,E3Z){var w7J;w7J="s";w7J+="egmen";w7J+="t";return q7r.Drawing.BaseTwoPoint.prototype.lineIntersection.call(this,T3Z,Y3Z,Q3Z,w7J);};q7r.Drawing.trendline.prototype.intersected=function(P3Z,X3Z,q3Z){var F3Z,C3Z;if(!this.p0 || !this.p1){return null;}F3Z=this.callout.intersected(P3Z,X3Z,q3Z);K9O.H9O();C3Z=q7r.Drawing.segment.prototype.intersected.call(this,P3Z,X3Z,q3Z);this.callout.highlighted=! !(F3Z || C3Z);if(C3Z){return C3Z;}else if(F3Z){return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:P3Z,value:X3Z};}return null;};q7r.Drawing.average=function(){this.name="average";};q7r.inheritsFrom(q7r.Drawing.average,q7r.Drawing.regression);q7r.extend(q7r.Drawing.average.prototype,{configs:q7r.Drawing.regression.prototype.configs.concat(h7J),measure:function(){var Z7J,q7J,c3Z,A3Z,j3Z,L3Z,G3Z,H7J,f7J,B3Z;if(this.p0 && this.p1){Z7J=".m";Z7J+="Mea";Z7J+="su";Z7J+="re";q7J=",";q7J+=" ";this.stx.setMeasure(0,! !0,this.p0[0],this.p1[0],! !1,this.name);c3Z=[];A3Z="";if(this.active1){c3Z.push(138.95 === (630.88,+"886.58")?(3.15e+3,1.67e+3):"1");}if(this.active2){c3Z.push((2910,9450) != (7100,"256" & 2147483647)?"2":(641.51,! !1));}if(this.active3){c3Z.push(112 <= (192.28,192)?(980,6601) != (886,6940)?1025 !== 171.26?"3":(752.89,6.21e+3):"G":(!"",6.00e+0));}if(c3Z.length){A3Z="&ensp;" + c3Z.join(q7J) + " &sigma;";}j3Z=(this.stx.drawingContainer || document).querySelector(Z7J);L3Z=this.stx.controls.mSticky;G3Z=L3Z && L3Z.querySelector(".mStickyInterior");if(j3Z){j3Z.innerHTML+=A3Z;}if(G3Z){H7J="<";H7J+="br>";f7J="Clos";f7J+="e";B3Z=[];B3Z.push(q7r.capitalize(this.name));B3Z.push(this.field || this.stx.defaultPlotField || f7J);B3Z.push(G3Z.innerHTML + A3Z);G3Z.innerHTML=B3Z.join(H7J);}}},render:function(H3Z){var b3Z,g3Z,s3Z,J9Z,I3Z,W9Z,r9Z,N9Z,U9Z,w9Z,n3Z,V3Z,x9Z,R3Z,t3Z,k9Z,i9Z,v9Z,d9Z,f3Z,K9Z,q8J,f8J,H8J,z9Z;b3Z=this.stx.panels[this.panelName];if(!b3Z){return;}function O9Z(y9Z,e9Z){if(e9Z && e9Z.priceFormatter){y9Z=e9Z.priceFormatter(I3Z,b3Z,y9Z);}else {y9Z=I3Z.formatYAxisPrice(y9Z,b3Z,null,e9Z);}return y9Z;}if(!this.p1){return;}if(this.p0[0] < +"0" || this.p1[0] < 0){return;}g3Z=this.stx.pixelFromTick(this.p0[0],b3Z.chart);s3Z=this.stx.pixelFromTick(this.p1[0],b3Z.chart);if(g3Z < b3Z.left && s3Z < b3Z.left){return;}if(g3Z > b3Z.right && s3Z > b3Z.right){return;}J9Z=this.stx.getYAxisByField(b3Z,this.field);I3Z=this.stx;W9Z=Math.min(this.p1[0],this.p0[0]);K9O.V05(11);var e81=K9O.N05(13,25,13);r9Z=Math.max(this.p1[0],this.p0[0]) + e81;K9O.j05(4);N9Z=K9O.c05(r9Z,W9Z);U9Z=0;w9Z=[];for(n3Z=W9Z;n3Z < r9Z;n3Z++){V3Z=this.getYValue(n3Z);if(V3Z !== null){U9Z+=V3Z.transformed;w9Z.push(V3Z);}}x9Z=w9Z.length;if(!x9Z){return;}K9O.j05(20);R3Z=K9O.N05(x9Z,U9Z);t3Z=I3Z.pixelFromTransformedValue(R3Z,b3Z,J9Z);k9Z=this.getLineColor();i9Z={pattern:this.pattern,lineWidth:this.lineWidth};I3Z.plotLine(g3Z,s3Z,t3Z,t3Z,k9Z,"segment",H3Z,b3Z,i9Z);K9O.j05(109);I3Z.plotLine(g3Z,g3Z,K9O.c05(1,t3Z,"20"),K9O.N05(t3Z,"20",K9O.V05(89)),k9Z,"segment",H3Z,b3Z,i9Z);K9O.j05(4);I3Z.plotLine(s3Z,s3Z,K9O.c05(t3Z,20),K9O.N05(20,t3Z,K9O.V05(2)),k9Z,"segment",H3Z,b3Z,i9Z);if(this.axisLabel && !this.highlighted && !this.penDown){if(g3Z >= b3Z.chart.left && g3Z <= b3Z.chart.right || s3Z >= b3Z.chart.left && s3Z <= b3Z.chart.right){I3Z.endClip();I3Z.createYAxisLabel(b3Z,O9Z(R3Z,J9Z),t3Z,k9Z,null,H3Z,J9Z);I3Z.startClip(b3Z.name);}}if(this.active1 || this.active2 || this.active3){v9Z=0;for(n3Z=0;n3Z < x9Z;n3Z++){V3Z=w9Z[n3Z];v9Z+=Math.pow(V3Z.transformed - R3Z,2);}K9O.j05(20);d9Z=Math.sqrt(K9O.c05(x9Z,v9Z));f3Z={context:H3Z,formatPrice:O9Z,panel:b3Z,points:{0:{x:g3Z,v:R3Z},1:{x:s3Z,v:R3Z}},stddev:d9Z,yAxis:J9Z};this.lines={};if(this.active1){this.renderStddev((+"9294",8531) >= (7770,329.93)?(9470,986) <= (+"2323",873.94)?(942.74,"h"):"1":(!0,"G"),"p",f3Z);this.renderStddev(+"950.06" !== (6670,+"6420")?"1":"O","n",f3Z);}if(this.active2){this.renderStddev("2","p",f3Z);this.renderStddev("2",("6980" ^ 0,"878.52" - 0) == (595.15,+"1414")?!"1":"n",f3Z);}if(this.active3){this.renderStddev(2027 >= 36?"3":(!"1",443.14),("1597" & 2147483647) < (251.29,3670)?2110 <= (3080,283.9)?(1390,699.15) == ("5905" & 2147483647,900)?("b",0x21d1):742.49:"p":(! !{},0x3e8),f3Z);this.renderStddev("3","n",f3Z);}}if(!this.highlighted){this.pixelX=[g3Z,s3Z];this.pixelY=[t3Z,t3Z];}else {K9Z=this.highlighted == "p0"?! !{}:!1;q8J=877727241;f8J=-1140177630;H8J=2;for(var A4J=1;K9O.T0J(A4J.toString(),A4J.toString().length,98092) !== q8J;A4J++){z9Z=this.highlighted == "p1"?! ![]:!"1";this.littleCircle(H3Z,g3Z,t3Z,K9Z);K9O.V05(51);H8J+=K9O.N05("2",0);}if(K9O.B0J(H8J.toString(),H8J.toString().length,62740) !== f8J){z9Z=this.highlighted != ""?!"1":! ![];this.littleCircle(H3Z,g3Z,t3Z,K9Z);}this.littleCircle(H3Z,s3Z,t3Z,z9Z);}},reconstruct:function(u9Z,p9Z){K9O.H9O();this.axisLabel=p9Z.al;q7r.Drawing.regression.prototype.reconstruct.call(this,u9Z,p9Z);},serialize:function(){K9O.H9O();var l9Z;l9Z=q7r.Drawing.regression.prototype.serialize.call(this);l9Z.al=this.axisLabel;return l9Z;}},! ![]);q7r.Drawing.quadrant=function(){K9O.H9O();this.name="quadrant";};q7r.inheritsFrom(q7r.Drawing.quadrant,q7r.Drawing.regression);q7r.extend(q7r.Drawing.quadrant.prototype,{configs:[v7J,"fillColor","lineWidth","pattern"],copyConfig:function(){this.color=this.stx.currentVectorParameters.currentColor;this.fillColor=this.stx.currentVectorParameters.fillColor;this.lineWidth=this.stx.currentVectorParameters.lineWidth;this.pattern=this.stx.currentVectorParameters.pattern;},$controls:[],render:function(m9Z){var s6J,V6J,P6J,c7J,h9Z,S9Z,Z9Z,M9Z,Y9Z,D9Z,a9Z,C9Z,Q9Z,P9Z,X9Z,F9Z,q9Z,c9Z,E9Z,o9Z,B9Z,T9Z,A6J,C6J,X6J,J6J,m6J,G9Z,j9Z;s6J="s";s6J+="egme";s6J+="nt";V6J="segmen";V6J+="t";P6J="quadra";P6J+="nt";c7J="a";c7J+="uto";h9Z=this.stx;S9Z=h9Z.panels[this.panelName];if(!S9Z){return;}if(!this.p1){return;}Z9Z=h9Z.pixelFromTick(this.p0[0],S9Z.chart);M9Z=h9Z.pixelFromTick(this.p1[0],S9Z.chart);if(Z9Z < S9Z.left && M9Z < S9Z.left){return;}if(Z9Z > S9Z.right && M9Z > S9Z.right){return;}Y9Z=this.stx.getYAxisByField(S9Z,this.field);D9Z=null;a9Z=null;for(var A9Z=Math.max(0,Math.min(this.p1[0],this.p0[0]));A9Z <= Math.min(h9Z.chart.dataSet.length - 1,Math.max(this.p1[0],this.p0[0]));A9Z++){C9Z=this.getYValue(A9Z);if(C9Z !== null){if(D9Z === null || C9Z.transformed > D9Z){D9Z=C9Z.transformed;}if(a9Z === null || C9Z.transformed < a9Z){a9Z=C9Z.transformed;}}}Q9Z=h9Z.pixelFromTransformedValue(D9Z,S9Z,Y9Z);K9O.j05(110);P9Z=h9Z.pixelFromTransformedValue(K9O.c05(a9Z,3,4,D9Z),S9Z,Y9Z);K9O.j05(110);X9Z=h9Z.pixelFromTransformedValue(K9O.N05(a9Z,2,3,D9Z),S9Z,Y9Z);K9O.V05(10);F9Z=h9Z.pixelFromTransformedValue(K9O.c05(2,D9Z,a9Z),S9Z,Y9Z);K9O.V05(111);q9Z=h9Z.pixelFromTransformedValue(K9O.N05(3,D9Z,a9Z,2),S9Z,Y9Z);K9O.j05(112);c9Z=h9Z.pixelFromTransformedValue(K9O.c05(4,a9Z,"3",D9Z),S9Z,Y9Z);E9Z=h9Z.pixelFromTransformedValue(a9Z,S9Z,Y9Z);this.p0[1]=0;this.p1[1]=!"1";o9Z=this.getLineColor();B9Z=this.fillColor;if(B9Z == c7J || q7r.isTransparent(B9Z)){B9Z=h9Z.defaultColor;}m9Z.fillStyle=B9Z;T9Z={pattern:this.pattern,lineWidth:this.lineWidth};K9O.H9O();h9Z.plotLine(Z9Z,M9Z,Q9Z,Q9Z,o9Z,"segment",m9Z,S9Z,T9Z);h9Z.plotLine(Z9Z,M9Z,E9Z,E9Z,o9Z,"segment",m9Z,S9Z,T9Z);if(this.name == P6J){A6J="segm";A6J+="ent";h9Z.plotLine(Z9Z,M9Z,P9Z,P9Z,o9Z,"segment",m9Z,S9Z,T9Z);h9Z.plotLine(Z9Z,M9Z,c9Z,c9Z,o9Z,A6J,m9Z,S9Z,T9Z);}else if(this.name == "tirone"){C6J="s";C6J+="egm";C6J+="en";C6J+="t";h9Z.plotLine(Z9Z,M9Z,X9Z,X9Z,o9Z,C6J,m9Z,S9Z,T9Z);h9Z.plotLine(Z9Z,M9Z,q9Z,q9Z,o9Z,"segment",m9Z,S9Z,T9Z);}h9Z.plotLine(Z9Z,Z9Z,Q9Z,E9Z,o9Z,V6J,m9Z,S9Z,T9Z);h9Z.plotLine(M9Z,M9Z,Q9Z,E9Z,o9Z,s6J,m9Z,S9Z,T9Z);h9Z.plotLine(Z9Z,M9Z,F9Z,F9Z,o9Z,"segment",m9Z,S9Z,q7r.extend(T9Z,{opacity:this.name == "tirone"?0.2:+"1"}));m9Z.globalAlpha=+"0.1";m9Z.beginPath();K9O.j05(4);m9Z.fillRect(Z9Z,Q9Z,K9O.N05(M9Z,Z9Z),K9O.N05(E9Z,Q9Z));if(this.name == "quadrant"){K9O.V05(4);m9Z.fillRect(Z9Z,P9Z,K9O.N05(M9Z,Z9Z),K9O.N05(c9Z,P9Z));}else if(this.name == "tirone"){K9O.j05(4);m9Z.fillRect(Z9Z,X9Z,K9O.N05(M9Z,Z9Z),K9O.c05(q9Z,X9Z));}m9Z.globalAlpha=1;if(!this.highlighted){X6J="q";X6J+="uadrant";this.pixelX=[Z9Z,M9Z];this.pixelY=[Q9Z,E9Z,F9Z];if(this.name === X6J){this.pixelY.push(P9Z,c9Z);}if(this.name === "tirone"){this.pixelY.push(X9Z,q9Z);}}else {J6J="p";J6J+="1";m6J="p";m6J+="0";G9Z=this.highlighted == m6J?!0:!"1";j9Z=this.highlighted == J6J?! !"1":!{};this.littleCircle(m9Z,Z9Z,F9Z,G9Z);this.littleCircle(m9Z,M9Z,F9Z,j9Z);}},intersected:function(s9Z,I9Z,H9Z){var n9Z,g9Z,f9Z;var {pixelX:L9Z, pixelY:b9Z}=this;if(!L9Z || !b9Z){return null;}n9Z=this.repositionIntersection(s9Z,I9Z);if(n9Z){return n9Z;}for(var t9Z=+"0";t9Z < 2;t9Z++){if(this.pointIntersection(L9Z[t9Z],b9Z[2],H9Z,!0)){K9O.V05(2);this.highlighted=K9O.N05(t9Z,9443 > ("977.64" - 0,770.47)?546.34 !== "6920" >> 1938335456?(+"2210",9980) <= (448.17,+"8522")?!{}:"p":0x2407:0x957);return {action:"drag",point:(9600 < 4050?("128" << 1041411264,540) != "1620" * 1?"349.87" - 0 >= (3151,963)?(0x1159,+"434.08"):("639" ^ 0,903.89):"N":"p") + t9Z};}}g9Z=[];L9Z.forEach(V9Z=>{g9Z.push({p0:[V9Z,b9Z[0]],p1:[V9Z,b9Z[1]]});});b9Z.forEach(R9Z=>{g9Z.push({p0:[L9Z["0" | 0],R9Z],p1:[L9Z[1],R9Z]});});f9Z=g9Z.some(({p0:J6Z, p1:x6Z})=>{K9O.H9O();return this.lineIntersection(s9Z,I9Z,H9Z,this.name,J6Z,x6Z,! !1);});if(f9Z){this.highlighted=!0;return {action:"move",p0:q7r.clone(this.p0),p1:q7r.clone(this.p1),tick:s9Z,value:I9Z};}return null;},reconstruct:function(w6Z,k6Z){this.stx=w6Z;this.color=k6Z.col;this.fillColor=k6Z.fc;K9O.Z9O();this.panelName=k6Z.pnl;this.pattern=k6Z.ptrn;this.lineWidth=k6Z.lw;this.d0=k6Z.d0;this.d1=k6Z.d1;this.tzo0=k6Z.tzo0;this.tzo1=k6Z.tzo1;this.field=k6Z.fld;this.adjust();},serialize:function(){K9O.Z9O();return {name:this.name,pnl:this.panelName,col:this.color,fc:this.fillColor,ptrn:this.pattern,lw:this.lineWidth,d0:this.d0,d1:this.d1,tzo0:this.tzo0,tzo1:this.tzo1,fld:this.field};}},! ![]);q7r.Drawing.tirone=function(){K9O.H9O();this.name="tirone";};q7r.inheritsFrom(q7r.Drawing.tirone,q7r.Drawing.quadrant);q7r.Drawing.elliottwave=function(){this.name="elliottwave";this.lastPoint=0;this.points=[];this.pts=[];this.dx=0;this.dy=-20;this.dragToDraw=!{};this.annotationPoints=[];this.edit=null;};q7r.inheritsFrom(q7r.Drawing.elliottwave,q7r.Drawing.annotation);q7r.Drawing.elliottwave.defaultTemplate={impulse:["I","II","III",l6J,"V"],corrective:["A",480 < (3760,315.15)?(+"4819",605) <= (373.03,8210)?!"":("69.11" - 0,"d"):"B","C"],decoration:"enclosed",showLines:! ![]};q7r.Drawing.elliottwave.prototype.initializeSettings=function(i6Z){K9O.Z9O();i6Z.currentVectorParameters.waveParameters=q7r.clone(q7r.Drawing.elliottwave.defaultTemplate);};q7r.Drawing.elliottwave.prototype.configs=["color","lineWidth","lineColor",O6J,Y6J,"waveParameters"];q7r.Drawing.elliottwave.prototype.$controls=["br[cq-wave-parameters]","cq-wave-parameters"];q7r.Drawing.elliottwave.prototype.construct=function(W6Z,U6Z){var r6Z;this.stx=W6Z;K9O.H9O();this.panelName=U6Z.name;r6Z=W6Z.currentVectorParameters;Object.assign(this,r6Z.waveParameters);};q7r.Drawing.elliottwave.prototype.serialize=function(){var N6J,I6J,O6Z;N6J="s";K9O.H9O();N6J+="z";I6J="s";I6J+="t";O6Z={};for(var v6Z=0;v6Z < this.points.length;v6Z++){K9O.j05(2);O6Z[K9O.N05(v6Z,("6380" & 2147483647,1279) >= 2270?(363.36,2.44e+3):"d")]=this[K9O.N05(v6Z,"d")];K9O.V05(2);O6Z[K9O.N05(v6Z,"tzo")]=this[K9O.N05(v6Z,"tzo")];K9O.j05(2);O6Z[K9O.N05(v6Z,4360 === (7930,278)?(883.3,1430) < "8000" >> 1265749536?("s",0x33e):! !0:"v")]=this[K9O.c05(v6Z,"v")];}O6Z.annotations=this.annotationPoints.join(("442.26" * 1,7459) === (2420,3110)?9530 !== "46.67" - 0?"1542" << 589367712 < 1280?("m",799.57):7.42e+3:2.03e+3:",");return Object.assign({name:this.name,pnl:this.panelName,col:this.color,ptrn:this.pattern,lw:this.lineWidth,mxSeg:this.maxSegments,show:this.showLines,decor:this.decoration,dx:this.dx,dy:this.dy,trend:this.trend,fnt:q7r.removeNullValues(q7r.replaceFields(this.font,{style:I6J,size:N6J,weight:"wt",family:"fl"}))},O6Z);};q7r.Drawing.elliottwave.prototype.reconstruct=function(K6Z,d6Z){var B6J,T6J,Q6J,R6J;B6J="enc";B6J+="l";B6J+="o";B6J+="sed";T6J="w";T6J+="e";T6J+="i";T6J+="ght";Q6J="siz";Q6J+="e";R6J="sty";R6J+="l";R6J+="e";this.stx=K6Z;this.color=d6Z.col;this.panelName=d6Z.pnl;this.pattern=d6Z.ptrn;this.lineWidth=d6Z.lw;this.font=q7r.replaceFields(d6Z.fnt,{st:R6J,sz:Q6J,wt:T6J,fl:"family"});this.decoration=d6Z.decor;this.showLines=d6Z.show;this.dx=d6Z.dx;this.dy=d6Z.dy;this.trend=d6Z.trend;this.annotationPoints=d6Z.annotations.split(",");if(d6Z.decor === B6J){this.calculateRadius(K6Z.chart.tempCanvas.context);}this.maxSegments=d6Z.mxSeg;this.reconstructPoints(d6Z);this.adjust();};q7r.Drawing.elliottwave.prototype.reconstructPoints=function(N6Z){var y6Z,e6Z,p6Z;K9O.H9O();y6Z=this.stx.panels[this.panelName];if(!y6Z){return;}for(var z6Z=0;z6Z < this.annotationPoints.length;z6Z++){K9O.V05(2);this[K9O.N05(z6Z,6178 >= (6530,5548)?(5420,737.18) === +"7770"?! !"1":7667 !== (9510,+"676.56")?"d":(413.43,4.37e+2):! !0)]=N6Z[K9O.c05(z6Z,("3372" * 1,9060) >= (7960,694.87)?528.16 != 8880?427 < (9050,1040)?"d":(295.56,3.43e+3):803.81:0x1e25)];K9O.j05(2);this[K9O.c05(z6Z,(9720,2423) != 857?"v":520.03 < (7133,393)?0x13eb:5160 <= 404.99?(184.64,7.24e+2):!"1")]=N6Z[K9O.N05(z6Z,("6654" | 2362,838) >= "258.72" - 0?"v":+"575.57")];K9O.j05(2);this[K9O.N05(z6Z,"tzo")]=N6Z[K9O.c05(z6Z,"tzo")];e6Z=q7r.strToDateTime(N6Z[(968.1 >= (485.08,704.62)?536 <= (8630,954.29)?"d":(8800,706.75) > (5210,6184)?+"4.99e+3":451.32:8.30e+3) + z6Z]);p6Z=this.stx.tickFromDate(e6Z,y6Z.chart);this.points.push([p6Z,N6Z[((4622,8744) >= 906.6?(765,635.54) !== (4118,8189)?"v":(5.55e+3,![]):("U",756.69)) + z6Z]]);}};q7r.Drawing.elliottwave.prototype.calculateRadius=function(h6Z){var u6Z,S6Z;this.getFontString();h6Z.font=this.fontString;u6Z=0;for(var l6Z=0;l6Z < this.annotationPoints.length;l6Z++){S6Z=h6Z.measureText(this.annotationPoints[l6Z]).width;if(u6Z < S6Z){u6Z=S6Z;}}this.enclosedRadius=u6Z;};q7r.Drawing.elliottwave.prototype.check=function(D6Z,o6Z,Z6Z){var m6Z,M6Z;if(Z6Z === 1 && this.points.length === 2){return ! ![];}function a6Z(Y6Z){for(var T6Z=2;T6Z < Y6Z.length;T6Z++){if(Math.sign(Y6Z[T6Z][+"1"] - Y6Z[T6Z - 1][+"1"]) == Math.sign(Y6Z[T6Z - "1" * 1][1] - Y6Z[T6Z - 2][1])){return !{};}}return ! ![];}K9O.j05(4);m6Z=this.points[K9O.c05(Z6Z,1)];if(m6Z && D6Z <= m6Z[0]){return ![];}K9O.V05(2);M6Z=this.points[K9O.c05(1,Z6Z)];if(M6Z && D6Z >= M6Z["0" ^ 0]){return ![];}if(!a6Z(this.points)){return ! !"";}return !"";};q7r.Drawing.elliottwave.prototype.move=function(Q6Z,E6Z,C6Z){K9O.Z9O();this.copyConfig();K9O.j05(113);var S81=K9O.N05(16,3,19,5,35);this.points[this.lastPoint + S81]=[E6Z,C6Z];this.render(Q6Z);};q7r.Drawing.elliottwave.prototype.adjust=function(){var X6Z,F6Z;X6Z=this.stx.panels[this.panelName];K9O.H9O();if(!X6Z){return;}for(var P6Z=0;this.maxSegments + +"1" > P6Z;P6Z++){K9O.V05(2);F6Z=this[K9O.N05(P6Z,4760 == (5970,6590)?"E":6620 >= 1170?"d":(! ![],5.27e+2))];this.setPoint(P6Z,F6Z,this[(+"963.45" <= 7050?"v":(3950,4328) < 7700?(+"612.29",6484) >= 9978?("f","I"):"k":("x",6.76e+3)) + P6Z],X6Z.chart);this.points[P6Z][0]=this.stx.tickFromDate(q7r.strToDateTime(F6Z),X6Z.chart);K9O.V05(2);this.points[P6Z][1]=this[K9O.N05(P6Z,"v")];}};q7r.Drawing.elliottwave.prototype.click=function(A6Z,q6Z,c6Z){var B6Z,z6J;B6Z=this.stx.panels[this.panelName];if(!B6Z){return;}K9O.Z9O();this.copyConfig();if(!this.penDown){z6J="e";z6J+="n";z6J+="closed";this.setPoint(0,q6Z,c6Z,B6Z.chart);this.points.push(this.p0);this.penDown=! !{};K9O.V05(22);this.segment=K9O.N05("0",1);this.lastPoint=0;if(this.impulse){this.annotationPoints=this.annotationPoints.concat(this.impulse);}if(this.corrective){this.annotationPoints=this.annotationPoints.concat(this.corrective);}this.annotationPoints.unshift((203.52,4720) > 6530?+"0x1797":7810 <= "237.85" - 0?6.91e+2:8810 === 4341?765.61:"0");if(this.decoration === z6J){this.calculateRadius(A6Z);}K9O.V05(30);var W81=K9O.N05(11,0,19,210);this.maxSegments=this.annotationPoints.length - W81;this.trend=1;return !{};}if(this.accidentalClick(q6Z,c6Z)){this.penDown=!0;return !{};}if(this.check(q6Z,c6Z,this.lastPoint + 1)){this.lastPoint++;this.setPoint(this.lastPoint,q6Z,c6Z,B6Z.chart);if(this.lastPoint === 1){this.trend=Math.sign(this.v1 - this.v0);}this.segment++;if(this.segment >= this.maxSegments){this.penDown=!1;return ! !"1";}}return !{};};q7r.Drawing.elliottwave.prototype.render=function(G6Z){var d6J,L6Z,w2Z,O2Z,d2Z,K2Z,C4J,V4J,s4J,i2Z,W2Z,t6Z,g6Z,r2Z,s6Z,b6Z,U6J,n6Z,f6Z,I6Z,V6Z,R6Z,z2Z,N2Z,a6J,J2Z,x2Z,H6Z,U2Z,v2Z,y2Z,k2Z;d6J="s";d6J+="t";d6J+="ri";d6J+="ng";L6Z=this.stx.panels[this.panelName];if(!L6Z){return;}w2Z=this.stx;O2Z=this.annotationPoints;d2Z=this.pattern?q7r.borderPatternToArray(this.lineWidth,this.pattern):[];this.getFontString();G6Z.font=this.fontString;G6Z.textAlign="center";G6Z.textBaseline="middle";G6Z.lineWidth=this.lineWidth;if(this.fontString !== this.lastFontString){this.calculateRadius(G6Z);}this.lastFontString=this.fontString;K2Z=this.getLineColor();G6Z.fillStyle=G6Z.strokeStyle=K2Z;G6Z.save();C4J=219233064;V4J=1333797044;K9O.V05(25);s4J=K9O.c05(1936453280,"2");for(var m4J=1;K9O.T0J(m4J.toString(),m4J.toString().length,81204) !== C4J;m4J++){G6Z.setLineDash(d2Z);s4J+=2;}if(K9O.B0J(s4J.toString(),s4J.toString().length,63641) !== V4J){G6Z.setLineDash(d2Z);}i2Z=this.dx;W2Z=this.dy;t6Z=this.points;g6Z=this.pts;r2Z=!this.showLines && this.highlighted;s6Z=t6Z.length;if(this.penDown && this.segment){U6J="t";U6J+="o";U6J+="p";b6Z=this.trend * (s6Z % ("2" - 0) - 0.5) < 0;if(L6Z.yAxis.flipped){b6Z=!b6Z;}this.drawDropZone(G6Z,t6Z[s6Z - 2][1],this.stx.priceFromPixel(L6Z.yAxis[b6Z?U6J:"bottom"]),t6Z[s6Z - 2][0]);}else if(typeof this.highlighted === d6J && this.stx.repositioningDrawing){n6Z=parseInt(this.highlighted.substring(+"1",this.highlighted.length),10);K9O.j05(114);var p81=K9O.N05(6,1,0,1,8);b6Z=this.trend * (n6Z % p81 - 0.5) > 0;K9O.j05(115);f6Z=t6Z[K9O.c05(n6Z,"1",1)];K9O.V05(2);I6Z=t6Z[K9O.N05(1,n6Z)];V6Z=n6Z > 0?f6Z[1]:I6Z["1" | 0];if(I6Z){V6Z=Math[b6Z?"max":"min"](V6Z,I6Z["1" >> 800286752]);}if(L6Z.yAxis.flipped){b6Z=!b6Z;}this.drawDropZone(G6Z,V6Z,this.stx.priceFromPixel(L6Z.yAxis[b6Z?"top":"bottom"]),f6Z?f6Z[0]:null,I6Z?I6Z[0]:null);}for(var j6Z=0;j6Z < s6Z;j6Z++){R6Z=t6Z[j6Z];z2Z=w2Z.pixelFromTick(R6Z[0],L6Z.chart);N2Z=w2Z.pixelFromValueAdjusted(L6Z,R6Z[0],R6Z[1]);g6Z[j6Z]=[z2Z,N2Z];}j6Z=0;if(this.showLines || r2Z){G6Z.beginPath();if(r2Z){G6Z.globalAlpha=0.3;}for(;j6Z < g6Z.length;j6Z++){G6Z.lineTo(g6Z[j6Z]["0" >> 219053760],g6Z[j6Z][1]);}G6Z.stroke();j6Z=+"0";}G6Z.restore();for(;j6Z < s6Z;j6Z++){a6J="e";a6J+="nc";a6J+="los";a6J+="ed";J2Z=j6Z % 2?i2Z:-i2Z;x2Z=j6Z % ("2" | 2)?W2Z:-W2Z;J2Z*=this.trend;x2Z*=this.trend;if(L6Z.yAxis.flipped){J2Z*=-1;x2Z*=- +"1";}H6Z=g6Z[j6Z];U2Z=H6Z[2]=H6Z[0] + J2Z;K9O.j05(54);var L81=K9O.c05(5,16,8,20);v2Z=H6Z[3]=H6Z[L81] + x2Z;y2Z=this.enclosedRadius || 8;k2Z=O2Z[j6Z];if(this.decoration === "parentheses"){K9O.V05(28);k2Z=K9O.c05(k2Z,"(",+"804.06" === 8590?9050 == (6401,6449)?(149.34,"o"):(7840,4545) < ("5930" << 1129203840,5787)?(984.13,0x1283):("d","7.44e+3" | 2320):")");}G6Z.fillText(k2Z,U2Z,v2Z);if(this.decoration === a6J){G6Z.beginPath();G6Z.arc(U2Z,v2Z,y2Z,0,+"2" * Math.PI,!1);G6Z.stroke();}if(this.highlighted){G6Z.save();this.littleCircle(G6Z,this.pts[j6Z]["0" | 0],this.pts[j6Z][+"1"],this.highlighted === (861.57 == "843.21" * 1?0x19cc:"p") + j6Z);G6Z.restore();}}};q7r.Drawing.elliottwave.prototype.reposition=function(a2Z,e2Z,l2Z,S2Z){var Z2Z,m2Z,M2Z,u2Z,h2Z,D2Z;if(!e2Z){return;}Z2Z=this.stx.panels[this.panelName];m2Z=e2Z.tick - l2Z;M2Z=e2Z.value - S2Z;if(e2Z.action === "move"){for(var p2Z=0;e2Z.points.length > p2Z;p2Z++){u2Z=e2Z.points[p2Z];this.setPoint(p2Z,u2Z[0] - m2Z,u2Z[1] - M2Z,Z2Z.chart);K9O.j05(4);var F81=K9O.N05(15,14);this.points[p2Z]=[u2Z[0] - m2Z,u2Z[F81] - M2Z];}}if(e2Z.action === "drag"){h2Z=e2Z.point;D2Z=this.points;D2Z[h2Z]=[l2Z,S2Z];if(this.check(l2Z,S2Z,h2Z)){this.setPoint(h2Z,l2Z,S2Z,Z2Z.chart);;};}this.render(a2Z);};q7r.Drawing.elliottwave.prototype.intersected=function(Y2Z,Q2Z,E2Z){var C2Z,T2Z,K6J;if(!this.p0 || !this.p1){return null;}for(var o2Z=0;this.points.length > o2Z;o2Z++){T2Z=this.points[o2Z];if(this.pointIntersection(T2Z[0],T2Z["1" - 0],E2Z)){K6J="d";K6J+="r";K6J+="a";K6J+="g";K9O.j05(2);this.highlighted=K9O.c05(o2Z,906 != 355.65?"p":1680 !== (2442,3272)?("c","V"):(0xf68,0x1593));return {action:K6J,point:o2Z,tick:Y2Z,value:Q2Z};}if(this.points[o2Z + 1] && this.lineIntersection(Y2Z,Q2Z,E2Z,"segment",T2Z,this.points[o2Z + 1])){this.highlighted=!0;C2Z={action:"move",points:q7r.clone(this.points),tick:Y2Z,value:Q2Z};}}return C2Z;};q7r.Drawing.elliottwave.prototype.measure=function(){K9O.Z9O();var n6J,P2Z,q2Z,F2Z,o6J,X2Z;if(this.points.length >= 2){n6J=".mS";n6J+="t";n6J+="ickyInterior";P2Z=this.points;this.stx.setMeasure(P2Z[0][1],P2Z[P2Z.length - 1][1],P2Z[0][0],P2Z[P2Z.length - 1][0],!0);q2Z=this.stx.controls.mSticky;F2Z=q2Z && q2Z.querySelector(n6J);if(F2Z){o6J="<";o6J+="b";o6J+="r";o6J+=">";X2Z=[];X2Z.push(q7r.capitalize("Elliott Wave"));if(this.getYValue){X2Z.push(this.field || this.stx.defaultPlotField || "Close");}X2Z.push(F2Z.innerHTML);F2Z.innerHTML=X2Z.join(o6J);}}};q7r.Drawing.printProjection=function(t2Z,i7Z,c2Z){var A2Z,G2Z,R2Z,g2Z,J7Z,s2Z,x7Z,I2Z,b2Z,f2Z,L2Z,k7Z,V2Z,H2Z,B2Z,w7Z;A2Z=i7Z.arr;if(A2Z.length > 1){G2Z=A2Z[0][0];R2Z=Math.round(t2Z.chart.maxTicks * 0.75);for(var j2Z="1" - 0;j2Z < A2Z.length;j2Z++){K9O.V05(4);g2Z=A2Z[K9O.c05(j2Z,1)][K9O.N05(1072738048,"0",K9O.V05(25))];J7Z=A2Z[j2Z][0];s2Z=q7r.strToDateTime(g2Z);x7Z=q7r.strToDateTime(J7Z).getTime();I2Z=t2Z.standardMarketIterator(s2Z);b2Z=0;while(s2Z.getTime() < x7Z){s2Z=I2Z.next();b2Z+=1;}f2Z=q7r.strToDateTime(g2Z).getTime();if(f2Z > q7r.strToDateTime(c2Z[c2Z.length - 1].Date).getTime()){K9O.j05(116);var r81=K9O.c05(9,9,2,1,1);L2Z=c2Z.length - r81;b2Z+=1;}else {for(L2Z=c2Z.length - 1;L2Z >= 0;L2Z--){if(f2Z <= q7r.strToDateTime(c2Z[L2Z].Date).getTime())break;}}k7Z={x0:0,x1:b2Z,y0:c2Z[L2Z].Close,y1:A2Z[j2Z]["1" << 1507778016]};G2Z=q7r.strToDateTime(g2Z);I2Z=t2Z.standardMarketIterator(G2Z);V2Z=!{};for(var n2Z=0;n2Z <= b2Z;n2Z++){if(!V2Z){V2Z=!"";}else {G2Z=I2Z.next();}if(G2Z.getTime() <= c2Z[c2Z.length - +"1"].DT.getTime())continue;H2Z=q7r.yIntersection(k7Z,n2Z);if(!H2Z){H2Z=+"0";}K9O.V05(117);var y81=K9O.c05(4,184,909,7,9995);K9O.V05(74);var t81=K9O.c05(9,19,110000,100028);B2Z=Math.round(H2Z * y81) / t81;if(B2Z === +"0"){B2Z=A2Z[j2Z][1];}w7Z={Date:q7r.yyyymmddhhmmssmmm(G2Z),DT:G2Z,Open:B2Z,Close:B2Z,High:B2Z,Low:B2Z,Volume:0,Adj_Close:B2Z,Split_Close:B2Z,projection:! ![]};if(t2Z.layout.interval == "minute")if(R2Z-- < 0)break;c2Z[c2Z.length]=w7Z;}}}};}};w1r=r7Z=>{var W7Z;W7Z=typeof _CIQ !== "undefined"?_CIQ:r7Z.CIQ;if(!W7Z.computeEquationChart){console.error("equationsAdvanced feature requires first activating equations feature.");}else {W7Z.formatEquation=function(N7Z){var M3O=i3ss;var O7Z,K7Z,U7Z,d7Z,v7Z;O7Z="";K7Z=[];U7Z="";M3O.H9O();d7Z=!"1";for(var z7Z=1;z7Z < N7Z.length;z7Z++){v7Z=N7Z[z7Z];if(v7Z == "[" && !d7Z){d7Z=! !"1";}else if(v7Z == "]" && d7Z){d7Z=!{};if(U7Z !== ""){K7Z.push(U7Z);M3O.V05(28);O7Z+=M3O.c05(U7Z,("918.42" * 1,8080) <= 480.52?(7.44e+3,3.92e+3):(237.6,9917) > 1500?861.84 > (149,5003)?("U",5.70e+3):"[":"n",693.28 > 9870?3.46e+3:8820 > 6770?"]":!{});}U7Z="";}else if(d7Z){U7Z+=v7Z;}else if(v7Z == ((4020,5132) !== 689.65?("1446" | 1056,1980) >= (563.26,5340)?(995,! !"1"):"+":0x15d) || v7Z == "-" || v7Z == (("8270" << 686045792,+"3230") === (703.72,5656)?! !{}:6043 == ("8450" * 1,268.82)?+"629" !== 3330?("d",399.00):(1.36e+3,246.05):"*") || v7Z == ((388,219.7) <= 5020?"/":(887,557)) || v7Z == (6779 !== 533.33?":":! !"") || v7Z == ((5740,34.31) > (539.16,808.89)?(0x601,0x609):225.99 <= (7607,7046)?"%":(9.94e+3,8.19e+3)) || v7Z == (8640 === (7210,9840)?0x1bc3:8339 > 8580?(4970,160.45) === +"711.6"?(0x13a9,"o"):! ![]:"(") || v7Z == ((+"907.46",347.1) != 643?")":(+"501.82","I"))){if(U7Z !== "" && isNaN(U7Z)){K7Z.push(U7Z);M3O.j05(28);O7Z+=M3O.N05(U7Z,"[",1900 !== 1220?"]":(! !"","V"));}else {O7Z+=U7Z;}if(v7Z == (957.74 != (8732,272.31)?(549.16,541.51) != ("536.01" * 1,7833)?":":("S",+"0xf34"):373.82)){v7Z=7310 == +"9331"?! !1:(3833,96.12) !== (9740,"687.41" - 0)?1570 == 1809?(487.57,!{}):"/":3.64e+3;}O7Z+=v7Z;U7Z="";}else if(v7Z != ((+"7997",6960) == +"2280"?(9302,5479) <= (668.85,8377)?("S",770.00):552.22:" ")){U7Z+=v7Z;}}if(U7Z !== "" && isNaN(U7Z)){K7Z.push(U7Z);M3O.V05(28);O7Z+=M3O.c05(U7Z,+"7150" === (7430,420)?0x142:(3727,729) < 5685?"[":(576.16,0xae2),+"2295" <= (8750,5653)?"]":(1130,9974) != (8303,229.27)?99.5 === 7610?"6.44e+3" << 1247456512:(272,!{}):(! !"1",! !{}));}else {O7Z+=U7Z;}return {equation:O7Z,symbols:K7Z};};W7Z.fetchEquationChart=function(y7Z,Z7Z){var u7Z,l7Z,S7Z,h7Z,p7Z;u7Z=W7Z.formatEquation(y7Z.symbol);l7Z=u7Z.symbols;i3ss.Z9O();S7Z=[];h7Z=y7Z.stx;y7Z.stx=null;for(var e7Z=0;e7Z < l7Z.length;e7Z++){p7Z=W7Z.shallowClone(y7Z);p7Z.stx=h7Z;p7Z.symbol=l7Z[e7Z];p7Z.symbolObject={symbol:l7Z[e7Z]};S7Z.push(p7Z);}y7Z.stx=h7Z;h7Z.quoteDriver.multiFetch(S7Z,function(Y7Z){var o7Z,m7Z,M7Z,D7Z,Q7Z;i3ss.Z9O();o7Z={};y7Z.loadMoreReplace=! !{};m7Z={charge:0};for(var a7Z=+"0";a7Z < Y7Z.length;a7Z++){M7Z=Y7Z[a7Z];if(M7Z.dataCallback.error){Z7Z({error:M7Z.dataCallback.error});return;}o7Z[M7Z.params.symbol]=M7Z.dataCallback.quotes;y7Z.loadMoreReplace=y7Z.loadMoreReplace && M7Z.params.loadMoreReplace;y7Z.moreToLoad=y7Z.moreToLoad || M7Z.dataCallback.moreAvailable;D7Z=M7Z.dataCallback.attribution;if(D7Z){if(D7Z.charge){m7Z.charge+=D7Z.charge;}m7Z.source=D7Z.source;if(m7Z.exchange === undefined){m7Z.exchange=D7Z.exchange;}else if(m7Z.exchange != D7Z.exchange){m7Z.exchange="";};}}if(S7Z.length || !(y7Z.loadMore || y7Z.update)){try{Q7Z=W7Z.computeEquationChart(u7Z.equation,o7Z);Z7Z({quotes:Q7Z,moreAvailable:y7Z.moreToLoad,attribution:m7Z});}catch(E7Z){var T7Z;T7Z={error:"Invalid equation: " + u7Z.equation};if(E7Z.name && E7Z.name == "NoException"){T7Z.suppressAlert=!"";}Z7Z(T7Z);}}});};}};i1r=P7Z=>{var u9O=i3ss;var b6J,C7Z,r4J,y4J,t4J;b6J="u";b6J+="nd";u9O.Z9O();b6J+="efined";C7Z=typeof _CIQ !== b6J?_CIQ:P7Z.CIQ;if(!C7Z.Marker){u9O.V05(29);r4J=u9O.N05(117450802,"530921523");y4J=1002307300;t4J=2;for(var g4J=+"1";u9O.T0J(g4J.toString(),g4J.toString().length,1764) !== r4J;g4J++){console.error("highPerformanceMarkers feature requires first activating markers feature.");t4J+=2;}if(u9O.B0J(t4J.toString(),t4J.toString().length,"21996" >> 542391936) !== y4J){console.error("");}}else if(!C7Z.Marker.Performance){C7Z.ChartEngine.prototype.removeDOMMarker=function(X7Z){console.warn("CIQ.ChartEngine#removeDOMMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance#remove instead.");C7Z.Marker.Performance.prototype.removeDOMMarker.call(X7Z.params.node,X7Z);};C7Z.ChartEngine.prototype.drawMarkers=function(){console.warn("CIQ.ChartEngine#drawMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");C7Z.Marker.Performance.drawMarkers(this);};C7Z.ChartEngine.prototype.calculateMarkerStyles=function(F7Z,q7Z){console.warn("CIQ.ChartEngine#calculateMarkerStyles is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.calculateStyles instead.");C7Z.Marker.Performance.calculateMarkerStyles(this,F7Z,q7Z);};C7Z.ChartEngine.prototype.drawCircleMarker=function(c7Z,B7Z,A7Z){u9O.Z9O();console.warn("CIQ.ChartEngine#drawCircleMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCircleMarker instead.");C7Z.Marker.Performance.drawCircleMarker(c7Z,B7Z,A7Z);};C7Z.ChartEngine.prototype.drawSquareMarker=function(G7Z,j7Z,L7Z){u9O.Z9O();console.warn("CIQ.ChartEngine#drawSquareMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawSquareMarker instead.");C7Z.Marker.Performance.drawSquareMarker(G7Z,j7Z,L7Z);};C7Z.ChartEngine.prototype.drawCalloutMarker=function(b7Z,t7Z,g7Z){console.warn("CIQ.ChartEngine#drawCalloutMarker is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawCalloutMarker instead.");C7Z.Marker.Performance.drawCalloutMarker(b7Z,t7Z,g7Z);};C7Z.ChartEngine.prototype.drawMarkerStem=function(s7Z,I7Z,n7Z){u9O.H9O();console.warn("CIQ.ChartEngine#drawMarkerStem is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkerStem instead.");C7Z.Marker.Performance.drawMarkerStem(s7Z,I7Z,n7Z);};C7Z.ChartEngine.prototype.positionDOMMarkers=function(){console.warn("CIQ.ChartEngine#positionDOMMarkers is scheduled for deprecation in a future release\n Please use CIQ.Marker.Performance.drawMarkers instead.");u9O.H9O();C7Z.Marker.Performance.drawMarkers(this);};C7Z.Marker.Performance=function(V7Z){var D6J,G6J,f7Z,H7Z,J5Z,k5Z,R7Z,x5Z,w5Z,u6J,i5Z;D6J=".stx-marker-exp";D6J+="and";G6J="</";G6J+="div>";this.params={displayCategory:!"",displayStem:! !"1",invert:! !"",story:"",headline:""};C7Z.extend(this.params,V7Z);f7Z=this.template=document.createElement("TEMPLATE");u9O.j05(118);f7Z.innerHTML=u9O.N05("</div>",G6J,"</div>",'<div class="stx-marker stx-performance-marker stx-marker-expand"><h4></h4><p></p></div>','<div class="stx-marker highlight">','<div class="stx-marker-content">','<div class="stx-visual">','<div class="stx-stem"></div>');H7Z=this.template.content.cloneNode(! !{});J5Z=H7Z.querySelector(".stx-marker",f7Z);J5Z.classList.add(V7Z.type);J5Z.classList.add(V7Z.category);k5Z=H7Z.querySelector(".stx-visual",f7Z);R7Z=H7Z.querySelector(D6J);x5Z=H7Z.querySelector("h4",f7Z);w5Z=H7Z.querySelector("p",f7Z);x5Z.innerText=this.params.headline;w5Z.innerText=this.params.story;this.hasText=! !V7Z.headline || ! !V7Z.story;this.deferAttach=! ![];this.node=H7Z.firstChild;this.node.params=this.params;this.visual=k5Z;this.expand=R7Z;if(V7Z.type === "callout"){u6J=".stx-marker-c";u6J+="ontent";i5Z=R7Z.removeChild(x5Z);H7Z.querySelector(u6J,f7Z).insertBefore(i5Z,R7Z);}};C7Z.inheritsFrom(C7Z.Marker.Performance,C7Z.Marker.NodeCreator,!"1");C7Z.Marker.Performance.consolidateExpanded=function(K5Z){var W5Z,r5Z,O5Z,v5Z,d5Z;function z5Z(p5Z){var y5Z,N5Z,e5Z;y5Z=p5Z.params.node;N5Z=y5Z.expand;if(!N5Z){return "";}u9O.Z9O();e5Z=N5Z.style.display !== "none"?N5Z.innerHTML:"";return e5Z;}W5Z=K5Z.markerHelper.highlighted;if(!W5Z.length){return;}u9O.V05(119);var j81=u9O.N05(17,6,1597,12,14);r5Z=W5Z[W5Z.length - j81];O5Z=r5Z.params.node;if(!r5Z.consolidated){r5Z.consolidated=[];}for(var U5Z=W5Z.length - 2;U5Z >= 0;U5Z--){v5Z=z5Z(W5Z[U5Z]);u9O.V05(28);d5Z=u9O.c05(v5Z,"<consolidated>","</consolidated>");if(v5Z.length){O5Z.expand.innerHTML+=d5Z;}}r5Z.stxNodeCreator.quickCache(r5Z);};C7Z.Marker.Performance.reconstituteExpanded=function(h5Z){var u5Z,Z5Z,m5Z,S5Z;u5Z=h5Z.markerHelper.highlighted;u9O.Z9O();if(!u5Z.length || !h5Z.activeMarker){return;}u5Z=[h5Z.activeMarker];for(var l5Z=u5Z.length - 1;l5Z >= 0;l5Z--){Z5Z=u5Z[l5Z];m5Z=Z5Z.params.node;S5Z=m5Z.expand;while(S5Z.lastElementChild.nodeName === "CONSOLIDATED"){S5Z.removeChild(S5Z.lastElementChild);}}};C7Z.Marker.Performance.drawMarkers=function(Y5Z){var T5Z,M5Z,a5Z,o5Z,Q5Z,E5Z;T5Z=Y5Z.getMarkerArray("all");M5Z=Y5Z.chart;for(var D5Z=0;D5Z < T5Z.length;D5Z++){a5Z=T5Z[D5Z];o5Z=a5Z.stxNodeCreator;Q5Z=M5Z.dataSegment[0].tick;E5Z=M5Z.dataSegment[M5Z.dataSegment.length - 1].tick;if(Q5Z <= a5Z.tick <= E5Z){if(o5Z && o5Z.drawMarker){o5Z.drawMarker(a5Z);}}}};C7Z.Marker.Performance.calculateMarkerStyles=function(P5Z,X5Z,c5Z){u9O.Z9O();var C5Z,i6J,F5Z,q5Z;C5Z=document.querySelector(".stx-marker-templates");if(!C5Z){i6J="D";i6J+="I";i6J+="V";C5Z=document.createElement(i6J);C5Z.style.visibility="hidden";C5Z.style.left="-1000px";document.body.append(C5Z);}C5Z.appendChild(X5Z.node);F5Z=getComputedStyle(X5Z.stxNodeCreator.visual);if(!P5Z.styles.stx_marker_stem){q5Z=getComputedStyle(document.querySelector(".stx-stem",X5Z.node));P5Z.styles.stx_marker_stem=P5Z.cloneStyle(q5Z);}P5Z.styles[c5Z]=P5Z.cloneStyle(F5Z);C5Z.removeChild(X5Z.node);};C7Z.Marker.Performance.drawCircleMarker=function(L5Z,n5Z,A5Z){var s5Z,I5Z,B5Z,G5Z,j5Z,b5Z,t5Z,g5Z;s5Z=L5Z.params.stx;I5Z=s5Z.chart;B5Z=I5Z.context;G5Z=A5Z.x;j5Z=A5Z.y;b5Z=A5Z.radius;t5Z=A5Z.label;g5Z=A5Z.color?A5Z.color:n5Z.backgroundColor;B5Z.beginPath();B5Z.setLineDash([]);B5Z.lineWidth=1;B5Z.fillStyle=g5Z;B5Z.strokeStyle=g5Z;B5Z.font="normal bold 12px Roboto, Helvetica, sans-serif";B5Z.arc(G5Z,j5Z,b5Z,0,2 * Math.PI,!{});B5Z.fill();B5Z.stroke();B5Z.closePath();if(t5Z){B5Z.fillStyle=C7Z.colorsEqual("white",B5Z.fillStyle)?"black":"white";B5Z.fillText(t5Z.charAt(0).toUpperCase(),G5Z - 4,j5Z + 1);}if(L5Z.highlight || L5Z.active){B5Z.beginPath();u9O.V05(2);B5Z.arc(G5Z,j5Z,u9O.N05(4,b5Z),0,2 * Math.PI,! !0);B5Z.stroke();B5Z.closePath();}};C7Z.Marker.Performance.drawSquareMarker=function(k4Z,U4Z,f5Z){var x6J,W4Z,r4Z,H5Z,J4Z,x4Z,V5Z,w4Z,i4Z,R5Z,e6J,E6J;x6J="normal bold 12px Roboto, Helvetica, sa";x6J+="ns";x6J+="-serif";W4Z=k4Z.params.stx;r4Z=W4Z.chart;H5Z=r4Z.context;J4Z=f5Z.x;x4Z=f5Z.y;V5Z=f5Z.half;w4Z=f5Z.label;i4Z=f5Z.color?f5Z.color:U4Z.backgroundColor;u9O.V05(22);R5Z=u9O.N05(V5Z,2);H5Z.beginPath();H5Z.setLineDash([]);H5Z.lineWidth=1;H5Z.fillStyle=i4Z;H5Z.strokeStyle=i4Z;H5Z.font=x6J;u9O.j05(4);H5Z.rect(u9O.N05(J4Z,V5Z),u9O.N05(x4Z,V5Z),R5Z,R5Z);H5Z.fill();if(k4Z.highlight || k4Z.active){u9O.V05(120);H5Z.rect(u9O.N05("4",517112256,V5Z,J4Z),u9O.c05(x4Z,4,V5Z,u9O.j05(39)),u9O.c05(8,R5Z,u9O.j05(2)),u9O.c05(8,R5Z,u9O.V05(2)));}H5Z.stroke();H5Z.closePath();if(w4Z){e6J="wh";e6J+="it";e6J+="e";E6J="bla";E6J+="ck";H5Z.fillStyle=C7Z.colorsEqual("white",H5Z.fillStyle)?E6J:e6J;H5Z.fillText(w4Z.charAt(0).toUpperCase(),J4Z - 4,x4Z + 1);}};C7Z.Marker.Performance.drawCalloutMarker=function(K4Z,M4Z,O4Z){var W6J,S6J,h4Z,Z4Z,v4Z,d4Z,D4Z,N4Z,y4Z,e4Z,p4Z,u4Z,m4Z,z4Z,l4Z,S4Z;W6J="bl";W6J+="ac";W6J+="k";S6J="rgba(2";S6J+="55,2";S6J+="55,2";S6J+="55,0.8)";h4Z=K4Z.params.stx;Z4Z=h4Z.chart;v4Z=Z4Z.context;d4Z=K4Z.params;D4Z=O4Z.x;N4Z=O4Z.y;y4Z=O4Z.half;e4Z=O4Z.midWidth;p4Z=O4Z.headline;u4Z=O4Z.color?O4Z.color:M4Z.backgroundColor;m4Z=y4Z * 2 || 25;z4Z=Math.round(v4Z.measureText(p4Z).width);l4Z=e4Z?e4Z * 2:z4Z + 8;v4Z.beginPath();v4Z.setLineDash([]);v4Z.lineWidth=1;v4Z.fillStyle=u4Z;v4Z.strokeStyle=u4Z;v4Z.font="normal bold 12px Roboto, Helvetica, sans-serif";v4Z.rect(d4Z.box.x0,d4Z.box.y0,l4Z,m4Z);v4Z.fill();v4Z.stroke();v4Z.closePath();v4Z.beginPath();v4Z.fillStyle=K4Z.highlight || K4Z.active?S6J:"rgba(255,255,255,0.65)";u9O.j05(121);S4Z=u9O.N05("20",z4Z,0,832218112,l4Z,"2");v4Z.rect(d4Z.box.x0 + S4Z,N4Z - y4Z,z4Z + 40,22);v4Z.fill();v4Z.stroke();v4Z.closePath();v4Z.fillStyle=W6J;v4Z.fillText(p4Z,d4Z.box.x0 + S4Z + 10,N4Z);};C7Z.Marker.Performance.drawMarkerStem=function(o4Z,E4Z,T4Z){var C4Z,P4Z,a4Z,Y4Z,q4Z,Q4Z,X4Z,F4Z;C4Z=o4Z.params.stx;P4Z=C4Z.chart;u9O.Z9O();a4Z=P4Z.context;Y4Z=T4Z.x;q4Z=T4Z.y;a4Z.beginPath();a4Z.strokeStyle=E4Z.borderLeftColor;a4Z.setLineDash([1,1]);Q4Z=C7Z.stripPX(E4Z.height);X4Z=T4Z.invert?o4Z.params.box.y0:o4Z.params.box.y1;F4Z=T4Z.invert?o4Z.params.box.y0 - Q4Z:o4Z.params.box.y1 + Q4Z;a4Z.moveTo(Y4Z,X4Z);a4Z.lineTo(Y4Z,F4Z);a4Z.stroke();a4Z.closePath();};C7Z.Marker.Performance.prototype.drawMarker=function(c4Z){var p6J,n4Z,A4Z,k8Z,w8Z,R4Z,G4Z,t4Z,g4Z,i8Z,J8Z,H4Z,x8Z,f4Z,j4Z,V4Z,B4Z,s4Z,I4Z,W8Z,r8Z,L4Z,b4Z;p6J="c";p6J+="ir";p6J+="c";p6J+="le";n4Z=c4Z.params;A4Z=c4Z.params.stx;if(!A4Z){return;}k8Z=A4Z.chart;w8Z=k8Z.dataSegment;if(!w8Z.length){return;}R4Z=A4Z.panels[c4Z.params.panelName];G4Z=c4Z.stxNodeCreator.params;t4Z=G4Z.type;g4Z=G4Z.category;i8Z=G4Z.headline;J8Z=G4Z.displayCategory;H4Z=G4Z.color;x8Z=G4Z.invert;u9O.V05(66);f4Z=u9O.N05("stx_marker_",g4Z,t4Z,"_");if(!A4Z.styles[f4Z]){C7Z.Marker.Performance.calculateMarkerStyles(A4Z,c4Z,f4Z);}j4Z=c4Z.style=A4Z.styles[f4Z];V4Z=A4Z.styles.stx_marker_stem;u9O.j05(122);var g81=u9O.c05(11,80,9,4,3114);u9O.V05(123);var M81=u9O.c05(20,20,8,34,1);B4Z=parseInt(j4Z.height,g81) / M81;u9O.j05(124);var k81=u9O.N05(9,145,13,15,13);s4Z=parseInt(j4Z.width,k81) / +"2";I4Z=G4Z.displayStem?parseInt(V4Z.height,10) + parseInt(V4Z.marginBottom,10):0;W8Z=I4Z + parseInt(j4Z.height,+"10");r8Z=I4Z?I4Z + B4Z:0;L4Z=A4Z.pixelFromDate(n4Z.x);b4Z=n4Z.node.calculateYPosition({marker:c4Z,panel:R4Z,height:W8Z,half:B4Z,offset:r8Z,inverted:x8Z});if(!c4Z.tick && c4Z.tick !== 0){return;}n4Z.box={x0:L4Z - (s4Z || B4Z),y0:b4Z - B4Z,x1:L4Z + (s4Z || B4Z),y1:b4Z + B4Z,midY:B4Z,midX:s4Z || B4Z,stemHeight:I4Z};if(!J8Z){g4Z=J8Z;}A4Z.startClip(R4Z.name);if(t4Z === p6J){C7Z.Marker.Performance.drawCircleMarker(c4Z,j4Z,{x:L4Z,y:b4Z,radius:B4Z,label:g4Z,color:H4Z});}else if(t4Z === "square"){C7Z.Marker.Performance.drawSquareMarker(c4Z,j4Z,{x:L4Z,y:b4Z,half:B4Z,label:g4Z,color:H4Z});}else if(t4Z === "callout"){C7Z.Marker.Performance.drawCalloutMarker(c4Z,j4Z,{x:L4Z,y:b4Z,half:B4Z,midWidth:s4Z,headline:i8Z,color:H4Z});}else {u9O.V05(28);console.warn(u9O.c05(t4Z,"Marker type: "," is unsupported with canvas markers!\nSupported Styles are Square, Circle, and Callout."));}u9O.Z9O();if(G4Z.displayStem){C7Z.Marker.Performance.drawMarkerStem(c4Z,V4Z,{x:L4Z,y:b4Z,invert:x8Z});}A4Z.endClip();if(c4Z.attached){this.positionPopUpNode(c4Z);}};C7Z.Marker.Performance.prototype.positionPopUpNode=function(v8Z){var F6J,y8Z,d8Z,U8Z,e8Z,z8Z,O8Z,p8Z,L6J,Z8Z,m8Z,M8Z,D8Z,u8Z,K8Z,h8Z,l8Z,N8Z,S8Z,a8Z;F6J="px) ";F6J+="t";F6J+="ranslat";F6J+="eY(";if(!v8Z.attached || !v8Z.params.box){return;}y8Z=v8Z.params;d8Z=y8Z.stx;U8Z=y8Z.box;e8Z=v8Z.params.node.expand;z8Z=d8Z.chart.dataSet;O8Z=d8Z.chart.dataSegment;if(v8Z.tick){L6J="D";L6J+="a";L6J+="te";Z8Z=[z8Z[O8Z["0" << 33899776] && O8Z[0].tick - 1],z8Z[O8Z[0] && O8Z[0].tick - 2]];m8Z=d8Z.getFirstLastDataRecord(Z8Z.concat(O8Z),"Date");u9O.j05(125);var w81=u9O.N05(11,8,6,11);u9O.V05(126);var h81=u9O.N05(19,18,1,0);M8Z=[z8Z[O8Z[O8Z.length - w81].tick + +"1"],z8Z[O8Z[O8Z.length - h81].tick + ("2" ^ 0)]];D8Z=d8Z.getFirstLastDataRecord(O8Z.concat(M8Z),L6J,! !1);p8Z=m8Z.DT <= z8Z[v8Z.tick].DT && z8Z[v8Z.tick].DT <= D8Z.DT;}else {p8Z=!1;}if(!v8Z.highlight && !v8Z.active){p8Z=!1;}e8Z.style.visibility=p8Z?"":"hidden";if(!p8Z){return;}u8Z=d8Z.panels[y8Z.panelName];K8Z=e8Z.rects;h8Z=K8Z.height / +"2";N8Z=v8Z.node.params.infoOffset || 0;if(v8Z.node.params.infoOnLeft){l8Z=U8Z.x0 - K8Z.width - N8Z < u8Z.left?U8Z.x1 + N8Z:U8Z.x0 - K8Z.width - N8Z;}else {l8Z=U8Z.x0 + K8Z.width > u8Z.right?U8Z.x0 - K8Z.width - N8Z:U8Z.x1 + N8Z;}l8Z-=d8Z.chart.left;S8Z=U8Z.y0 - h8Z >= u8Z.top?U8Z.y0 + U8Z.midY - h8Z:U8Z.y0;if(!y8Z.avoidFlush && U8Z.y1 + U8Z.stemHeight === u8Z.yAxis.bottom && K8Z.height > U8Z.y1 - U8Z.y0 + U8Z.stemHeight){S8Z=U8Z.y1 - K8Z.height + U8Z.stemHeight;}S8Z-=d8Z.chart.panel.top;a8Z="translateX(" + Math.floor(l8Z) + F6J + Math.floor(S8Z) + "px) translateZ(0)";e8Z.style.transform=a8Z;e8Z.transform={translateX:l8Z,translateY:S8Z};};C7Z.Marker.Performance.prototype.quickCache=function(Y8Z){var Q8Z,o8Z,T8Z,E8Z,k9J,w9J,h9J;Q8Z=Y8Z.params.node;o8Z=Q8Z.expand;T8Z=Y8Z.style;E8Z=C7Z.stripPX(T8Z.marginLeft) + C7Z.stripPX(T8Z.marginRight) + C7Z.stripPX(T8Z.borderRight) + C7Z.stripPX(T8Z.borderLeft);k9J=2050459326;w9J=-1355961787;h9J=2;for(var Z9J=1;u9O.T0J(Z9J.toString(),Z9J.toString().length,52513) !== k9J;Z9J++){o8Z.rects=o8Z.getBoundingClientRect();h9J+=2;}if(u9O.T0J(h9J.toString(),h9J.toString().length,77625) !== w9J){o8Z.rects=o8Z.getBoundingClientRect();}u9O.H9O();o8Z.rects=o8Z.getBoundingClientRect();o8Z.scrollBarWidth=o8Z.rects.width - o8Z.clientWidth - E8Z;};C7Z.Marker.Performance.prototype.calculateYPosition=function(B8Z){var c8Z,P8Z,j8Z,A8Z,q8Z,L8Z,X8Z,b8Z,t8Z,F8Z,G8Z,g8Z,C8Z,s8Z,I8Z;c8Z=B8Z.marker;P8Z=B8Z.panel;j8Z=B8Z.height;A8Z=B8Z.half;q8Z=B8Z.offset;L8Z=B8Z.inverted;X8Z=c8Z.params.stx;b8Z=X8Z.chart;t8Z=X8Z.chart.highLowBars;F8Z=b8Z.dataSet[c8Z.tick];if(!F8Z){return;}G8Z=t8Z?F8Z.High:F8Z.Close;g8Z=c8Z.params.yPositioner;switch(g8Z){case "value":if(c8Z.params.y || c8Z.params.y === 0){C8Z=X8Z.pixelFromPrice(c8Z.params.y,P8Z) - j8Z * 0.5 + A8Z;}else {C8Z=X8Z.pixelFromPrice(G8Z,P8Z) - q8Z;}break;case "above_candle":C8Z=X8Z.pixelFromPrice(G8Z,P8Z) - q8Z;break;case "below_candle":C8Z=X8Z.pixelFromPrice(F8Z.Low || G8Z,P8Z);if(L8Z && q8Z){C8Z+=q8Z;}else {C8Z+=A8Z;}break;case "on_candle":(s8Z=F8Z.High || F8Z.Close,I8Z=F8Z.Low || F8Z.Low === ("0" & 2147483647) || F8Z.Close);C8Z=X8Z.pixelFromPrice((s8Z + I8Z) / +"2",P8Z) - j8Z * 0.5 + A8Z;break;case "top":C8Z=X8Z.pixelFromPrice(P8Z.yAxis.high,P8Z);if(L8Z && q8Z){C8Z+=q8Z;}else {C8Z+=A8Z;}break;case "bottom":C8Z=X8Z.pixelFromPrice(P8Z.yAxis.low,P8Z) - (q8Z || A8Z);break;default:break;}return C8Z;};C7Z.Marker.Performance.prototype.prepareForHolder=function(H8Z){var n8Z,f8Z;n8Z=this.expand;f8Z=H8Z.params.stx;n8Z.classList.add(this.params.type);f8Z.markerHelper.domMarkers.push(H8Z);u9O.Z9O();return n8Z;};C7Z.Marker.Performance.prototype.addToHolder=function(v1j){var R8Z,V8Z;function O1j(d1j){V8Z.activeMarker=v1j;u9O.H9O();V8Z.activeMarker.click({cx:d1j.clientX,cy:d1j.clientY,panel:V8Z.currentPanel});d1j.stopPropagation();}R8Z=this.expand;V8Z=v1j.params.stx;C7Z.Marker.Performance.reconstituteExpanded(V8Z);C7Z.Marker.Performance.consolidateExpanded(V8Z);this.quickCache(v1j);if(R8Z.clickClosure){return;}u9O.H9O();R8Z.addEventListener("mousedown",O1j);R8Z.addEventListener("touchstart",O1j,{passive:!"1"});R8Z.clickClosure=O1j;};C7Z.Marker.Performance.prototype.remove=function(u1j){var K1j,h1j,M1j,S1j;K1j=u1j.params.stx;if(!K1j){return;}if(!K1j.markerHelper.domMarkers){return;}h1j=K1j.markerHelper.domMarkers.indexOf(u1j);u9O.Z9O();if(h1j != -1){K1j.markerHelper.domMarkers.splice(h1j,1);}if(u1j.attached){M1j=K1j.panels[u1j.params.panelName];S1j=u1j.params.node.expand;if(S1j.parentNode === M1j.subholder){M1j.subholder.removeChild(S1j);}S1j.removeEventListener("click",S1j.clickClosure);}};C7Z.Marker.Performance.prototype.click=function(B1j){var F1j,A1j,X1j;if(!this.hasText){return;}if(typeof arguments[0] === "number"){B1j={cx:arguments[0],cy:arguments[1],marker:arguments[+"2"],panel:arguments[3]};}var {cx:q1j, cy:j1j, marker:a1j, panel:L1j}=B1j;F1j=a1j.params.stx;if(a1j.attached){X1j=this.expand;if(X1j.rects.width - X1j.scrollBarWidth + X1j.transform.translateX < F1j.backOutX(q1j) && F1j.backOutX(q1j) < X1j.rects.width + X1j.transform.translateX){return;}this.remove(a1j);}else {F1j.addToHolder(a1j);A1j=! !{};}u9O.Z9O();a1j.attached=!a1j.attached;a1j.active=!a1j.active;if(A1j){a1j.stxNodeCreator.positionPopUpNode(a1j);}};}};W1r=s1j=>{var g1j;g1j=typeof _CIQ !== "undefined"?_CIQ:s1j.CIQ;g1j.Renderer.OHLC.requestNew=function(i0j,I1j){var n1j,f1j,V1j,J0j,x0j,k0j,t6J,y6J,r6J,w0j;n1j=null;f1j=I1j.hlc;V1j=I1j.colored;J0j=I1j.hollow;x0j=I1j.volume;k0j=I1j.histogram;for(var H1j=0;H1j < i0j.length;H1j++){t6J="ho";t6J+="llo";t6J+="w";y6J="cand";y6J+="l";y6J+="e";r6J="b";r6J+="a";r6J+="r";w0j=i0j[H1j];switch(w0j){case r6J:case y6J:n1j=w0j;break;case "volume":x0j=! ![];break;case t6J:J0j=! !"1";break;case "colored":V1j=!"";break;case "histogram":k0j=! ![];n1j="candle";break;case "hlc":f1j=!"";n1j="bar";break;default:return null;}}if(n1j === null){return null;}return new g1j.Renderer.OHLC({params:g1j.extend(I1j,{type:n1j,hlc:f1j,colored:V1j,hollow:J0j,volume:x0j,histogram:k0j})});};g1j.Renderer.OHLC.getChartParts=function(z0j,K0j){var R1g,N1g,I1g,Y1g,O1g,l1g,J1g,m1g,X1g,s1g,V1g,C1g,A1g,P1g,c6J,v6J,H6J,f6J,Z6J,q6J,h6J,w6J,k6J,M6J,g6J,j6J,U0j,v0j,O0j,W0j,r0j,d0j;R1g="b";R1g+="order";R1g+="_color_even";N1g="stx_h";N1g+="o";N1g+="llow_candle_even";I1g="bor";I1g+="der_color_down";Y1g="f";Y1g+="il";Y1g+="l_color";Y1g+="_down";O1g="fill_";O1g+="c";O1g+="olor_even";l1g="holl";l1g+="ow";J1g="f";J1g+="ill";J1g+="_colo";J1g+="r_down";m1g="bo";m1g+="rder_col";m1g+="or_up";X1g="stx_h";X1g+="ollow_candl";X1g+="e";X1g+="_up";i3ss.Z9O();s1g="border_color_e";s1g+="ve";s1g+="n";V1g="sh";V1g+="ad";V1g+="o";V1g+="w";C1g="sha";C1g+="do";C1g+="w";A1g="ca";A1g+="nd";A1g+="l";A1g+="e";P1g="stx_ca";P1g+="ndle";P1g+="_shadow_down";c6J="stx_c";c6J+="andle_shadow_up";v6J="ca";v6J+="n";v6J+="d";v6J+="le";H6J="shad";H6J+="ow";f6J="b";f6J+="a";f6J+="r";Z6J="b";Z6J+="a";Z6J+="r";q6J="s";q6J+="t";q6J+="x_b";q6J+="ar_up";h6J="stx_bar_";h6J+="chart";w6J="stx_";w6J+="histogram_even";k6J="b";k6J+="order";k6J+="_col";k6J+="or_down";M6J="fill_color_";M6J+="dow";M6J+="n";g6J="stx_histogram_";g6J+="up";j6J="h";j6J+="i";j6J+="stog";j6J+="ram";U0j=1;v0j=+"2";O0j=+"4";W0j=8;r0j=16;d0j=32;return [{type:j6J,drawType:"histogram",style:g6J,condition:W0j,fill:"fill_color_up",border:"border_color_up",useColorInMap:! !{},useBorderStyleProp:! !"1"},{type:"histogram",drawType:"histogram",style:"stx_histogram_down",condition:r0j,fill:M6J,border:k6J,useColorInMap:! ![],useBorderStyleProp:! !1},{type:"histogram",drawType:"histogram",style:w6J,condition:d0j,fill:"fill_color_even",border:"border_color_even",skipIfPass:! ![],useColorInMap:! ![],useBorderStyleProp:! !"1"},{type:"bar",drawType:"bar",style:z0j || h6J,border:"border_color",useColorInMap:!0},{type:"bar",drawType:"bar",style:q6J,condition:K0j?W0j:U0j,border:"border_color_up",useColorInMap:! !{}},{type:"bar",drawType:"bar",style:"stx_bar_down",condition:K0j?r0j:v0j,border:"border_color_down",useColorInMap:! ![]},{type:Z6J,drawType:f6J,style:"stx_bar_even",condition:K0j?d0j:O0j,border:"border_color_even",skipIfPass:!"",useColorInMap:!0},{type:"candle",drawType:H6J,style:"stx_candle_shadow",border:"border_color_up"},{type:v6J,drawType:"shadow",style:c6J,condition:W0j,border:"border_color_up"},{type:"candle",drawType:"shadow",style:P1g,condition:r0j,border:"border_color_down"},{type:A1g,drawType:C1g,style:"stx_candle_shadow_even",condition:d0j,border:"border_color_even",skipIfPass:! !"1"},{type:"candle",drawType:"candle",style:"stx_candle_up",condition:W0j,fill:"fill_color_up",border:"border_color_up",useColorInMap:!"",useBorderStyleProp:!0},{type:"candle",drawType:"candle",style:"stx_candle_down",condition:r0j,fill:"fill_color_down",border:"border_color_down",useColorInMap:! ![],useBorderStyleProp:! !{}},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_up",condition:U0j,border:"border_color_up"},{type:"hollow",drawType:V1g,style:"stx_hollow_candle_down",condition:v0j,border:"border_color_down"},{type:"hollow",drawType:"shadow",style:"stx_hollow_candle_even",condition:O0j,border:s1g,skipIfPass:!""},{type:"hollow",drawType:"candle",style:X1g,condition:U0j | r0j,fill:"fill_color_up",border:m1g,useColorInMap:! ![]},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:v0j | r0j,fill:J1g,border:"border_color_down",useColorInMap:! ![]},{type:l1g,drawType:"candle",style:"stx_hollow_candle_even",condition:O0j | r0j,fill:O1g,border:"border_color_even",skipIfPass:!0,useColorInMap:! !1},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_up",condition:U0j | W0j,fill:"fill_color_up",border:"border_color_up"},{type:"hollow",drawType:"candle",style:"stx_hollow_candle_down",condition:v0j | W0j,fill:Y1g,border:I1g},{type:"hollow",drawType:"candle",style:N1g,condition:O0j | W0j,fill:"fill_color_even",border:R1g}];;};g1j.Renderer.Bars=function(y0j){var N0j;this.construct(y0j);i3ss.H9O();N0j=this.params;N0j.type="bar";this.highLowBars=this.barsHaveWidth=this.standaloneBars=! !{};N0j.hlc=N0j.volume=N0j.hollow=N0j.histogram=!"1";};g1j.inheritsFrom(g1j.Renderer.Bars,g1j.Renderer.OHLC,! !0);g1j.Renderer.HLC=function(p0j){var Q1g,e0j;Q1g="b";Q1g+="a";Q1g+="r";this.construct(p0j);i3ss.Z9O();e0j=this.params;e0j.type=Q1g;e0j.hlc=! !1;this.highLowBars=this.barsHaveWidth=this.standaloneBars=!0;e0j.volume=e0j.hollow=e0j.histogram=! !"";};g1j.inheritsFrom(g1j.Renderer.HLC,g1j.Renderer.Bars,!"1");g1j.Renderer.Shading=function(u0j){this.construct(u0j);this.beenSetup=! !0;this.errTimeout=null;this.params.useChartLegend=!{};this.shading=[];if(this.params.type == "rangechannel"){this.highLowBars=! !{};}};g1j.inheritsFrom(g1j.Renderer.Shading,g1j.Renderer.Lines,!1);g1j.Renderer.Shading.requestNew=function(m0j,M0j){var l0j,h0j,Z0j,W9J,p9J,L9J;l0j=null;h0j=null;for(var S0j=0;S0j < m0j.length;S0j++){Z0j=m0j[S0j];if(Z0j == "rangechannel"){l0j="rangechannel";}else if(Z0j == "step"){h0j=! !1;}}W9J=-1814436588;p9J=-218098731;i3ss.Z9O();L9J=2;for(var r9J=1;i3ss.B0J(r9J.toString(),r9J.toString().length,78150) !== W9J;r9J++){if(l0j != 1){return 1;}return new g1j.Renderer.Shading({params:g1j.extend(M0j,{type:l0j,step:h0j})});}if(i3ss.B0J(L9J.toString(),L9J.toString().length,"21756" >> 1908583840) !== p9J){if(l0j === null){return null;}return new g1j.Renderer.Shading({params:g1j.extend(M0j,{type:l0j,step:h0j})});}};g1j.Renderer.Shading.prototype.setShading=function(D0j){if(D0j.constructor != Array){D0j=[D0j];}this.shading=D0j;};g1j.Renderer.Shading.prototype.draw=function(){var d1g,Y0j,a0j,Q0j,U1g,z1g,B1g,T1g,G0j,C0j,j0j,F0j,L0j,E0j,T0j,q0j,a1g,c0j,b0j,o1g,n1g,K1g,o0j,X0j,B0j,A0j,P0j;d1g="rangechann";d1g+="el";Y0j=this.stx;a0j=this.params;Q0j=Y0j.panels[a0j.panel].chart;if(a0j.type == "rangechannel"){if(this.beenSetup){if(this.seriesParams.length > +"2"){this.removeSeries(this.seriesParams[2].id);}}else {U1g="L";U1g+="o";U1g+="w";z1g="S";z1g+="h";z1g+="a";z1g+="ding";B1g="H";B1g+="ig";B1g+="h";T1g="a";T1g+="u";T1g+="t";T1g+="o";this.beenSetup=! !{};a0j.display=this.seriesParams[0].display;a0j.yAxis=this.seriesParams[+"0"].yAxis;G0j=this.seriesParams[0].color || T1g;C0j=this.seriesParams[0].symbol;j0j="";if(C0j){i3ss.V05(2);j0j=i3ss.c05((1060,484.37) > (38,9340)?("Q",7.75e+3):524.34 >= 1026?!"":(639,153) > (7391,2520)?9.16e+3:".",C0j);}this.removeAllSeries(! !"1");F0j=a0j.name;Y0j.addSeries(null,{symbol:C0j,loadData:! !C0j,field:B1g,renderer:z1g,name:F0j,style:"stx_line_up",display:a0j.display,shareYAxis:! !{}});Y0j.addSeries(null,{symbol:C0j,loadData:! !C0j,field:U1g,renderer:"Shading",name:F0j,style:"stx_line_down",display:a0j.display,shareYAxis:! !{}});this.setShading({primary:this.seriesParams[0].id,secondary:this.seriesParams[1].id,color:G0j});}}i3ss.H9O();if(!this.shading){if(!this.errTimeout){console.log("Warning: no shading scheme set.  Use myRenderer.setShading(scheme) to set.");L0j=this;this.errTimeout=setTimeout(function(){L0j.errTimeout=null;},+"10000");}}E0j={};for(T0j=0;T0j < this.seriesParams.length;T0j++){q0j={};if(Q0j.series[this.seriesParams[T0j].id]){q0j=g1j.clone(Q0j.series[this.seriesParams[T0j].id].parameters);}E0j[this.seriesParams[T0j].id]={parameters:g1j.extend(g1j.extend(q0j,a0j),this.seriesParams[T0j]),yValueCache:this.caches[this.seriesParams[T0j].id]};}Y0j.drawSeries(Q0j,E0j,a0j.yAxis,this);if(Q0j.legend && a0j.type == d1g){a1g="stx_line_";a1g+="down";if(!Q0j.legend.colorMap){Q0j.legend.colorMap={};}c0j=a0j.display;b0j=[Y0j.getCanvasColor("stx_line_up"),Y0j.getCanvasColor(a1g)];Q0j.legend.colorMap[c0j]={color:b0j,display:c0j,isBase:this == Y0j.mainSeriesRenderer};;}for(T0j in E0j){this.caches[T0j]=E0j[T0j].yValueCache;}for(T0j=0;T0j < this.shading.length;T0j++){o1g="Cl";o1g+="os";o1g+="e";n1g="C";n1g+="l";n1g+="ose";K1g="a";K1g+="u";K1g+="t";K1g+="o";o0j=this.shading[T0j];X0j=o0j.color;if(o0j.color == K1g){X0j=Y0j.defaultColor;}if(!o0j.primary){o0j.primary="Close";}if(!o0j.secondary && this.seriesParams[0]){o0j.secondary=this.seriesParams[0].field;}if(!o0j.secondary)continue;else if(!E0j[o0j.primary] && o0j.primary != n1g)continue;else if(!E0j[o0j.secondary])continue;else if(o0j.primary == "Close" && a0j.yAxis && a0j.yAxis != Q0j.yAxis)continue;B0j=t0j(o0j.primary).split(7329 === ("403.32" - 0,+"4260")?(0x25f1,"k"):1870 < +"696.41"?("I",228):(+"6430",9140) == ("8900" | 576,+"280.2")?(551.71,![]):".");A0j=t0j(o0j.secondary).split("7866" - 0 === +"7187"?(![],0x233d):".");P0j={topBand:B0j["0" * 1],topSubBand:B0j[1],topColor:o0j.greater || X0j || Y0j.containerColor,topAxis:a0j.yAxis,bottomBand:A0j[0],bottomSubBand:A0j[1],bottomColor:o0j.lesser || X0j || Y0j.containerColor,bottomAxis:o0j.primary == o1g?null:a0j.yAxis,tension:a0j.tension || Q0j.tension,opacity:+"0.1",step:a0j.step};if(!P0j.topColor && !P0j.bottomColor)continue;if(!a0j.highlight && Y0j.highlightedDraggable){P0j.opacity*=0.3;}g1j.fillIntersecting(Y0j,a0j.panel,P0j);}function t0j(I0j){var g0j,n0j,s0j;g0j=E0j[I0j];i3ss.H9O();if(g0j){n0j=g0j.parameters.field;s0j=g0j.parameters.subField;i3ss.j05(2);return i3ss.c05(s0j?"." + s0j:"",n0j);}return I0j;}};g1j.Renderer.Histogram=function(H0j){i3ss.H9O();this.construct(H0j);this.params.type="histogram";this.barsHaveWidth=this.standaloneBars=! !{};if(this.params.yAxis){this.params.bindToYAxis=! ![];if(typeof this.params.yAxis.baseline == "number"){this.params.yAxis.baseline={value:this.params.yAxis.baseline};}}};g1j.inheritsFrom(g1j.Renderer.Histogram,g1j.Renderer,! !"");g1j.Renderer.Histogram.prototype.adjustYAxis=function(){var f0j;f0j=this.params.yAxis;if(!f0j || f0j.baseline){return;}i3ss.j05(51);i3ss.H9O();f0j.min=i3ss.N05("0",0);f0j.highValue/=this.params.heightPercentage || 1;};g1j.Renderer.Histogram.prototype.draw=function(){var V0j,R0j,b1g,J3j,x3j;V0j=g1j.clone(this.params);V0j.type=V0j.subtype;this.useSum=V0j.subtype == "stacked";if(!V0j.yAxis || V0j.yAxis == this.stx.chart.yAxis){V0j.bindToYAxis=! !1;}this.stx.drawHistogram(V0j,this.seriesParams);R0j=V0j.yAxis && V0j.yAxis.baseline;if(R0j && R0j.color){b1g="l";b1g+="i";b1g+="n";b1g+="e";J3j=this.stx.panels[this.params.panel];x3j=this.stx.pixelFromPrice(R0j.value,J3j,this.params.yAxis) - 0.5;this.stx.plotLine({x0:J3j.left,x1:J3j.right,y0:x3j,y1:x3j,color:R0j.color,type:b1g,context:J3j.chart.context,confineToPanel:J3j,pattern:R0j.pattern || "solid",lineWidth:R0j.lineWidth || 1,opacity:R0j.opacity || 0.8,globalCompositeOperation:"destination-over"});}};g1j.Renderer.Histogram.prototype.getBasis=function(r3j,U3j,v3j){var i3j,G1g,W3j,k3j;i3ss.H9O();i3j=+"0";if(r3j && this.useSum){for(var w3j=+"0";w3j < this.seriesParams.length;w3j++){G1g="o";G1g+="b";G1g+="j";G1g+="ect";W3j=this.seriesParams[w3j].field;if(W3j === U3j)break;k3j=r3j[W3j];if(k3j && typeof k3j === G1g){k3j=k3j[v3j || this.seriesParams[w3j].subField || this.stx.chart.defaultPlotField || "Close"];}if(k3j){i3j+=k3j;}}}return i3j;};g1j.Renderer.Heatmap=function(O3j){this.construct(O3j);this.params.type="heatmap";i3ss.Z9O();this.params.highlightable=![];this.barsHaveWidth=this.standaloneBars=! !{};};g1j.inheritsFrom(g1j.Renderer.Heatmap,g1j.Renderer,!{});g1j.Renderer.Heatmap.requestNew=function(z3j,y3j){var d3j,D1g,N3j;d3j=null;for(var K3j=0;K3j < z3j.length;K3j++){D1g="hea";D1g+="tmap";N3j=z3j[K3j];if(N3j == D1g){d3j="heatmap";}}if(d3j === null){return null;}return new g1j.Renderer.Heatmap({params:g1j.extend(y3j,{type:d3j})});};g1j.Renderer.Heatmap.prototype.draw=function(){i3ss.H9O();this.stx.drawHeatmap(g1j.clone(this.params),this.seriesParams);};g1j.Renderer.Scatter=function(e3j){this.construct(e3j);this.standaloneBars=this.barsHaveWidth=!0;this.bounded=! !{};};g1j.inheritsFrom(g1j.Renderer.Scatter,g1j.Renderer.Lines,![]);g1j.Renderer.Scatter.requestNew=function(l3j,h3j){var p3j,u1g,S3j;p3j=null;for(var u3j=0;u3j < l3j.length;u3j++){u1g="s";u1g+="catterplot";S3j=l3j[u3j];if(S3j == u1g){p3j="scatter";}}i3ss.H9O();if(p3j === null){return null;}return new g1j.Renderer.Scatter({params:g1j.extend(h3j,{type:p3j})});};g1j.Renderer.Scatter.prototype.drawIndividualSeries=function(D3j,m3j){var i1g,M3j,Z3j;i1g="Error, Scat";i1g+="ter ";i1g+="rend";i1g+="erer requires customChart.js";M3j=this.stx.panels[m3j.panel] || D3j.panel;Z3j={colors:[]};if(this.stx.scatter){Z3j=this.stx.scatter(M3j,m3j);}else {console.warn(i1g);}return Z3j;};};r1r=o3j=>{var a3j,E1g;i3ss.H9O();a3j=typeof _CIQ !== "undefined"?_CIQ:o3j.CIQ;if(!a3j.Studies){console.error("accumulationDistribution feature requires first activating studies feature.");}else {E1g="Accumu";E1g+="lation";E1g+="/Distribution";a3j.Studies.calculateAccumulationDistribution=function(F3j,E3j){i3ss.Z9O();var X3j,x1g,T3j,Q3j,C3j,P3j;X3j=E3j.chart.scrubbed;for(var Y3j=E3j.startFrom;Y3j < X3j.length;Y3j++){x1g="U";x1g+="se V";x1g+="olume";if(!Y3j)continue;T3j=X3j[Y3j];if(T3j.futureTick)break;i3ss.V05(4);Q3j=X3j[i3ss.N05(Y3j,1)];C3j=+"0";if(T3j.Close > Q3j.Close){C3j=T3j.Close - Math.min(T3j.Low,Q3j.Close);}else if(T3j.Close < Q3j.Close){C3j=T3j.Close - Math.max(T3j.High,Q3j.Close);}if(E3j.inputs[x1g]){C3j*=T3j.Volume;}P3j=Q3j["Result " + E3j.name];if(!P3j){P3j=0;}P3j+=C3j;if(!isNaN(T3j.Close)){T3j["Result " + E3j.name]=P3j;}}};a3j.Studies.studyLibrary=a3j.extend(a3j.Studies.studyLibrary,{"W Acc Dist":{name:E1g,calculateFN:a3j.Studies.calculateAccumulationDistribution,inputs:{"Use Volume":![]}}});}};U1r=c3j=>{var q3j,g1g,j1g;q3j=typeof _CIQ !== "undefined"?_CIQ:c3j.CIQ;if(!q3j.Studies){console.error("adx feature requires first activating studies feature.");}else {g1g="#";g1g+="00D";g1g+="D";g1g+="00";j1g="#0";j1g+="0FF00";q3j.Studies.calculateADX=function(k9j,B3j){var W7O=i3ss;var j3j,L3j,b3j,I3j,n3j,H3j,f3j,A3j,p1g,W1g,t3j,g3j,S1g,e1g,V3j,R3j,J9j,F1g,L1g,r1g,x9j,y1g;q3j.Studies.calculateStudyATR(k9j,B3j);W7O.Z9O();j3j=B3j.chart.scrubbed;L3j=B3j.days;b3j=parseInt(B3j.inputs["Smoothing Period"],10);if(!b3j && b3j !== 0){b3j=L3j;}if(j3j.length < B3j.days + 1){B3j.error=! !{};return;}I3j=0;n3j=0;H3j=0;W7O.j05(25);f3j=W7O.N05(1809168992,"0");for(var G3j=Math.max(1,B3j.startFrom);G3j < j3j.length;G3j++){p1g="_sm";p1g+="T";p1g+="R";p1g+=" ";W1g="_";W1g+="sm+DM ";A3j=j3j[G3j];t3j=Math.max(+"0",A3j.High - j3j[G3j - +"1"].High);W7O.V05(51);g3j=Math.max(W7O.N05("0",0),j3j[G3j - 1].Low - A3j.Low);if(t3j > g3j){g3j=0;}else if(g3j > t3j){t3j=0;}else {t3j=g3j=0;}if(G3j <= L3j){n3j+=t3j;H3j+=g3j;I3j+=A3j["True Range " + B3j.name];}else {S1g="_s";S1g+="mTR";S1g+=" ";e1g="_sm+";e1g+="DM ";W7O.j05(127);var q81=W7O.N05(2,6,5,11);W7O.V05(128);var Z81=W7O.c05(11,20,32);n3j=j3j[G3j - q81][e1g + B3j.name] * (L3j - Z81) / L3j + t3j;W7O.V05(128);var f81=W7O.N05(11,8,20);W7O.j05(3);var H81=W7O.N05(2,20,19);H3j=j3j[G3j - f81]["_sm-DM " + B3j.name] * (L3j - H81) / L3j + g3j;W7O.V05(4);var v81=W7O.c05(11,10);W7O.V05(3);var c81=W7O.c05(4,3,0);I3j=j3j[G3j - v81][S1g + B3j.name] * (L3j - c81) / L3j + A3j["True Range " + B3j.name];}A3j[W1g + B3j.name]=n3j;A3j["_sm-DM " + B3j.name]=H3j;A3j[p1g + B3j.name]=I3j;if(G3j < L3j)continue;W7O.j05(129);V3j=W7O.c05(n3j,100,I3j);W7O.V05(129);R3j=W7O.c05(H3j,100,I3j);W7O.j05(130);var P41=W7O.c05(15,120,32300,18);J9j=P41 * Math.abs(V3j - R3j) / (V3j + R3j);A3j["+DI " + B3j.name]=V3j;A3j["-DI " + B3j.name]=R3j;if(B3j.inputs.Series !== ! !0 && b3j){if(G3j < L3j + b3j - 1){if(G3j == B3j.startFrom){for(var s3j=L3j;s3j < B3j.startFrom;s3j++){F1g="-D";F1g+="I ";L1g="+DI";L1g+=" ";W7O.j05(39);var A41=W7O.c05(110,0,10);f3j+=A41 * Math.abs(j3j[s3j]["+DI " + B3j.name] - j3j[s3j]["-DI " + B3j.name]) / (j3j[s3j][L1g + B3j.name] + j3j[s3j][F1g + B3j.name]);}}f3j+=J9j;}else if(G3j == L3j + b3j - 1){W7O.V05(20);A3j["ADX " + B3j.name]=W7O.N05(b3j,f3j);}else {r1g="A";r1g+="D";r1g+="X";r1g+=" ";W7O.V05(1);var C41=W7O.c05(7,8);W7O.j05(11);var V41=W7O.N05(0,16,17);A3j["ADX " + B3j.name]=(j3j[G3j - C41][r1g + B3j.name] * (b3j - V41) + J9j) / b3j;}}if(B3j.inputs.Histogram){x9j=B3j.name + "_hist";if(!A3j["+DI " + B3j.name] && A3j["+DI " + B3j.name] !== 0)continue;if(!A3j["-DI " + B3j.name] && A3j["-DI " + B3j.name] !== 0)continue;A3j[x9j]=A3j["+DI " + B3j.name] - A3j["-DI " + B3j.name];if(B3j.inputs.Series === ! !0){y1g="-";y1g+="DI";y1g+=" ";A3j["+DI " + B3j.name]=null;A3j[y1g + B3j.name]=null;}B3j.outputMap[x9j]="";}}};q3j.Studies.displayADX=function(i9j,w9j,O9j){i3ss.H9O();var d9j,t1g,W9j,r9j,K9j,z9j,U9j,v9j;d9j=w9j.underlay?0.3:w9j.inputs.Series?0.4:1;if(w9j.inputs.Series && w9j.inputs.Shading){t1g="-DI";t1g+=" ";W9j="+DI " + w9j.name;r9j=t1g + w9j.name;K9j=q3j.Studies.determineColor(w9j.outputs[w9j.outputMap[W9j]]);z9j=q3j.Studies.determineColor(w9j.outputs[w9j.outputMap[r9j]]);U9j=w9j.getYAxis(i9j);v9j={topBand:W9j,bottomBand:r9j,topColor:K9j,bottomColor:z9j,skipTransform:i9j.panels[w9j.panel].name != w9j.chart.name,topAxis:U9j,bottomAxis:U9j,opacity:0.3};if(!w9j.highlight && i9j.highlightedDraggable){v9j.opacity*=+"0.3";}q3j.fillIntersecting(i9j,w9j.panel,v9j);}if(w9j.inputs.Histogram){q3j.Studies.createHistogram(i9j,w9j,O9j,! !0,d9j);}if(w9j.inputs.Series !== !"1"){q3j.Studies.displaySeriesAsLine(i9j,w9j,O9j);}else if(!w9j.inputs.Series && !w9j.inputs.Histogram){i9j.displayErrorAsWatermark(w9j.panel,i9j.translateIf(w9j.name) + ": " + i9j.translateIf("Nothing to display"));}};q3j.Studies.studyLibrary=q3j.extend(q3j.Studies.studyLibrary,{ADX:{name:"ADX/DMS",calculateFN:q3j.Studies.calculateADX,seriesFN:q3j.Studies.displayADX,inputs:{Period:"14" | 2,"Smoothing Period":14,Series:!"",Shading:!{},Histogram:![]},outputs:{"+DI":j1g,"-DI":"#FF0000",ADX:"auto","Positive Bar":g1g,"Negative Bar":"#FF0000"}}});}};v1r=y9j=>{var N9j,Y0g,O0g,l0g,J0g;i3ss.Z9O();N9j=typeof _CIQ !== "undefined"?_CIQ:y9j.CIQ;if(!N9j.Studies){console.error("alligator feature requires first activating studies feature.");}else {Y0g="#FF0";Y0g+="000";O0g="Gato";O0g+="r Osc";O0g+="il";O0g+="lator";l0g="#";l0g+="FF000";l0g+="0";J0g="#";J0g+="000";J0g+="0F";J0g+="F";N9j.Studies.calculateAlligator=function(m9j,u9j){var G7O=i3ss;var k1g,M1g,l9j,e9j,X5J,m5J,J5J,Z1g,q1g,h1g,w1g,h9j,Z9j,S9j,f1g;k1g="Li";k1g+="ps Pe";k1g+="ri";k1g+="od";M1g="J";M1g+="a";M1g+="w Pe";M1g+="riod";l9j={J:Number(u9j.inputs[M1g]),T:Number(u9j.inputs["Teeth Period"]),L:Number(u9j.inputs[k1g])};e9j=u9j.chart.scrubbed;if(e9j.length < Math.max(l9j.J,l9j.T,l9j.L) + 1){X5J=80489280;m5J=1011763231;J5J=2;for(var O5J=+"1";G7O.T0J(O5J.toString(),O5J.toString().length,81430) !== X5J;O5J++){u9j.error=!1;J5J+=+"2";}if(G7O.T0J(J5J.toString(),J5J.toString().length,24985) !== m5J){u9j.error=!"";}u9j.error=! ![];return;}if(u9j.type === "Gator" || u9j.inputs["Show Lines"]){Z1g="Li";Z1g+="p";Z1g+="s";q1g="T";q1g+="eeth Offset";h1g="h";h1g+="l/2";w1g="welles wild";w1g+="er";N9j.Studies.MA("welles wilder",l9j.J,"hl/2",u9j.inputs["Jaw Offset"],"Jaw",m9j,u9j);N9j.Studies.MA(w1g,l9j.T,h1g,u9j.inputs[q1g],"Teeth",m9j,u9j);N9j.Studies.MA("welles wilder",l9j.L,"hl/2",u9j.inputs["Lips Offset"],Z1g,m9j,u9j);}for(var p9j=u9j.startFrom;p9j < e9j.length;p9j++){if(!e9j[p9j])continue;if(u9j.type == "Gator"){h9j=e9j[p9j]["Jaw " + u9j.name];Z9j=e9j[p9j]["Lips " + u9j.name];S9j=e9j[p9j]["Teeth " + u9j.name];if(S9j || S9j === 0){f1g="_hi";f1g+="st";f1g+="1";if(h9j || h9j === 0){G7O.j05(4);e9j[p9j][u9j.name + f1g]=Math.abs(G7O.c05(h9j,S9j));}if(Z9j || Z9j === 0){G7O.j05(4);e9j[p9j][u9j.name + "_hist2"]=-Math.abs(G7O.c05(S9j,Z9j));}}u9j.outputMap={};u9j.outputMap[u9j.name + "_hist1"]="";u9j.outputMap[u9j.name + "_hist2"]="";}if(u9j.inputs["Show Fractals"]){if(!e9j[p9j - 2] || !e9j[p9j - +"1"] || !e9j[p9j] || !e9j[p9j + ("1" | 0)] || !e9j[p9j + 2])continue;if(e9j[p9j - 2].High && e9j[p9j - 1].High && e9j[p9j].High && e9j[p9j + +"1"].High && e9j[p9j + 2].High){if(e9j[p9j].High > e9j[p9j - 1].High && e9j[p9j].High > e9j[p9j - 2].High && e9j[p9j].High > e9j[p9j + 1].High && e9j[p9j].High > e9j[p9j + 2].High){e9j[p9j]["Fractal High " + u9j.name]=1;}}if(e9j[p9j - 2].Low && e9j[p9j - "1" * 1].Low && e9j[p9j].Low && e9j[p9j + 1].Low && e9j[p9j + 2].Low){if(e9j[p9j].Low < e9j[p9j - +"1"].Low && e9j[p9j].Low < e9j[p9j - 2].Low && e9j[p9j].Low < e9j[p9j + 1].Low && e9j[p9j].Low < e9j[p9j + ("2" - 0)].Low){e9j[p9j]["Fractal Low " + u9j.name]=1;}}}}};N9j.Studies.displayAlligator=function(M9j,o9j,T9j){var H1g,D9j,P0g,c1g,v1g;function Y9j(C9j,P9j){var E9j,Q9j;Q9j=M9j.chart.panel.yAxis.flipped;if(C9j == "high"){D9j.fillStyle=M9j.defaultColor;D9j.textBaseline=Q9j?"top":"bottom";E9j=M9j.pixelFromPrice(T9j[P9j].High);D9j.fillText(Q9j?"\u25BC":+"5420" !== 7160?"\u25B2":!"1",M9j.pixelFromBar(a9j,M9j.chart) - D9j.measureText("\u25B2").width / 2 + +"1",Q9j?E9j + 5:E9j - 5);;}else if(C9j == "low"){D9j.fillStyle=M9j.defaultColor;D9j.textBaseline=Q9j?"bottom":"top";E9j=M9j.pixelFromPrice(T9j[P9j].Low);D9j.fillText(Q9j?(494.87,7794) < 5074?8490 <= 918.45?516.42:(6419,519) > (3284,2730)?("x","A"):(0x1227,+"319.28"):"\u25B2":4170 != 718?"\u25BC":!1,M9j.pixelFromBar(a9j,M9j.chart) - D9j.measureText((53.82,7410) !== (8390,285.45)?"\u25BC":("s",!1)).width / ("2" * 1) + 1,Q9j?E9j - +"5":E9j + 5);;}}H1g="Show Fractal";i3ss.H9O();H1g+="s";D9j=o9j.getContext(M9j);if(o9j.inputs["Show Lines"]){N9j.Studies.displaySeriesAsLine(M9j,o9j,T9j);}if(o9j.inputs[H1g]){M9j.startClip();D9j.globalAlpha=o9j.underlay?0.3:+"1";if(!o9j.highlight && M9j.highlightedDraggable){D9j.globalAlpha*=+"0.3";}for(var a9j=2;a9j < T9j.length - 2;a9j++){if(T9j[a9j]){P0g="l";P0g+="ow";c1g="Fra";c1g+="cta";c1g+="l L";c1g+="ow ";v1g="Frac";v1g+="tal H";v1g+="igh";v1g+=" ";if(T9j[a9j][v1g + o9j.name]){Y9j("high",a9j);}if(T9j[a9j][c1g + o9j.name]){Y9j(P0g,a9j);}}}M9j.endClip();}};N9j.Studies.displayGator=function(F9j,X9j,b9j){var K7O=i3ss;var C0g,A0g,L9j,c9j,t9j,g9j,G9j,s9j,I9j,A9j,j9j,m0g,X0g,s0g,V0g;C0g="#";C0g+="CCCCCC";A0g="Decr";A0g+="easing";A0g+=" B";A0g+="ar";L9j=F9j.panels[X9j.panel];c9j=X9j.getContext(F9j);t9j=X9j.getYAxis(F9j);g9j=F9j.pixelFromPrice(0,L9j,t9j);K7O.V05(131);var s41=K7O.c05(13,63,0,14,9);G9j=F9j.layout.candleWidth - s41;if(G9j < 2){G9j=1;}s9j=N9j.Studies.determineColor(X9j.outputs["Increasing Bar"]);I9j=N9j.Studies.determineColor(X9j.outputs[A0g]);F9j.canvasColor("stx_histogram");if(!X9j.underlay){c9j.globalAlpha=+"1";}c9j.fillStyle=C0g;F9j.startClip(X9j.panel);if(!X9j.highlight && F9j.highlightedDraggable){c9j.globalAlpha*=0.3;}for(var B9j=0;B9j < b9j.length;B9j++){A9j=b9j[B9j];K7O.j05(4);j9j=b9j[K7O.N05(B9j,1)];if(!A9j)continue;for(var q9j=1;q9j <= 2;q9j++){m0g="_";m0g+="hist";X0g="_h";X0g+="ist";s0g="#C";s0g+="CCCC";s0g+="C";V0g="_h";V0g+="i";V0g+="s";V0g+="t";if(!j9j){j9j=F9j.getPreviousBar(F9j.chart,X9j.name + V0g + q9j,B9j);}if(!j9j){c9j.fillStyle=s0g;}else if(Math.abs(j9j[X9j.name + "_hist" + q9j]) < Math.abs(A9j[X9j.name + "_hist" + q9j])){c9j.fillStyle=s9j;}else if(Math.abs(j9j[X9j.name + "_hist" + q9j]) > Math.abs(A9j[X9j.name + X0g + q9j])){c9j.fillStyle=I9j;}if(A9j.candleWidth){G9j=Math.floor(Math.max("1" | 1,A9j.candleWidth - 2));}c9j.fillRect(Math.floor(F9j.pixelFromBar(B9j,L9j.chart) - G9j / 2),Math.floor(g9j),Math.floor(G9j),Math.floor(F9j.pixelFromPrice(A9j[X9j.name + m0g + q9j],L9j,t9j) - g9j));}}F9j.endClip();};N9j.Studies.studyLibrary=N9j.extend(N9j.Studies.studyLibrary,{Alligator:{name:"Alligator",overlay:! !"1",seriesFN:N9j.Studies.displayAlligator,calculateFN:N9j.Studies.calculateAlligator,inputs:{"Show Lines":!"","Jaw Period":13,"Jaw Offset":8,"Teeth Period":+"8","Teeth Offset":5,"Lips Period":5,"Lips Offset":3,"Show Fractals":![]},outputs:{Jaw:J0g,Teeth:l0g,Lips:"#00DD00"}},Gator:{name:O0g,seriesFN:N9j.Studies.displayGator,calculateFN:N9j.Studies.calculateAlligator,inputs:{"Jaw Period":13,"Jaw Offset":8,"Teeth Period":8,"Teeth Offset":5,"Lips Period":5,"Lips Offset":3},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":Y0g},centerline:"0" | 0}});}};O1r=H9j=>{i3ss.H9O();var n9j,I0g,T0g;n9j=typeof _CIQ !== "undefined"?_CIQ:H9j.CIQ;if(!n9j.Studies){I0g="aroon feature requires first ac";I0g+="tivating studies feature.";console.error(I0g);}else {T0g="A";T0g+="roon Oscillator";n9j.Studies.calculateAroon=function(K6j,f9j){var u7O=i3ss;u7O.Z9O();var k6j,w6j,i6j,R9j,J6j,N0g,r6j,x6j,Q0g,R0g,V9j,U6j,v6j,O6j,d6j;k6j=f9j.chart.scrubbed;if(k6j.length < f9j.days + 1){f9j.error=!0;return;}w6j=0;i6j=+"0";R9j=null;J6j=null;if(f9j.startFrom > 0){N0g="_st";N0g+="a";N0g+="te ";u7O.V05(35);var X41=u7O.c05(2,2,2);r6j=k6j[f9j.startFrom - X41][N0g + f9j.name];if(r6j){w6j=r6j[0];i6j=r6j[1];R9j=r6j[2];J6j=r6j[3];}}for(var W6j=f9j.startFrom;W6j < k6j.length;W6j++){Q0g="_st";Q0g+="a";Q0g+="te ";R0g="Ar";R0g+="oon ";R0g+="Up";R0g+=" ";V9j=k6j[W6j];if(V9j.futureTick)break;if(R9j === null){R9j=V9j.High;}if(J6j === null){J6j=V9j.Low;}R9j=Math.max(R9j,V9j.High);if(R9j == V9j.High){w6j=0;}else {w6j++;if(w6j > f9j.days){R9j=V9j.High;w6j=0;for(x6j=1;x6j <= f9j.days;x6j++){R9j=Math.max(R9j,k6j[W6j - x6j].High);if(R9j == k6j[W6j - x6j].High){w6j=x6j;}}}}J6j=Math.min(J6j,V9j.Low);if(J6j == V9j.Low){i6j=+"0";}else {i6j++;if(i6j > f9j.days){J6j=V9j.Low;i6j=+"0";for(x6j=1;x6j <= f9j.days;x6j++){J6j=Math.min(J6j,k6j[W6j - x6j].Low);if(J6j == k6j[W6j - x6j].Low){i6j=x6j;}}}}U6j=!isNaN(V9j.High);v6j=!isNaN(V9j.Low);u7O.j05(4);var m41=u7O.N05(1800,1700);O6j=m41 * (+"1" - w6j / f9j.days);if(U6j){V9j[R0g + f9j.name]=O6j;}u7O.j05(130);var J41=u7O.c05(18,85,19790,13);d6j=J41 * (+"1" - i6j / f9j.days);if(v6j){V9j["Aroon Down " + f9j.name]=d6j;}if(U6j && v6j){V9j["Aroon Oscillator " + f9j.name]=V9j["Aroon Up " + f9j.name] - V9j["Aroon Down " + f9j.name];}V9j[Q0g + f9j.name]=[w6j,i6j,R9j,J6j];}};n9j.Studies.studyLibrary=n9j.extend(n9j.Studies.studyLibrary,{Aroon:{name:"Aroon",range:"0 to 100",calculateFN:n9j.Studies.calculateAroon,outputs:{"Aroon Up":"#00DD00","Aroon Down":"#FF0000"}},"Aroon Osc":{name:T0g,calculateFN:n9j.Studies.calculateAroon,outputs:{"Aroon Oscillator":"auto"}}});}};d1r=N6j=>{var z6j,B0g,D0g,G0g,b0g,o0g;z6j=typeof _CIQ !== "undefined"?_CIQ:N6j.CIQ;if(!z6j.Studies){B0g="atr feature requ";B0g+="ir";B0g+="es first activating studies feature.";console.error(B0g);}else {D0g="#0";D0g+="0";D0g+="FF00";G0g="aut";G0g+="o";b0g="a";b0g+="u";b0g+="t";b0g+="o";o0g="ATR ";o0g+="Bands";z6j.Studies.calculateATRBands=function(p6j,y6j){var U0g,z0g,e6j;U0g="Cl";U0g+="ose";z0g="fi";z0g+="e";z0g+="l";z0g+="d";z6j.Studies.calculateStudyATR(p6j,y6j);e6j=y6j.inputs.Field;if(!e6j || e6j == z0g){e6j=U0g;}z6j.Studies.calculateGenericEnvelope(p6j,y6j,y6j.inputs.Shift,e6j,"ATR " + y6j.name);};z6j.Studies.calculateSTARCBands=function(l6j,u6j){var K0g,a0g,d0g;K0g="ATR";i3ss.Z9O();K0g+=" ";a0g="_";a0g+="MA";d0g="MA P";d0g+="er";d0g+="iod";z6j.Studies.calculateStudyATR(l6j,u6j);z6j.Studies.MA("simple",u6j.inputs[d0g],"Close",0,a0g,l6j,u6j);z6j.Studies.calculateGenericEnvelope(l6j,u6j,u6j.inputs.Multiplier,"_MA " + u6j.name,K0g + u6j.name);};z6j.Studies.calculateATRStops=function(Q6j,S6j){var x7O=i3ss;var n0g,M6j,o6j,h6j,Y6j,Z6j,m6j,a6j,T6j;n0g="Al";n0g+="l";n0g+=" Stops ";M6j=S6j.chart.scrubbed;if(!M6j){return;}z6j.Studies.calculateStudyATR(Q6j,S6j);o6j=S6j.inputs.HighLow;for(var D6j=Math.max(S6j.startFrom - 1,1);D6j < M6j.length - 1;D6j++){h6j=M6j[D6j];x7O.j05(132);Y6j=M6j[x7O.c05(D6j,533756256,"1")];Z6j=h6j["Buy Stops " + S6j.name];if(!Z6j){Z6j=h6j["Sell Stops " + S6j.name];}if(!Z6j){Z6j=0;}if(!h6j || !Y6j)continue;m6j=h6j.Close;a6j=m6j;T6j=h6j["ATR " + S6j.name] * S6j.inputs.Multiplier;if(h6j.Close > Z6j && Y6j.Close > Z6j){if(o6j){m6j=h6j.High;}x7O.V05(4);a6j=Math.max(Z6j,x7O.c05(m6j,T6j));}else if(h6j.Close <= Z6j && Y6j.Close <= Z6j){if(o6j){m6j=h6j.Low;}x7O.V05(2);a6j=Math.min(Z6j,x7O.c05(T6j,m6j));}else if(h6j.Close > Z6j){if(o6j){m6j=h6j.High;}x7O.j05(4);a6j=x7O.c05(m6j,T6j);}else if(h6j.Close <= Z6j){if(o6j){m6j=h6j.Low;}x7O.V05(2);a6j=x7O.c05(T6j,m6j);}if(m6j <= a6j){x7O.V05(2);M6j[x7O.c05(1,D6j)]["Buy Stops " + S6j.name]=a6j;x7O.V05(2);delete M6j[x7O.c05(1,D6j)]["Sell Stops " + S6j.name];}else if(m6j > a6j){x7O.V05(2);M6j[x7O.c05(1,D6j)]["Sell Stops " + S6j.name]=a6j;x7O.V05(2);delete M6j[x7O.c05(1,D6j)]["Buy Stops " + S6j.name];}x7O.V05(2);M6j[x7O.c05(1,D6j)]["All Stops " + S6j.name]=a6j;}S6j.referenceOutput="All Stops";S6j.outputMap={};S6j.outputMap[n0g + S6j.name]="";};z6j.Studies.studyLibrary=z6j.extend(z6j.Studies.studyLibrary,{ATR:{name:"Average True Range",calculateFN:z6j.Studies.calculateStudyATR,outputs:{ATR:"auto"}},"ATR Bands":{name:o0g,overlay:! ![],seriesFN:z6j.Studies.displayChannel,calculateFN:z6j.Studies.calculateATRBands,inputs:{Period:+"5",Field:"field",Shift:3,"Channel Fill":!0},outputs:{"ATR Bands Top":"auto","ATR Bands Bottom":"auto","ATR Bands Channel":"auto"},attributes:{Shift:{min:0.1,step:0.1}}},"STARC Bands":{name:"STARC Bands",overlay:!0,seriesFN:z6j.Studies.displayChannel,calculateFN:z6j.Studies.calculateSTARCBands,inputs:{Period:15,"MA Period":5,Multiplier:1.3,"Channel Fill":!""},outputs:{"STARC Bands Top":b0g,"STARC Bands Median":G0g,"STARC Bands Bottom":"auto"},attributes:{Multiplier:{min:"0.1" - 0,step:0.1}}},"ATR Trailing Stop":{name:"ATR Trailing Stops",overlay:! ![],seriesFN:z6j.Studies.displayPSAR2,calculateFN:z6j.Studies.calculateATRStops,inputs:{Period:21,Multiplier:3,"Plot Type":["points","squarewave"],HighLow:!{}},outputs:{"Buy Stops":"#FF0000","Sell Stops":D0g},attributes:{Multiplier:{min:"0.1" - 0,step:0.1}}}});}};K1r=C6j=>{var E6j,y9J,t9J,j9J,u0g;i3ss.Z9O();E6j=typeof _CIQ !== "undefined"?_CIQ:C6j.CIQ;if(!E6j.Studies){y9J=-270535439;t9J=466017289;j9J=+"2";for(var M9J=1;i3ss.B0J(M9J.toString(),M9J.toString().length,"15567" << 899384736) !== y9J;M9J++){u0g="awesomeOscillator feature requires first ac";u0g+="tivating studies feature.";console.error(u0g);j9J+=2;}if(i3ss.B0J(j9J.toString(),j9J.toString().length,27872) !== t9J){console.error("");}}else {E6j.Studies.calculateAwesomeOscillator=function(q6j,P6j){var X6j;X6j=P6j.chart.scrubbed;if(X6j.length < 33){P6j.error=!"";return;}i3ss.H9O();E6j.Studies.MA("simple",5,"hl/2",+"0","_MA5",q6j,P6j);E6j.Studies.MA("simple",34,"hl/2",0,"_MA34",q6j,P6j);for(var F6j=Math.max(P6j.startFrom,+"33");F6j < X6j.length;F6j++){if(!X6j[F6j])continue;X6j[F6j][P6j.name + "_hist"]=X6j[F6j]["_MA5 " + P6j.name] - X6j[F6j]["_MA34 " + P6j.name];}P6j.outputMap={};P6j.outputMap[P6j.name + "_hist"]="";};E6j.Studies.displayAwesomeOscillator=function(B6j,c6j,g6j){var O7O=i3ss;var t6j,A6j,s6j,I6j,L6j,n6j,H6j,i0g,j6j,b6j;t6j=B6j.panels[c6j.panel];A6j=c6j.getContext(B6j);s6j=c6j.getYAxis(B6j);I6j=B6j.pixelFromPrice(0,t6j,s6j);O7O.j05(3);O7O.Z9O();var l41=O7O.N05(7,5,0);L6j=B6j.layout.candleWidth - l41;if(L6j < 2){L6j=1;}n6j=E6j.Studies.determineColor(c6j.outputs["Increasing Bar"]);H6j=E6j.Studies.determineColor(c6j.outputs["Decreasing Bar"]);B6j.canvasColor("stx_histogram");if(!c6j.underlay){A6j.globalAlpha=1;}A6j.fillStyle="#CCCCCC";B6j.startClip(c6j.panel);if(!c6j.highlight && B6j.highlightedDraggable){A6j.globalAlpha*=0.3;}for(var G6j=0;G6j < g6j.length;G6j++){i0g="_";i0g+="hist";j6j=g6j[G6j];O7O.V05(4);b6j=g6j[O7O.c05(G6j,1)];if(!b6j){b6j=B6j.getPreviousBar(B6j.chart,c6j.name + "_hist",G6j);}if(!j6j)continue;if(!b6j);else if(b6j[c6j.name + "_hist"] < j6j[c6j.name + "_hist"]){A6j.fillStyle=n6j;}else if(b6j[c6j.name + "_hist"] > j6j[c6j.name + "_hist"]){A6j.fillStyle=H6j;}if(j6j.candleWidth){L6j=Math.floor(Math.max(1,j6j.candleWidth - 2));}A6j.fillRect(Math.floor(B6j.pixelFromBar(G6j,t6j.chart) - L6j / 2),Math.floor(I6j),Math.floor(L6j),Math.floor(B6j.pixelFromPrice(j6j[c6j.name + i0g],t6j,s6j) - I6j));}B6j.endClip();};E6j.Studies.studyLibrary=E6j.extend(E6j.Studies.studyLibrary,{Awesome:{name:"Awesome Oscillator",seriesFN:E6j.Studies.displayAwesomeOscillator,calculateFN:E6j.Studies.calculateAwesomeOscillator,inputs:{},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};z1r=V6j=>{var x0g,f6j;i3ss.H9O();x0g="un";x0g+="d";x0g+="efined";f6j=typeof _CIQ !== x0g?_CIQ:V6j.CIQ;if(!f6j.Studies){console.error("balanceOfPower feature requires first activating studies feature.");}else {f6j.Studies.calculateBalanceOfPower=function(w2j,R6j){var x2j,J2j;x2j=R6j.chart.scrubbed;if(x2j.length < R6j.days + +"1"){R6j.error=! ![];return;}for(var k2j=R6j.startFrom;k2j < x2j.length;k2j++){J2j=x2j[k2j];J2j["_Ratio " + R6j.name]=J2j.Close - J2j.Open;if(J2j.High - J2j.Low !== +"0"){J2j["_Ratio " + R6j.name]/=J2j.High - J2j.Low;}}f6j.Studies.MA(R6j.inputs["Moving Average Type"],R6j.days,"_Ratio " + R6j.name,0,"Result",w2j,R6j);};f6j.Studies.studyLibrary=f6j.extend(f6j.Studies.studyLibrary,{"Bal Pwr":{name:"Balance of Power",range:"-1 to 1",centerline:0,calculateFN:f6j.Studies.calculateBalanceOfPower,inputs:{Period:14,"Moving Average Type":"ma"}}});}};N1r=W2j=>{var E0g,i2j,e0g,r0g,F0g,L0g,p0g;E0g="unde";E0g+="fined";i2j=typeof _CIQ !== E0g?_CIQ:W2j.CIQ;if(!i2j.Studies){e0g="bolling";e0g+="er feature requires first activating studies featu";e0g+="re.";console.error(e0g);}else {r0g="m";r0g+="a";F0g="f";F0g+="ie";F0g+="l";F0g+="d";L0g="a";L0g+="u";L0g+="t";L0g+="o";p0g="m";p0g+="a";i2j.Studies.calculateBollinger=function(v2j,r2j){var W0g,S0g,U2j;W0g="_ST";W0g+="D Dev ";S0g="_";S0g+="MA";U2j=r2j.inputs.Field;if(!U2j || U2j == "field"){U2j="Close";}i2j.Studies.MA(r2j.inputs["Moving Average Type"],r2j.days,U2j,0,S0g,v2j,r2j);r2j.std=new i2j.Studies.StudyDescriptor(r2j.name,"STD Dev",r2j.panel);r2j.std.chart=r2j.chart;r2j.std.startFrom=r2j.startFrom;r2j.std.days=r2j.days;r2j.std.inputs={Field:U2j,"Standard Deviations":1,Type:r2j.inputs["Moving Average Type"]};r2j.std.outputs={"_STD Dev":null};i2j.Studies.calculateStandardDeviation(v2j,r2j.std);i2j.Studies.calculateGenericEnvelope(v2j,r2j,r2j.inputs["Standard Deviations"],"_MA " + r2j.name,W0g + r2j.name);if(r2j.type == "Boll %b"){r2j.zoneOutput="%b";}};i2j.Studies.studyLibrary=i2j.extend(i2j.Studies.studyLibrary,{"Bollinger Bands":{name:"Bollinger Bands",overlay:! !{},calculateFN:i2j.Studies.calculateBollinger,seriesFN:i2j.Studies.displayChannel,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":p0g,"Channel Fill":!0},outputs:{"Bollinger Bands Top":L0g,"Bollinger Bands Median":"auto","Bollinger Bands Bottom":"auto"},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll %b":{name:"Bollinger %b",calculateFN:i2j.Studies.calculateBollinger,inputs:{Period:20,Field:F0g,"Standard Deviations":2,"Moving Average Type":r0g},outputs:{"%b":"auto"},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"100",studyOverBoughtColor:"auto",studyOverSoldValue:0,studyOverSoldColor:"auto"}},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Boll BW":{name:"Bollinger Bandwidth",calculateFN:i2j.Studies.calculateBollinger,inputs:{Period:20,Field:"field","Standard Deviations":2,"Moving Average Type":"ma"},outputs:{Bandwidth:"auto"},attributes:{"Standard Deviations":{min:"0.1" - 0,step:+"0.1"}}}});}};y1r=d2j=>{var O2j;O2j=typeof _CIQ !== "undefined"?_CIQ:d2j.CIQ;if(!O2j.Studies){console.error("cci feature requires first activating studies feature.");}else {O2j.Studies.calculateCCI=function(u2j,K2j){var y0g,N2j,j0g,z2j,e2j,t0g;y0g="M";y0g+="A";N2j=K2j.chart.scrubbed;i3ss.H9O();if(N2j.length < K2j.days + 1){K2j.error=! !"1";return;}O2j.Studies.MA("simple",K2j.days,"hlc/3","0" - 0,y0g,u2j,K2j);for(var y2j=Math.max(K2j.startFrom,K2j.days - 1);y2j < N2j.length;y2j++){j0g="R";j0g+="es";j0g+="ult";j0g+=" ";z2j=N2j[y2j];if(!z2j)continue;e2j=0;for(var p2j=0;p2j < K2j.days;p2j++){t0g="M";t0g+="A";t0g+=" ";e2j+=Math.abs(N2j[y2j - p2j]["hlc/3"] - z2j[t0g + K2j.name]);}e2j/=K2j.days;if(Math.abs(e2j) < 0.00000001){z2j["Result " + K2j.name]=+"0";}else {z2j[j0g + K2j.name]=(z2j["hlc/3"] - z2j["MA " + K2j.name]) / (0.015 * e2j);}}};O2j.Studies.studyLibrary=O2j.extend(O2j.Studies.studyLibrary,{CCI:{name:"Commodity Channel Index",calculateFN:O2j.Studies.calculateCCI,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:+"100",studyOverBoughtColor:"auto",studyOverSoldValue:-100,studyOverSoldColor:"auto"}},attributes:{Period:{min:"2" << 1199542816}}}});}};e1r=S2j=>{var l2j;l2j=typeof _CIQ !== "undefined"?_CIQ:S2j.CIQ;i3ss.Z9O();if(!l2j.Studies){console.error("centerOfGravity feature requires first activating studies feature.");}else {l2j.Studies.calculateCenterOfGravity=function(Y2j,h2j){var o7O=i3ss;var Z2j,m2j,o2j,a2j,T2j;Z2j=h2j.chart.scrubbed;if(Z2j.length < h2j.days){h2j.error=! !"1";return;}m2j=h2j.inputs.Field;if(!m2j || m2j == "field"){m2j="Close";}o7O.H9O();for(var M2j=Math.max(h2j.startFrom,h2j.days - 1);M2j < Z2j.length;M2j++){o2j=0;a2j=0;for(var D2j=0;D2j < h2j.days;D2j++){o7O.V05(4);T2j=Z2j[o7O.N05(M2j,D2j)][m2j];o7O.j05(133);o2j-=o7O.c05(D2j,T2j,1);a2j+=T2j;}if(a2j){o7O.V05(20);Z2j[M2j]["Result " + h2j.name]=o7O.c05(a2j,o2j);}}};l2j.Studies.studyLibrary=l2j.extend(l2j.Studies.studyLibrary,{COG:{name:"Center Of Gravity",calculateFN:l2j.Studies.calculateCenterOfGravity,inputs:{Period:"10" >> 540155456,Field:"field"}}});}};i3ss.H9O();p1r=E2j=>{var u0J,i0J,x0J,Q2j;u0J=-1248932867;i0J=-1095404981;x0J=2;for(var e0J=1;i3ss.B0J(e0J.toString(),e0J.toString().length,86881) !== u0J;e0J++){Q2j=typeof _CIQ !== "undefined"?_CIQ:E2j.CIQ;x0J+=2;}if(i3ss.B0J(x0J.toString(),x0J.toString().length,58042) !== i0J){Q2j=-_CIQ === ""?_CIQ:E2j.CIQ;}if(!Q2j.Studies){console.error("chaikin feature requires first activating studies feature.");}else {Q2j.Studies.calculateChaikinMoneyFlow=function(B2j,X2j){var s7O=i3ss;var C2j,q2j,F2j,c2j,k0g,M0g,g0g,h0g,w0g;C2j=X2j.chart.scrubbed;if(C2j.length < X2j.days){X2j.error=! ![];return;}s7O.j05(29);q2j=s7O.N05(0,"0");F2j=0;s7O.j05(1);var O41=s7O.N05(18,19);c2j=C2j[X2j.startFrom - O41];if(c2j){k0g="_su";k0g+="m";k0g+="V ";M0g="_s";M0g+="u";M0g+="mV ";g0g="_";g0g+="sumMF ";if(c2j[g0g + X2j.name]){q2j=c2j["_sumMF " + X2j.name];}if(c2j[M0g + X2j.name]){F2j=c2j[k0g + X2j.name];}}for(var P2j=X2j.startFrom;P2j < C2j.length;P2j++){h0g="_su";h0g+="mM";h0g+="F";h0g+=" ";w0g="_MF";w0g+="V ";if(C2j[P2j].High == C2j[P2j].Low){C2j[P2j][w0g + X2j.name]=0;}else {s7O.V05(134);var Y41=s7O.N05(11,11,3,0,1);C2j[P2j]["_MFV " + X2j.name]=C2j[P2j].Volume * (Y41 * C2j[P2j].Close - C2j[P2j].High - C2j[P2j].Low) / (C2j[P2j].High - C2j[P2j].Low);}q2j+=C2j[P2j]["_MFV " + X2j.name];F2j+=C2j[P2j].Volume;if(P2j > X2j.days - +"1"){q2j-=C2j[P2j - X2j.days]["_MFV " + X2j.name];F2j-=C2j[P2j - X2j.days].Volume;if(F2j){s7O.j05(20);C2j[P2j]["Result " + X2j.name]=s7O.N05(F2j,q2j);}}C2j[P2j][h0g + X2j.name]=q2j;C2j[P2j]["_sumV " + X2j.name]=F2j;}};Q2j.Studies.calculateChaikinVolatility=function(b2j,A2j){var d7O=i3ss;var Z0g,j2j,G2j,q0g,L2j,v0g,H0g,f0g;Z0g="Moving";Z0g+=" Average Type";j2j=A2j.chart.scrubbed;if(j2j.length < A2j.days){A2j.error=!0;return;}for(G2j=A2j.startFrom;G2j < j2j.length;G2j++){q0g="_H";q0g+="igh-";q0g+="Low ";if(j2j[G2j].futureTick)break;j2j[G2j][q0g + A2j.name]=j2j[G2j].High - j2j[G2j].Low;}Q2j.Studies.MA(A2j.inputs[Z0g],A2j.days,"_High-Low " + A2j.name,"0" & 2147483647,"_MA",b2j,A2j);L2j=A2j.inputs["Rate Of Change"];if(!L2j){L2j=A2j.days;}d7O.Z9O();for(G2j=Math.max(A2j.startFrom,L2j);G2j < j2j.length;G2j++){v0g="_MA";v0g+=" ";H0g="R";H0g+="esult ";f0g="_";f0g+="MA ";if(!j2j[G2j - L2j][f0g + A2j.name])continue;if(j2j[G2j].futureTick)break;d7O.V05(72);var I41=d7O.c05(1,18,93,18,7);d7O.V05(30);var N41=d7O.N05(11,0,5,56);j2j[G2j][H0g + A2j.name]=I41 * (j2j[G2j]["_MA " + A2j.name] / j2j[G2j - L2j][v0g + A2j.name] - N41);}};Q2j.Studies.studyLibrary=Q2j.extend(Q2j.Studies.studyLibrary,{"Chaikin MF":{name:"Chaikin Money Flow",calculateFN:Q2j.Studies.calculateChaikinMoneyFlow,inputs:{Period:20}},"Chaikin Vol":{name:"Chaikin Volatility",calculateFN:Q2j.Studies.calculateChaikinVolatility,inputs:{Period:14,"Rate Of Change":2,"Moving Average Type":"ma"}}});}};u1r=g2j=>{var c0g,t2j,P8g,O8g,l8g,A8g;c0g="und";i3ss.Z9O();c0g+="ef";c0g+="ined";t2j=typeof _CIQ !== c0g?_CIQ:g2j.CIQ;if(!t2j.Studies){P8g="chande feature";P8g+=" requires first";P8g+=" activating studies feature.";console.error(P8g);}else {O8g="Chande Mo";O8g+="men";O8g+="tum Osc";O8g+="illator";l8g="fi";l8g+="e";l8g+="ld";A8g="Vari";A8g+="able";t2j.Studies.prettify.variable="vma";t2j.Studies.movingAverage.conversions.vma="variable";t2j.Studies.movingAverage.translations.variable="Variable";t2j.Studies.movingAverage.typeMap.vma=A8g;t2j.Studies.movingAverage.typeMap.variable="Variable";t2j.Studies.calculateChandeForecast=function(V2j,s2j){var e7O=i3ss;var V8g,C8g,I2j,n2j,f2j;V8g="t";V8g+="im";V8g+="e ser";V8g+="ies";C8g="C";C8g+="lose";I2j=s2j.chart.scrubbed;if(I2j.length < s2j.days + 1){s2j.error=!0;return;}n2j=s2j.inputs.Field;if(!n2j || n2j == "field"){n2j=C8g;}t2j.Studies.MA(V8g,s2j.days,n2j,"0" << 1146416704,"MA",V2j,s2j);for(var H2j=Math.max(1,s2j.startFrom);H2j < I2j.length;H2j++){f2j=I2j[H2j][n2j];if(f2j && typeof f2j == "object"){f2j=f2j[s2j.subField];}e7O.j05(91);var R41=e7O.N05(86,2,2,318,5);e7O.j05(39);var Q41=e7O.c05(21,12,8);I2j[H2j]["Result " + s2j.name]=R41 * (Q41 - I2j[H2j]["MA " + s2j.name] / f2j);}};t2j.Studies.calculateChandeMomentum=function(z7j,R2j){var Y7O=i3ss;var W7j,k7j,w7j,r7j,U7j,v7j,s8g,i7j,x7j,O7j,d7j;W7j=R2j.name;for(var K7j in R2j.outputs){Y7O.j05(28);W7j=Y7O.c05(5150 !== (3200,5292)?4810 != 5570?" ":(0x1df4,"0xc6e" ^ 0):3.47,K7j,W7j);}k7j=R2j.chart.scrubbed;if(k7j.length < R2j.days + 1){R2j.error=! !{};return;}w7j=R2j.inputs.Field;if(!w7j || w7j == "field"){w7j="Close";}r7j=0;U7j=0;v7j=[];for(var J7j=R2j.startFrom - R2j.days + 1;J7j < k7j.length;J7j++){s8g="o";s8g+="b";s8g+="j";s8g+="ect";if(J7j < 1)continue;i7j=k7j[J7j][w7j];Y7O.V05(4);x7j=k7j[Y7O.N05(J7j,1)][w7j];if(i7j && typeof i7j == "object"){i7j=i7j.Close;}if(x7j && typeof x7j == s8g){x7j=x7j.Close;}if(x7j === undefined)continue;Y7O.j05(4);O7j=Y7O.c05(i7j,x7j);v7j.push(O7j);r7j+=O7j;U7j+=Math.abs(O7j);if(v7j.length == R2j.days){Y7O.V05(129);k7j[J7j][W7j]=Y7O.N05(r7j,100,U7j);d7j=v7j.shift();r7j-=d7j;U7j-=Math.abs(d7j);}}};t2j.Studies.calculateMovingAverageVariable=function(E7j,N7j){var f7O=i3ss;var X8g,X7j,u7j,T7j,S7j,l7j,h7j,p7j,y7j,e7j,Z7j,a7j,Y7j,o7j,J8g,m8g,m7j,P7j,M7j,Q7j,D7j;X8g="C";X8g+="l";X8g+="os";X8g+="e";X7j=N7j.inputs.Type;u7j=N7j.chart.scrubbed;f7O.V05(4);var T41=f7O.c05(24,22);T7j=T41 / (N7j.days + ("1" | 0));S7j=null;l7j=N7j.name;for(var C7j in N7j.outputs){f7O.j05(28);l7j=f7O.c05((5957,2843) <= (4289,+"1823")?"m":" ",C7j,l7j);}h7j=N7j.inputs.Field;if(!h7j || h7j == "field"){h7j=X8g;}N7j.cmo=new t2j.Studies.StudyDescriptor(N7j.name,"cmo",N7j.panel);N7j.cmo.chart=N7j.chart;N7j.cmo.days=9;N7j.cmo.inputs={Field:h7j};f7O.H9O();N7j.cmo.startFrom=N7j.startFrom;N7j.cmo.outputs={_CMO:null};t2j.Studies.calculateChandeMomentum(E7j,N7j.cmo);p7j=parseInt(N7j.inputs.Offset,10);if(isNaN(p7j)){p7j=+"0";}a7j=N7j.startFrom;Y7j=p7j;for(y7j=N7j.startFrom - +"1";y7j >= +"0";y7j--){e7j=u7j[y7j][l7j];if(!e7j && e7j !== 0)continue;if(S7j === null){S7j=e7j;}if(Y7j <= 0)break;Y7j--;a7j=y7j;}if(S7j === null){f7O.j05(25);S7j=a7j=f7O.N05(1108702496,"0");}o7j=[];for(y7j=a7j;y7j < u7j.length;y7j++){J8g="_";J8g+="CMO ";m8g="_";m8g+="C";m8g+="MO ";m7j=u7j[y7j];e7j=m7j[h7j];if(e7j && typeof e7j == "object"){e7j=e7j[N7j.subField];}P7j=y7j + p7j >= 0 && y7j + p7j < u7j.length;M7j=P7j?u7j[y7j + p7j]:null;if(!e7j && e7j !== ("0" ^ 0)){if(M7j){M7j[l7j]=null;}else if(y7j + p7j >= u7j.length){Z7j={};Z7j[l7j]=null;o7j.push(Z7j);}continue;}if(!m7j[m8g + N7j.name] && m7j["_CMO " + N7j.name] !== 0)continue;f7O.V05(85);var B41=f7O.N05(80,11,112,4,3);Q7j=Math.abs(m7j[J8g + N7j.name]) / B41;f7O.j05(135);D7j=f7O.N05(2147483647,"1",e7j,S7j,Q7j,T7j,T7j,Q7j);S7j=D7j;if(y7j < N7j.days){D7j=null;}if(M7j){M7j[l7j]=D7j;}else if(y7j + p7j >= u7j.length){Z7j={};Z7j[l7j]=D7j;o7j.push(Z7j);}}N7j.appendFutureTicks(E7j,o7j);};t2j.Studies.studyLibrary=t2j.extend(t2j.Studies.studyLibrary,{"Chande Fcst":{name:"Chande Forecast Oscillator",calculateFN:t2j.Studies.calculateChandeForecast,inputs:{Period:14,Field:l8g}},"Chande Mtm":{name:O8g,calculateFN:t2j.Studies.calculateChandeMomentum,inputs:{Period:9},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:50,studyOverBoughtColor:"auto",studyOverSoldValue:-50,studyOverSoldColor:"auto"}}}});}};l1r=q7j=>{var F7j,Y8g,Q8g;i3ss.Z9O();F7j=typeof _CIQ !== "undefined"?_CIQ:q7j.CIQ;if(!F7j.Studies){Y8g="choppine";Y8g+="ss feature requires ";Y8g+="first activating studies featu";Y8g+="re.";console.error(Y8g);}else {Q8g="0";Q8g+=".1";F7j.Studies.calculateChoppiness=function(L7j,c7j){var B7O=i3ss;var A7j,I8g,B7j,j7j,N8g,R8g;F7j.Studies.calculateStudyATR(L7j,c7j);A7j=c7j.chart.scrubbed;B7O.Z9O();function b7j(n7j,I7j){var g7j,s7j;B7O.j05(1);var z41=B7O.c05(6,5);g7j=Number.MAX_VALUE * z41;s7j=Number.MAX_VALUE;for(var t7j=I7j - n7j + 1;t7j <= I7j;t7j++){if(t7j < 0)continue;g7j=Math.max(g7j,A7j[t7j].High);s7j=Math.min(s7j,A7j[t7j].Low);}return [s7j,g7j];}if(A7j.length < c7j.days + 1){c7j.error=! !{};return;}for(var G7j=Math.max(c7j.startFrom,c7j.days);G7j < A7j.length;G7j++){I8g="Sum True Rang";I8g+="e ";B7j=A7j[G7j];if(!B7j)continue;if(B7j.futureTick)break;j7j=b7j(c7j.days,G7j);if(B7j[I8g + c7j.name]){N8g="R";N8g+="esult ";B7O.j05(27);var U41=B7O.c05(4,98,1,8);B7O.j05(39);var d41=B7O.c05(18,1,16);B7j[N8g + c7j.name]=U41 * Math.log(B7j["Sum True Range " + c7j.name] / Math.max(0.000001,j7j[d41] - j7j[0])) / Math.log(c7j.days);}else if(!isNaN(B7j)){R8g="Resu";R8g+="lt ";B7j[R8g + c7j.name]=0;}}};F7j.Studies.studyLibrary=F7j.extend(F7j.Studies.studyLibrary,{Choppiness:{name:"Choppiness Index",calculateFN:F7j.Studies.calculateChoppiness,centerline:"50" | 16,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:61.8,studyOverBoughtColor:"auto",studyOverSoldValue:38.2,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:50,step:Q8g},studyOverSoldValue:{max:50,step:"0.1"}}}});}};S1r=f7j=>{i3ss.H9O();var H7j,p8g,W8g,S8g,e8g;H7j=typeof _CIQ !== "undefined"?_CIQ:f7j.CIQ;if(!H7j.Studies){console.error("comparisonStudies feature requires first activating studies feature.");}else if(!H7j.Studies.initPriceRelative){console.error("comparisonStudies feature requires first activating priceRelative feature.");}else {p8g="Be";p8g+="t";p8g+="a";W8g="#";W8g+="F";W8g+="F0";W8g+="000";S8g="#";S8g+="00DD0";S8g+="0";e8g="-1 to ";e8g+="1";H7j.Studies.calculateCorrelationCoefficient=function(z5j,V7j){var V7O=i3ss;var J5j,k5j,w5j,T8g,i5j,W5j,U5j,v5j,O5j,d5j,K5j,d8g,U8g,x5j,z8g,B8g,K8g,a8g,y5j,e5j,p5j,u5j;J5j=V7j.chart.scrubbed;k5j=V7j.days;if(J5j.length < k5j + 1){V7j.error=! ![];return;}V7j.compare=V7j.inputs["Compare To"];V7O.Z9O();if(!V7j.compare){V7j.compare=[];V7j.outputs={};V7j.outputMap={};for(var N5j in z5j.chart.series){w5j=z5j.chart.series[N5j];if(w5j.parameters.color){T8g="Resu";T8g+="lt ";V7j.compare.push(w5j.display);V7j.outputs["Result " + w5j.display]=w5j.parameters.color;V7j.outputMap["Result " + w5j.display + " " + V7j.name]=T8g + w5j.display;}}}else {V7j.compare=[V7j.compare];}if(!V7j.compare.length){V7j.error="Correlation Coefficient requires at least one comparison symbol";return;}for(var r5j=0;r5j < V7j.compare.length;r5j++){i5j=+"0";W5j=0;U5j=0;v5j=0;O5j=0;d5j=V7j.compare[r5j];K5j=+"0";for(var R7j=V7j.startFrom - k5j;R7j < J5j.length;R7j++){d8g="_temp";d8g+="s";d8g+=" ";U8g="_te";U8g+="mps";U8g+=" ";if(!J5j[R7j])continue;x5j=J5j[R7j][d5j];if(x5j && typeof x5j == "object"){x5j=x5j.Close;}if(!x5j && x5j !== 0){z8g="_";z8g+="temps";z8g+=" ";B8g="_temps";B8g+=" ";if(R7j > 0 && J5j[R7j - 1] && J5j[R7j - 1]["_temps " + V7j.name] && J5j[R7j - 1][B8g + V7j.name].c){x5j=J5j[R7j - 1][z8g + V7j.name].c;}else {x5j=+"0";}}if(x5j && typeof x5j == "object"){x5j=x5j.Close;}J5j[R7j]["_temps " + V7j.name]={};i5j+=J5j[R7j]["_temps " + V7j.name].b=J5j[R7j].Close;W5j+=J5j[R7j]["_temps " + V7j.name].c=x5j;U5j+=J5j[R7j]["_temps " + V7j.name].b2=Math.pow(J5j[R7j].Close,2);v5j+=J5j[R7j][U8g + V7j.name].c2=Math.pow(x5j,2);O5j+=J5j[R7j][d8g + V7j.name].bc=J5j[R7j].Close * x5j;if(K5j >= k5j){K8g="Re";K8g+="sul";K8g+="t ";a8g="_t";a8g+="e";a8g+="m";a8g+="ps ";i5j-=J5j[R7j - k5j]["_temps " + V7j.name].b;W5j-=J5j[R7j - k5j]["_temps " + V7j.name].c;U5j-=J5j[R7j - k5j]["_temps " + V7j.name].b2;v5j-=J5j[R7j - k5j][a8g + V7j.name].c2;O5j-=J5j[R7j - k5j]["_temps " + V7j.name].bc;y5j=U5j / k5j - Math.pow(i5j / k5j,+"2");V7O.j05(2);var a41=V7O.c05(2,0);e5j=v5j / k5j - Math.pow(W5j / k5j,a41);V7O.j05(5);var K41=V7O.N05(3,5,0,6);p5j=O5j / k5j - i5j * W5j / Math.pow(k5j,K41);u5j=p5j / Math.sqrt(y5j * e5j);V7O.V05(4);var n41=V7O.N05(9450,4);V7O.j05(136);var o41=V7O.c05(510,482,85,4);V7O.j05(3);var b41=V7O.c05(20,19,0);V7O.V05(42);var G41=V7O.N05(5939,5936,7,5939);V7O.V05(44);var D41=V7O.c05(43427,2,9650,5);V7O.j05(4);var u41=V7O.c05(3613,13);J5j[R7j][K8g + d5j + ((n41,409.15) >= (o41,+"5620")?(!"","466.95" * b41):(G41,D41) != (534.81,"8586" ^ 0)?" ":u41) + V7j.name]=u5j;}K5j++;}}};H7j.Studies.calculatePerformance=function(M5j,l5j){var S5j,m5j,n8g,Z5j;S5j=l5j.chart.scrubbed;m5j=l5j.inputs["Comparison Symbol"].toUpperCase();if(!m5j){m5j=l5j.study.inputs["Comparison Symbol"];}if(!l5j.days){l5j.days=l5j.study.inputs.Period;}if(S5j.length < l5j.days + 1){l5j.error=! ![];return;}H7j.Studies.MA("ma",l5j.days,"Close",0,"_MA Base",M5j,l5j);H7j.Studies.MA("ma",l5j.days,m5j,0,"_MA Comp",M5j,l5j);for(var h5j=l5j.startFrom;h5j < S5j.length;h5j++){n8g="_MA ";n8g+="Comp";n8g+=" ";Z5j=S5j[h5j][m5j];if(Z5j && (Z5j.Close || Z5j.Close === 0)){Z5j=Z5j.Close;}S5j[h5j]["Result " + l5j.name]=S5j[h5j].Close / Z5j * (S5j[h5j][n8g + l5j.name] / S5j[h5j]["_MA Base " + l5j.name]);}};H7j.Studies.calculateBeta=function(E5j,D5j){var E7O=i3ss;var x8g,G8g,b8g,o8g,o5j,Q5j,T5j,Y5j,i8g,u8g,D8g,E8g;x8g="_C";x8g+="O";x8g+="VA";x8g+="R";G8g="_Com";G8g+="pC";G8g+="hange ";b8g="_";b8g+="MA ";b8g+="Bas";b8g+="e";o8g="_B";o8g+="aseC";o8g+="han";o8g+="ge ";o5j=D5j.chart.scrubbed;Q5j=D5j.inputs["Comparison Symbol"].toUpperCase();if(!Q5j){Q5j=D5j.study.inputs["Comparison Symbol"];}if(!D5j.days){D5j.days=D5j.study.inputs.Period;}if(o5j.length < D5j.days + 1){D5j.error=! ![];return;}for(var a5j=Math.max(D5j.startFrom,1);a5j < o5j.length;a5j++){E7O.j05(44);var i41=E7O.c05(65,12,6,9);E7O.V05(137);var x41=E7O.c05(9,3,9,18,3);o5j[a5j]["_BaseChange " + D5j.name]=o5j[a5j].Close / o5j[a5j - i41].Close - x41;T5j=o5j[a5j][Q5j];if(T5j && (T5j.Close || T5j.Close === +"0")){T5j=T5j.Close;}E7O.j05(4);Y5j=o5j[E7O.N05(a5j,1)][Q5j];if(Y5j && (Y5j.Close || Y5j.Close === ("0" | 0))){Y5j=Y5j.Close;}E7O.j05(41);o5j[a5j]["_CompChange " + D5j.name]=E7O.N05(1,Y5j,T5j);}H7j.Studies.MA("ma",D5j.days,o8g + D5j.name,0,b8g,E5j,D5j);H7j.Studies.MA("ma",D5j.days,G8g + D5j.name,0,"_MA Comp",E5j,D5j);for(a5j=Math.max(D5j.startFrom,D5j.days);a5j < o5j.length;a5j++){i8g="_MA ";i8g+="Com";i8g+="p ";u8g="_Bas";u8g+="eChange ";D8g="_COV";D8g+="ARn ";o5j[a5j][D8g + D5j.name]=(o5j[a5j][u8g + D5j.name] - o5j[a5j]["_MA Base " + D5j.name]) * (o5j[a5j]["_CompChange " + D5j.name] - o5j[a5j]["_MA Comp " + D5j.name]);o5j[a5j]["_VARn " + D5j.name]=Math.pow(o5j[a5j]["_CompChange " + D5j.name] - o5j[a5j][i8g + D5j.name],2);}H7j.Studies.MA("ma",D5j.days,"_COVARn " + D5j.name,0,x8g,E5j,D5j);H7j.Studies.MA("ma",D5j.days,"_VARn " + D5j.name,0,"_VAR",E5j,D5j);for(a5j=Math.max(D5j.startFrom,D5j.days * 2 - 1);a5j < o5j.length;a5j++){E8g="_";E8g+="VAR ";o5j[a5j]["Result " + D5j.name]=o5j[a5j]["_COVAR " + D5j.name] / o5j[a5j][E8g + D5j.name];}};H7j.Studies.studyLibrary=H7j.extend(H7j.Studies.studyLibrary,{correl:{name:"Correlation Coefficient",range:e8g,calculateFN:H7j.Studies.calculateCorrelationCoefficient,outputs:{}},"Perf Idx":{name:"Performance Index",centerline:1,initializeFN:H7j.Studies.initPriceRelative,seriesFN:H7j.Studies.displayVsComparisonSymbol,calculateFN:H7j.Studies.calculatePerformance,inputs:{Period:120,"Comparison Symbol":"SPY"},outputs:{Result:"auto",Gain:S8g,Loss:W8g},deferUpdate:!""},Beta:{name:p8g,centerline:1,initializeFN:H7j.Studies.initPriceRelative,seriesFN:H7j.Studies.displayVsComparisonSymbol,calculateFN:H7j.Studies.calculateBeta,inputs:{Period:+"20","Comparison Symbol":"SPY"},deferUpdate:! !"1"}});}};h1r=P5j=>{var L8g,C5j,F8g,y8g;L8g="un";L8g+="d";L8g+="ef";L8g+="ined";C5j=typeof _CIQ !== L8g?_CIQ:P5j.CIQ;if(!C5j.Studies){F8g="coppock feature requires first activating studies feat";F8g+="u";F8g+="re.";console.error(F8g);}else {y8g="f";y8g+="i";y8g+="e";y8g+="ld";C5j.Studies.calculateCoppock=function(b5j,X5j){var b7O=i3ss;var F5j,q5j,B5j,A5j,G5j,j5j,L5j,r8g;b7O.H9O();F5j=X5j.chart.scrubbed;q5j=X5j.inputs.Field;if(!q5j || q5j == "field"){q5j="Close";}B5j=parseInt(X5j.inputs["Long RoC"],10);if(!B5j){B5j=14;}A5j=parseInt(X5j.inputs["Short RoC"],"10" >> 107180704);if(!A5j){A5j=11;}G5j=X5j.days;if(!G5j){G5j=10;}if(B5j < A5j){return;}if(F5j.length < Math.max(A5j,B5j,G5j) + 1){X5j.error=! !"1";return;}for(var c5j=Math.max(X5j.startFrom,B5j);c5j < F5j.length;c5j++){b7O.V05(4);j5j=F5j[b7O.N05(c5j,A5j)][q5j];b7O.j05(4);L5j=F5j[b7O.c05(c5j,B5j)][q5j];if(j5j && L5j){r8g="_";r8g+="S";r8g+="u";r8g+="m ";b7O.V05(138);var E41=b7O.N05(20,106,33,14,5);F5j[c5j][r8g + X5j.name]=E41 * (F5j[c5j][q5j] / j5j + F5j[c5j][q5j] / L5j - +"2");}}C5j.Studies.MA("weighted",G5j,"_Sum " + X5j.name,0,"Result",b5j,X5j);};C5j.Studies.studyLibrary=C5j.extend(C5j.Studies.studyLibrary,{Coppock:{name:"Coppock Curve",calculateFN:C5j.Studies.calculateCoppock,inputs:{Period:10,Field:y8g,"Short RoC":11,"Long RoC":14}}});}};Z1r=g5j=>{var f9O=i3ss;var b8J,x8J,S8J,t5j,N4g;b8J=1710743553;f9O.V05(87);x8J=-f9O.c05(1857616416,"486858294");S8J=+"2";for(var L8J=+"1";f9O.B0J(L8J.toString(),L8J.toString().length,22518) !== b8J;L8J++){t5j=typeof _CIQ !== "undefined"?_CIQ:g5j.CIQ;S8J+=2;}if(f9O.B0J(S8J.toString(),S8J.toString().length,"13583" | 13579) !== x8J){t5j=!_CIQ == ""?_CIQ:g5j.CIQ;}if(!t5j.Studies){console.error("darvasBox feature requires first activating studies feature.");}else {N4g="#6";N4g+="99158";t5j.Studies.calculateDarvas=function(z4j,J4j){var Z8g,q8g,h8g,w8g,j8g,t8g,s5j,R5j,v4j,k8g,M8g,g8g,d4j,x4j,H5j,V5j,i4j,k4j,W4j,w4j,n5j,f5j,r4j,f8g,I5j,H8g,v8g,P4g,c8g,A4g,s4g,V4g,C4g,X4g,m4g,J4g;Z8g="S";Z8g+="pi";Z8g+="k";Z8g+="e";q8g="P";q8g+="ro";q8g+="fi";q8g+="t";h8g="Lev";h8g+="el Of";h8g+="fset";w8g="V";f9O.Z9O();w8g+="olume % of Av";w8g+="g";j8g="Vo";j8g+="lume";j8g+=" Sp";j8g+="ike";t8g="ATH Look";t8g+="back Period";s5j=J4j.chart.scrubbed;R5j=0;v4j=parseInt(J4j.inputs[t8g],10);if(J4j.inputs[j8g]){k8g="AD";k8g+="V";M8g="Vol";M8g+="u";M8g+="me";g8g="si";g8g+="m";g8g+="p";g8g+="le";t5j.Studies.MA(g8g,v4j,M8g,0,k8g,z4j,J4j);}f9O.j05(2);var e41=f9O.c05(20,80);d4j=parseFloat(J4j.inputs[w8g]) / e41;x4j="none";H5j={};V5j=null;i4j=null;k4j=null;W4j=parseFloat(J4j.inputs[h8g]);w4j=! !0;if(w4j){console.log("*****************");}f5j={};["Darvas","Ghost",q8g,"Loss","ATH","ADV",Z8g].forEach(function(N4j){f9O.V05(73);var S41=f9O.N05(44394,18,6,6,8883);f9O.H9O();f9O.V05(137);var W41=f9O.c05(18,5,23,87,80);f5j[N4j]=N4j + (S41 != ("9480" ^ 0)?" ":(+"9.99e+2",W41)) + J4j.name;});for(n5j=J4j.startFrom - 1;n5j > 0;n5j--){r4j=s5j[n5j];if(r4j[f5j.Darvas] || r4j[f5j.Ghost]){for(var K4j in f5j){r4j[K4j]=null;}}else {R5j=r4j[f5j.ATH] || 0;i4j=r4j[f5j.Profit];k4j=r4j[f5j.Loss];break;}}for(n5j;n5j < s5j.length;n5j++){f8g="P";f8g+="rice ";f8g+="Minimum";I5j=s5j[n5j];if(!I5j)continue;if(parseFloat(J4j.inputs[f8g]) <= s5j[R5j].Close){H8g="Ex";H8g+="it Fi";H8g+="e";H8g+="ld";if(V5j && (!V5j.End || n5j == V5j.End + +"1")){if(s5j[n5j - 1].Close > H5j.High){H5j={State:1,High:2 * H5j.High - H5j.Low,Low:H5j.High,Start:n5j,End:+"2" * H5j.End - H5j.Start + +"1"};}else {V5j=null;;}if(V5j){I5j[f5j.Ghost]=t5j.clone(H5j);if(w4j){console.log("Ghost begin:" + I5j.DT);}H5j.State=0;if(s5j[H5j.End]){s5j[H5j.End][f5j.Ghost]=t5j.clone(H5j);if(w4j){console.log("Ghost end:" + s5j[H5j.End].DT);}}V5j={Start:H5j.Start,End:H5j.End};i4j=H5j.High + W4j;if(!k4j || k4j < H5j.Low - W4j){k4j=H5j.Low - W4j;}}}I5j[f5j.Profit]=i4j;I5j[f5j.Loss]=k4j;if(I5j.Close >= i4j){i4j=null;}else if(J4j.inputs[H8g] == "high/low" && I5j.High >= i4j){i4j=null;}if(x4j == "none"){if(n5j == R5j + "3" * 1){if(!s5j[R5j + ("2" >> 1087751904)][f5j.Darvas] && !s5j[R5j + ("1" << 1111108864)][f5j.Darvas] && !s5j[R5j][f5j.Darvas] && s5j[R5j].High > I5j.High){x4j="high";;}}}if(x4j == "high"){if(I5j.High > s5j[R5j].High){v8g="n";v8g+="o";v8g+="ne";x4j=v8g;}else if(s5j[n5j - 3].Low < s5j[n5j - 2].Low && s5j[n5j - 3].Low < s5j[n5j - +"1"].Low && s5j[n5j - +"3"].Low < I5j.Low){P4g="Dar";P4g+="vas be";P4g+="g";P4g+="in:";c8g="darva";c8g+="s";H5j={State:"1" - 0,High:s5j[R5j].High,Low:s5j[n5j - 3].Low,Start:R5j};s5j[R5j][f5j.Darvas]=t5j.clone(H5j);x4j=c8g;if(w4j){console.log(P4g + s5j[R5j].DT);}if(w4j){console.log("Darvas established:" + I5j.DT);}if(V5j){A4g="Gh";A4g+="os";A4g+="t end:";if(V5j.End > n5j && s5j[V5j.Start]){I5j[f5j.Ghost]=t5j.clone(s5j[V5j.Start][f5j.Ghost]);I5j[f5j.Ghost].End=n5j;if(s5j[V5j.End]){delete s5j[V5j.End][f5j.Ghost];if(w4j){console.log("Ghost End removed:" + s5j[V5j.End].DT);}}}f9O.V05(29);I5j[f5j.Ghost].State=f9O.N05(0,"0");s5j[V5j.Start][f5j.Ghost].End=n5j;if(w4j){console.log(A4g + I5j.DT);}V5j=null;}i4j=H5j.High + W4j;if(!k4j || k4j < H5j.Low - W4j){k4j=H5j.Low - W4j;}}}if(x4j == "darvas"){s4g="n";s4g+="o";s4g+="n";s4g+="e";V4g="no";V4g+="n";V4g+="e";C4g="h";C4g+="igh/lo";C4g+="w";if(I5j.Close > H5j.High){V5j={};}else if(J4j.inputs["Exit Field"] == C4g && I5j.High > H5j.High){V5j={};}else if(I5j.Close < H5j.Low){x4j="none";}else if(J4j.inputs["Exit Field"] == "high/low" && I5j.Low < H5j.Low){x4j="none";}if(V5j){x4j=V4g;}else if(x4j == s4g){i4j=null;k4j=null;}if(!J4j.inputs["Ghost Boxes"]){V5j=null;}if(x4j == "none"){for(var O4j=H5j.Start + 1;O4j < n5j;O4j++){s5j[O4j][f5j.Darvas]=t5j.clone(H5j);}H5j.State=+"0";H5j.End=n5j;I5j[f5j.Darvas]=t5j.clone(H5j);if(w4j){console.log("Darvas end:" + I5j.DT);}I5j[f5j.ATH]=R5j;continue;}}if(k4j){X4g="Exit";X4g+=" ";X4g+="Fiel";X4g+="d";if(I5j.Close < H5j.Low || J4j.inputs[X4g] == "high/low" && I5j.Low < H5j.Low){if(x4j == "darvas"){x4j="none";}if(I5j.Close < k4j || J4j.inputs["Exit Field"] == "high/low" && I5j.Low < k4j){i4j=null;k4j=null;}if(V5j){if(V5j.End > n5j && s5j[V5j.Start]){I5j[f5j.Ghost]=t5j.clone(s5j[V5j.Start][f5j.Ghost]);I5j[f5j.Ghost].End=n5j;if(s5j[V5j.End]){delete s5j[V5j.End][f5j.Ghost];if(w4j){console.log("Ghost End removed:" + s5j[V5j.End].DT);}}}I5j[f5j.Ghost].State=0;s5j[V5j.Start][f5j.Ghost].End=n5j;if(w4j){console.log("Ghost end:" + I5j.DT);}V5j=null;}}}}if(I5j.High >= s5j[R5j].High){m4g="Al";m4g+="l";m4g+=" Ti";m4g+="me High:";R5j=n5j;if(w4j){console.log(m4g + I5j.DT);}}if(n5j < 3 || I5j.High >= s5j[n5j - 1].High && I5j.High >= s5j[n5j - +"2"].High && I5j.High >= s5j[n5j - 3].High){if(n5j - R5j >= v4j){R5j=n5j;for(var U4j=0;U4j < v4j;U4j++){if(n5j - U4j < ("0" | 0))break;if(s5j[n5j - U4j].High > s5j[R5j].High){f9O.V05(4);R5j=f9O.N05(n5j,U4j);}}if(w4j){console.log("All Time High:" + I5j.DT);}}}if(J4j.inputs["Volume Spike"] && n5j > v4j && n5j == R5j){if(I5j[f5j.ADV] * d4j < I5j.Volume){J4g="V";J4g+="olume";J4g+=" Spi";J4g+="ke:";I5j[f5j.Spike]=+"1";if(w4j){console.log(J4g + I5j.DT);}}}I5j[f5j.ATH]=R5j;}};t5j.Studies.displayDarvas=function(e4j,l4j,h4j){var P4j,D4j,Y4j,S4j,y4j,p4j,u4j,A4j,a4j,Z4j,O4g,l4g,c4j,G4j,b4j,j4j,m4j,M4j,o4j,X4j,T4j,C4j,Q4j,q4j,E4j,F4j,t4j,B4j,g4j,Y4g,e2J,S2J,W2J,u4J,i4J,x4J,I4g,F8J,r8J,t8J,L4j;P4j=t5j.Studies.determineColor(l4j.outputs.Levels);if(!P4j || P4j == "auto" || t5j.isTransparent(P4j)){P4j=e4j.defaultColor;}D4j=t5j.Studies.determineColor(l4j.outputs.Darvas);if(!D4j || D4j == "auto" || t5j.isTransparent(D4j)){D4j=e4j.defaultColor;}Y4j=t5j.Studies.determineColor(l4j.outputs.Ghost);if(!Y4j || Y4j == "auto" || t5j.isTransparent(Y4j)){Y4j=e4j.defaultColor;}S4j=e4j.panels[l4j.panel];y4j=l4j.getContext(e4j);f9O.j05(35);var p41=f9O.c05(13,11,1);Z4j=e4j.layout.candleWidth - p41;if(Z4j < 2){Z4j=1;}e4j.startClip(l4j.panel);if(l4j.inputs["Stop Levels"]){if(y4j.setLineDash){y4j.setLineDash([2,2]);}y4j.lineWidth=2;y4j.strokeStyle=P4j;y4j.beginPath();for(p4j=0;p4j < h4j.length;p4j++){O4g="L";O4g+="o";O4g+="s";O4g+="s ";l4g="L";l4g+="o";l4g+="s";l4g+="s ";u4j=h4j[p4j];f9O.j05(4);c4j=h4j[f9O.c05(p4j,1)];if(!u4j)continue;a4j=u4j[l4g + l4j.name]?Math.floor(e4j.pixelFromPrice(u4j[O4g + l4j.name],S4j)):null;G4j=c4j && c4j["Loss " + l4j.name]?Math.floor(e4j.pixelFromPrice(c4j["Loss " + l4j.name],S4j)):null;if(a4j){if(u4j.candleWidth){Z4j=Math.floor(Math.max(1,u4j.candleWidth));}b4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) + Z4j / 2);j4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) - Z4j / 2);if(G4j && G4j >= a4j){y4j.lineTo(j4j,a4j);}else if(p4j === 0){y4j.moveTo(e4j.chart.left,a4j);}else {y4j.moveTo(j4j,a4j);}y4j.lineTo(b4j,a4j);}}y4j.stroke();if(y4j.setLineDash){y4j.setLineDash([]);}y4j.lineWidth=+"1";}m4j=-10;o4j=0;T4j=- +"10";Q4j=0;E4j=! !"";F4j=!{};f9O.j05(139);var L41=f9O.N05(4,7410,4,618);f9O.V05(140);var F41=f9O.c05(3599,8,6,169731,12);f9O.V05(11);var r41=f9O.c05(3182,33,17);f9O.V05(131);var y41=f9O.N05(7,744157,107592,15,18);f9O.j05(141);var t41=f9O.c05(3,18,1,35,12);t4j=y4j.measureText((L41,F41) < (r41,y41)?"\u25B2":("2.80e+3" & 2147483647,!{})).width / t41;B4j=0;for(p4j=0;p4j < h4j.length;p4j++){if(!h4j[p4j])continue;if(h4j[p4j].Close || h4j[p4j].Close === +"0"){B4j=p4j;}if(h4j[p4j]["Spike " + l4j.name]){y4j.fillStyle=D4j;y4j.textBaseline="bottom";g4j=e4j.pixelFromPrice(h4j[p4j].High,e4j.chart.panel);y4j.fillText("\u25BC",e4j.pixelFromBar(p4j) - t4j,g4j - 5);;}if(h4j[p4j].candleWidth){Z4j=Math.floor(Math.max(1,h4j[p4j].candleWidth));}if(h4j[p4j]["Darvas " + l4j.name]){u4j=h4j[p4j]["Darvas " + l4j.name];if(u4j.State == 1 && !E4j){m4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) - Z4j / 2);M4j=Math.floor(e4j.pixelFromPrice(u4j.High,S4j));X4j=Math.floor(e4j.pixelFromPrice(u4j.Low,S4j)) - M4j;E4j=! ![];}else if(u4j.State === 0){f9O.V05(142);var j41=f9O.N05(152,14,5,6);o4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) + Z4j / j41) - m4j;M4j=Math.floor(e4j.pixelFromPrice(u4j.High,S4j));X4j=Math.floor(e4j.pixelFromPrice(u4j.Low,S4j)) - M4j;y4j.strokeStyle=D4j;y4j.fillStyle=D4j;if(!l4j.inputs["Stop Levels"]){y4j.strokeRect(m4j,M4j,o4j,X4j);y4j.globalAlpha=0.2;}else {y4j.globalAlpha=0.3;}y4j.fillRect(m4j,M4j,o4j,X4j);y4j.globalAlpha=1;E4j=! !"";}}if(h4j[p4j]["Ghost " + l4j.name] && l4j.inputs["Ghost Boxes"]){Y4g="Gh";Y4g+="ost ";u4j=h4j[p4j][Y4g + l4j.name];if(u4j.State == "1" * 1 && !F4j){T4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) - Z4j / 2);C4j=Math.floor(e4j.pixelFromPrice(u4j.High,S4j));Q4j=Math.floor((u4j.End - u4j.Start + 1) * e4j.layout.candleWidth + Z4j / 2);q4j=Math.floor(e4j.pixelFromPrice(u4j.Low,S4j)) - C4j;F4j=!"";}else if(u4j.State === 0){if(u4j.Start == u4j.End){T4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) - Z4j / 2);}Q4j=Math.floor(e4j.pixelFromBar(p4j,S4j.chart) + Z4j / +"2") - T4j;C4j=Math.floor(e4j.pixelFromPrice(u4j.High,S4j));q4j=Math.floor(e4j.pixelFromPrice(u4j.Low,S4j)) - C4j;y4j.strokeStyle=Y4j;y4j.fillStyle=Y4j;if(!l4j.inputs["Stop Levels"]){y4j.strokeRect(T4j,C4j,Q4j,q4j);y4j.globalAlpha=+"0.2";}else {y4j.globalAlpha=0.3;}y4j.fillRect(T4j,C4j,Q4j,q4j);y4j.globalAlpha=1;F4j=! !"";}}}if(E4j){f9O.V05(73);var g41=f9O.N05(175,12,11,5,40);o4j=Math.floor(e4j.pixelFromBar(B4j,S4j.chart) + Z4j / g41) - m4j;y4j.strokeStyle=D4j;y4j.fillStyle=D4j;if(!l4j.inputs["Stop Levels"]){y4j.beginPath();f9O.V05(143);y4j.moveTo(f9O.c05(o4j,m4j,564587136,"2"),M4j);y4j.lineTo(m4j,M4j);f9O.V05(2);y4j.lineTo(m4j,f9O.c05(X4j,M4j));f9O.j05(23);y4j.lineTo(f9O.c05(m4j,o4j,2),f9O.N05(X4j,M4j,f9O.V05(2)));y4j.stroke();y4j.globalAlpha=0.2;}else {y4j.globalAlpha=+"0.3";}f9O.V05(22);y4j.fillRect(m4j,M4j,f9O.c05(2,o4j),X4j);y4j.globalAlpha=1;}if(F4j){y4j.strokeStyle=Y4j;y4j.fillStyle=Y4j;if(!l4j.inputs["Stop Levels"]){y4j.strokeRect(T4j,C4j,Q4j,q4j);e2J=99764893;S2J=-1656479239;W2J=2;for(var L2J=1;f9O.T0J(L2J.toString(),L2J.toString().length,84101) !== e2J;L2J++){y4j.globalAlpha=565;W2J+=2;}if(f9O.T0J(W2J.toString(),W2J.toString().length,+"73394") !== S2J){y4j.globalAlpha=0.2;}}else {u4J=-514822556;i4J=-60522785;x4J=2;for(var e4J="1" * 1;f9O.T0J(e4J.toString(),e4J.toString().length,82568) !== u4J;e4J++){y4j.globalAlpha=219;x4J+=2;}if(f9O.B0J(x4J.toString(),x4J.toString().length,+"72804") !== i4J){y4j.globalAlpha=219;}y4j.globalAlpha=0.3;}y4j.fillRect(T4j,C4j,Q4j,q4j);y4j.globalAlpha=1;}if(E4j || F4j){I4g="Sto";I4g+="p";I4g+=" Lev";I4g+="els";if(l4j.inputs[I4g]){if(y4j.setLineDash){F8J=1871117355;r8J=-992123796;t8J=+"2";for(var k8J=1;f9O.T0J(k8J.toString(),k8J.toString().length,87988) !== F8J;k8J++){y4j.setLineDash([3,+"5"]);t8J+=2;}if(f9O.T0J(t8J.toString(),t8J.toString().length,"73191" * 1) !== r8J){f9O.V05(29);y4j.setLineDash([2,f9O.N05(2,"2")]);}}y4j.lineWidth=2;y4j.strokeStyle=P4j;L4j=Math.floor(e4j.pixelFromBar(B4j - 1,S4j.chart) + Z4j / 2);if(A4j){y4j.beginPath();y4j.moveTo(L4j,A4j);y4j.lineTo(E4j?m4j + 2 * o4j:T4j + Q4j,A4j);y4j.stroke();}if(a4j){y4j.beginPath();y4j.moveTo(L4j,a4j);y4j.lineTo(E4j?m4j + 2 * o4j:T4j + Q4j,a4j);y4j.stroke();}if(y4j.setLineDash){y4j.setLineDash([]);}y4j.lineWidth=1;}E4j=! !0;F4j=! !0;}e4j.endClip();};t5j.Studies.studyLibrary=t5j.extend(t5j.Studies.studyLibrary,{Darvas:{name:"Darvas Box",underlay:! !"1",calculateFN:t5j.Studies.calculateDarvas,seriesFN:t5j.Studies.displayDarvas,inputs:{"ATH Lookback Period":100,"Exit Field":["close","high/low"],"Ghost Boxes":! ![],"Stop Levels":!"1","Level Offset":0.01,"Price Minimum":5,"Volume Spike":!"1","Volume % of Avg":400},outputs:{Darvas:"#5F7CB8",Ghost:N4g,Levels:"auto"},customRemoval:!"",attributes:{"Price Minimum":{min:0.01,step:"0.01" - 0},yaxisDisplayValue:{hidden:!0},panelName:{hidden:! !"1"},flippedEnabled:{hidden:!0}}}});}};m1r=I4j=>{var s4j,n4J,o4J,b4J,B4g;s4j=typeof _CIQ !== "undefined"?_CIQ:I4j.CIQ;if(!s4j.Studies){n4J=1661069811;o4J=+"1945153571";b4J=2;for(var D4J=1;i3ss.B0J(D4J.toString(),D4J.toString().length,"37528" | 4096) !== n4J;D4J++){console.error("detrended feature requires first activating studies feature.");b4J+=2;}if(i3ss.T0J(b4J.toString(),b4J.toString().length,"62469" * 1) !== o4J){console.error("");}}else {B4g="Detrended Pri";B4g+="ce Oscillator";s4j.Studies.calculateDetrendedPrice=function(k8j,n4j){var Q4g,R4g,V4j,R4j,J8j,T4g,H4j,x8j;Q4g="C";Q4g+="lo";Q4g+="s";Q4g+="e";R4g="f";R4g+="i";R4g+="el";R4g+="d";V4j=n4j.chart.scrubbed;if(V4j.length < n4j.days + 1){n4j.error=!"";return;}R4j=n4j.inputs.Field;if(!R4j || R4j == R4g){R4j=Q4g;}J8j=Math.floor(n4j.days / 2 + 1);s4j.Studies.MA(n4j.inputs["Moving Average Type"],n4j.days,R4j,-J8j,"MA",k8j,n4j);for(var f4j=Math.max(n4j.days - J8j - 1,n4j.startFrom - J8j);f4j < V4j.length - J8j;f4j++){T4g="Res";T4g+="ul";T4g+="t ";if(f4j < 0)continue;H4j=V4j[f4j][R4j];if(H4j && typeof H4j == "object"){H4j=H4j[n4j.subField];}x8j=V4j[f4j]["MA " + n4j.name];if((H4j || H4j === 0) && (x8j || x8j === "0" >> 1175133792)){i3ss.V05(4);V4j[f4j][T4g + n4j.name]=i3ss.N05(H4j,x8j);}}};s4j.Studies.studyLibrary=s4j.extend(s4j.Studies.studyLibrary,{Detrended:{name:B4g,calculateFN:s4j.Studies.calculateDetrendedPrice,inputs:{Period:"14" & 2147483647,Field:"field","Moving Average Type":"ma"}}});}};M1r=i8j=>{var V9O=i3ss;var z4g,w8j,Y5J,I5J,N5J,d4g;z4g="und";z4g+="efined";w8j=typeof _CIQ !== z4g?_CIQ:i8j.CIQ;if(!w8j.Studies){console.error("disparity feature requires first activating studies feature.");}else {w8j.Studies.calculateDisparity=function(d8j,W8j){var U4g,r8j,v8j,O8j;U4g="Mo";U4g+="ving Average Type";r8j=W8j.chart.scrubbed;if(r8j.length < W8j.days + 1){W8j.error=!0;return;}v8j=W8j.inputs.Field;if(!v8j || v8j == "field"){v8j="Close";}V9O.Z9O();w8j.Studies.MA(W8j.inputs[U4g],W8j.days,v8j,"0" | 0,"_MA",d8j,W8j);for(var U8j=Math.max(W8j.startFrom,W8j.days - +"1");U8j < r8j.length;U8j++){if(!r8j[U8j])continue;O8j=r8j[U8j]["_MA " + W8j.name];if(O8j){V9O.V05(11);var M41=V9O.c05(98,16,18);V9O.j05(3);var k41=V9O.c05(7,6,0);r8j[U8j]["Result " + W8j.name]=M41 * (r8j[U8j][v8j] / O8j - k41);}}};V9O.j05(29);Y5J=-V9O.N05(1549000704,"2138305970");V9O.j05(88);I5J=-V9O.c05(2147483647,"2059357726");N5J=2;for(var Q5J=+"1";V9O.B0J(Q5J.toString(),Q5J.toString().length,2560) !== Y5J;Q5J++){w8j.Studies.studyLibrary=w8j.extend(w8j.Studies.studyLibrary,{Disparity:{name:"Disparity Index",calculateFN:w8j.Studies.calculateDisparity,inputs:{Period:14,Field:"field","Moving Average Type":"ma"}}});N5J+=2;}if(V9O.T0J(N5J.toString(),N5J.toString().length,+"45467") !== I5J){d4g="Dis";d4g+="parit";d4g+="y";d4g+=" Index";w8j.Studies.studyLibrary=w8j.extend(w8j.Studies.studyLibrary,{Disparity:{name:d4g,calculateFN:w8j.Studies.calculateDisparity,inputs:{Period:25,Field:"Moving Average Type","Moving Average Type":"Disparity Index"}}});}}};D1r=z8j=>{var K8j,G4g,b4g;i3ss.Z9O();K8j=typeof _CIQ !== "undefined"?_CIQ:z8j.CIQ;if(!K8j.Studies){console.error("easeOfMovement feature requires first activating studies feature.");}else {G4g="m";G4g+="a";b4g="Ea";b4g+="se of";b4g+=" Move";b4g+="ment";K8j.Studies.calculateEaseOfMovement=function(Z8j,e8j){var l7O=i3ss;var o4g,n4g,K4g,N8j,a4g,u8j,l8j,S8j,h8j,p8j;o4g="Resu";o4g+="lt";n4g="_EOM1";n4g+=" ";K4g="Moving Avera";K4g+="ge Type";N8j=e8j.chart.scrubbed;if(N8j.length < e8j.days){e8j.error=! ![];return;}for(var y8j=Math.max(1,e8j.startFrom);y8j < N8j.length;y8j++){a4g="_E";a4g+="O";a4g+="M";a4g+="1 ";l7O.V05(131);var w41=l7O.N05(5,138,26,18,16);u8j=(N8j[y8j].High + N8j[y8j].Low) / w41;l7O.V05(1);var h41=l7O.N05(9,10);l7O.j05(142);var q41=l7O.N05(285,13,6,16);l7O.j05(2);var Z41=l7O.c05(1016270874,254067718);l8j=(N8j[y8j - h41].High + N8j[y8j - q41].Low) / ("2" << Z41);l7O.j05(4);S8j=l7O.N05(u8j,l8j);l7O.V05(4);var f41=l7O.c05(100000007,7);h8j=N8j[y8j].Volume / f41 / (N8j[y8j].High - N8j[y8j].Low);l7O.j05(20);p8j=l7O.N05(h8j,S8j);if(!isFinite(p8j)){N8j[y8j][a4g + e8j.name]=NaN;}else {N8j[y8j]["_EOM1 " + e8j.name]=p8j;}}K8j.Studies.MA(e8j.inputs[K4g],e8j.days,n4g + e8j.name,+"0",o4g,Z8j,e8j);};K8j.Studies.studyLibrary=K8j.extend(K8j.Studies.studyLibrary,{EOM:{name:b4g,calculateFN:K8j.Studies.calculateEaseOfMovement,inputs:{Period:14,"Moving Average Type":G4g}}});}};a1r=M8j=>{var m8j,x4g;m8j=typeof _CIQ !== "undefined"?_CIQ:M8j.CIQ;if(!m8j.Studies){console.error("ehlerFisher feature requires first activating studies feature.");}else {x4g="a";x4g+="ut";x4g+="o";m8j.Studies.calculateEhlerFisher=function(P8j,D8j){var y7O=i3ss;var o8j,a8j,i4g,Y8j,u4g,D4g,Q8j,E8j;function C8j(A8j,B8j){var F8j,q8j,c8j;F8j=Number.MAX_VALUE;y7O.j05(11);var H41=y7O.c05(2,6,3);q8j=Number.MAX_VALUE * H41;for(var X8j=B8j - A8j + 1;X8j <= B8j;X8j++){c8j=(o8j[X8j].High + o8j[X8j].Low) / ("2" ^ 0);F8j=Math.min(F8j,c8j);q8j=Math.max(q8j,c8j);}y7O.Z9O();return [F8j,q8j];}o8j=D8j.chart.scrubbed;if(o8j.length < D8j.days + 1){D8j.error=! !"1";return;}a8j=0;if(D8j.startFrom > 1){y7O.V05(1);var v41=y7O.N05(5,6);a8j=o8j[D8j.startFrom - v41]["_n " + D8j.name];}for(var T8j=D8j.startFrom;T8j < o8j.length;T8j++){i4g="_";i4g+="n";i4g+=" ";Y8j=o8j[T8j];if(Y8j.futureTick)break;if(T8j < D8j.days - +"1"){u4g="EF ";u4g+="Trigge";u4g+="r";u4g+=" ";D4g="E";D4g+="F ";Y8j[D4g + D8j.name]=Y8j[u4g + D8j.name]=a8j;continue;}Q8j=C8j(D8j.days,T8j);y7O.j05(2);var c41=y7O.c05(2,0);y7O.j05(2);var P51=y7O.N05(2,0);y7O.V05(11);var A51=y7O.c05(6,17,12);a8j=+"0.33" * c41 * (((o8j[T8j].High + o8j[T8j].Low) / P51 - Q8j[0]) / Math.max(0.000001,Q8j[A51] - Q8j[0]) - ("0.5" - 0)) + 0.67 * a8j;if(a8j > 0){a8j=Math.min(a8j,0.9999);}else if(a8j < 0){a8j=Math.max(a8j,-0.9999);}E8j=T8j?o8j[T8j - 1]["EF " + D8j.name]:0;y7O.V05(144);var C51=y7O.N05(2,10,3,3,5);Y8j["EF " + D8j.name]=0.5 * Math.log((C51 + a8j) / (+"1" - a8j)) + 0.5 * E8j;Y8j["EF Trigger " + D8j.name]=E8j;Y8j[i4g + D8j.name]=a8j;}};m8j.Studies.studyLibrary=m8j.extend(m8j.Studies.studyLibrary,{"Ehler Fisher":{name:"Ehler Fisher Transform",calculateFN:m8j.Studies.calculateEhlerFisher,inputs:{Period:10},outputs:{EF:x4g,"EF Trigger":"#FF0000"}}});}};o1r=j8j=>{var b9O=i3ss;b9O.Z9O();var l9J,O9J,Y9J,G8j,w4g,k4g;l9J=-1505132089;O9J=1104053620;Y9J=2;for(var N9J=1;b9O.T0J(N9J.toString(),N9J.toString().length,"29089" - 0) !== l9J;N9J++){G8j=+_CIQ === ""?_CIQ:j8j.CIQ;b9O.V05(22);Y9J+=b9O.c05("2",1);}if(b9O.T0J(Y9J.toString(),Y9J.toString().length,96884) !== O9J){G8j=typeof _CIQ !== "undefined"?_CIQ:j8j.CIQ;}if(!G8j.Studies){console.error("elder feature requires first activating studies feature.");}else {w4g="#D";w4g+="D3E39";k4g="E";k4g+="l";k4g+="der Ray Index";G8j.Studies.calculateElderImpulse=function(I8j,L8j){var t8j,n8j,H8j,s8j,g8j,e4g,E4g;t8j=L8j.chart.scrubbed;n8j=L8j.outputs.Bullish;H8j=L8j.outputs.Bearish;s8j=L8j.outputs.Neutral;G8j.Studies.MA("exponential",13,"Close",0,"_MA",I8j,L8j);b9O.V05(131);var V51=b9O.c05(9,13981,1759,9,17);b9O.V05(4);var s51=b9O.N05(9,8);b9O.V05(4);var X51=b9O.c05(8220,10);b9O.V05(74);var m51=b9O.N05(10,19,953,47);b9O.V05(48);var J51=b9O.c05(4,2250,752);b9O.V05(136);var l51=b9O.N05(44351757,221758781,44351757,2);b9O.j05(38);var O51=b9O.c05(892,17,9559,15);b9O.j05(2);var Y51=b9O.N05(12,8448);L8j.macd=new G8j.Studies.StudyDescriptor(((863.58,V51) != +"3811"?628.82 == ("978.12" * s51,X51)?m51:J51 != "2010" << l51?"_":(O51,!{}):Y51) + L8j.name,"macd",L8j.panel);L8j.macd.chart=L8j.chart;L8j.macd.days=L8j.days;L8j.macd.startFrom=L8j.startFrom;L8j.macd.inputs={"Fast MA Period":12,"Slow MA Period":26,"Signal Period":+"9"};L8j.macd.outputs={_MACD:null,_Signal:null};G8j.Studies.calculateMACD(I8j,L8j.macd);for(var b8j=L8j.startFrom;b8j < t8j.length;b8j++){e4g="R";e4g+="e";e4g+="su";e4g+="lt ";E4g="_";E4g+="M";E4g+="A";E4g+=" ";if(b8j === 0){g8j=s8j;}else if(t8j[b8j][E4g + L8j.name] > t8j[b8j - 1]["_MA " + L8j.name] && t8j[b8j]["_" + L8j.name + "_hist"] > t8j[b8j - 1]["_" + L8j.name + "_hist"]){g8j=n8j;}else if(t8j[b8j]["_MA " + L8j.name] < t8j[b8j - 1]["_MA " + L8j.name] && t8j[b8j]["_" + L8j.name + "_hist"] < t8j[b8j - 1]["_" + L8j.name + "_hist"]){g8j=H8j;}else {g8j=s8j;}t8j[b8j][e4g + L8j.name]=g8j;;}};G8j.Studies.calculateElderRay=function(J19,f8j){var V8j;V8j=f8j.chart.scrubbed;if(V8j.length < f8j.days){f8j.error=! !{};return;}G8j.Studies.MA("exponential",f8j.days,"Close",+"0","_EMA",J19,f8j);for(var R8j=Math.max(f8j.startFrom,f8j.days - 1);R8j < V8j.length;R8j++){V8j[R8j][f8j.name + "_hist1"]=V8j[R8j].High - V8j[R8j]["_EMA " + f8j.name];V8j[R8j][f8j.name + "_hist2"]=V8j[R8j].Low - V8j[R8j]["_EMA " + f8j.name];}f8j.outputMap={};f8j.outputMap[f8j.name + "_hist1"]="";f8j.outputMap[f8j.name + "_hist2"]="";};G8j.Studies.calculateElderForce=function(i19,x19){b9O.H9O();var S4g,k19;S4g="_E";S4g+="F1";S4g+=" ";k19=x19.chart.scrubbed;if(k19.length < x19.days){x19.error=!0;return;}for(var w19=Math.max(1,x19.startFrom);w19 < k19.length;w19++){b9O.V05(4);var I51=b9O.c05(15,14);k19[w19]["_EF1 " + x19.name]=k19[w19].Volume * (k19[w19].Close - k19[w19 - I51].Close);}G8j.Studies.MA("exponential",x19.days,S4g + x19.name,0,"Result",i19,x19);};G8j.Studies.initElderImpulse=function(r19,v19,O19,d19,U19,K19){var W4g,W19;W4g="c";W4g+="olored_bar";b9O.Z9O();W19=G8j.Studies.initializeFN(r19,v19,O19,d19,U19,K19);if(U19.calculateOnly){return W19;}r19.chart.customChart={chartType:W4g,colorFunction:function(y19,N19,e19){var z19;z19=N19["Result " + W19.name];if(z19 && typeof z19 == "object"){z19=z19.color;}return z19;}};r19.setMainSeriesRenderer();return W19;};G8j.Studies.displayElderForce=function(u19,p19,m19){var p4g,S19,h19,Z19,l19;p4g="R";p4g+="es";p4g+="ult ";G8j.Studies.displaySeriesAsLine(u19,p19,m19);S19=G8j.Studies.determineColor(p19.outputs.Result);h19=u19.panels[p19.panel];Z19=p19.getYAxis(u19);l19={skipTransform:h19.name != p19.chart.name,panelName:p19.panel,band:p4g + p19.name,threshold:+"0",color:S19,yAxis:Z19};if(!p19.highlight && u19.highlightedDraggable){l19.opacity=0.3;}l19.direction=1;b9O.Z9O();G8j.preparePeakValleyFill(u19,l19);l19.direction=-1;G8j.preparePeakValleyFill(u19,l19);};G8j.Studies.displayElderRay=function(D19,M19,X19){var L4g,Q19,T19,C19,P19,Y19,F19,M4g,g4g,j4g,t4g,y4g,r4g,F4g,a19;L4g="stx_h";L4g+="istogra";L4g+="m";Q19=D19.panels[M19.panel];T19=M19.getContext(D19);C19=M19.getYAxis(D19);P19=D19.pixelFromPrice(0,Q19,C19);b9O.V05(4);var N51=b9O.c05(20,18);Y19=D19.layout.candleWidth - N51;if(Y19 < 2){b9O.j05(4);Y19=b9O.c05("1",0);}D19.canvasColor(L4g);F19=T19.fillStyle;if(!M19.underlay){T19.globalAlpha=1;}D19.startClip(M19.panel);if(!M19.highlight && D19.highlightedDraggable){T19.globalAlpha*=0.3;}for(var o19=0;o19 < X19.length;o19++){M4g="_";M4g+="his";M4g+="t";M4g+="2";g4g="_";g4g+="hist1";j4g="E";j4g+="ld";j4g+="er B";j4g+="ull Power";t4g="_hi";t4g+="st1";y4g="_h";y4g+="i";y4g+="s";y4g+="t2";r4g="_";r4g+="h";r4g+="ist1";F4g="Elder";F4g+=" Bull Power";a19=X19[o19];if(!a19)continue;if(a19.candleWidth){Y19=Math.floor(Math.max(1,a19.candleWidth - 2));}if(a19[M19.name + "_hist1"] > +"0"){E19(o19,0,F4g,r4g);}if(a19[M19.name + "_hist2"] < 0){E19(o19,0,"Elder Bear Power",y4g);}if(a19[M19.name + t4g] < "0" - 0){E19(o19,0.1,j4g,g4g);}if(a19[M19.name + M4g] > ("0" ^ 0)){b9O.V05(22);E19(o19,b9O.N05("0.1",1),"Elder Bear Power","_hist2");}}function E19(c19,q19,B19,A19){T19.fillStyle=G8j.Studies.determineColor(M19.outputs[B19]);b9O.H9O();T19.fillRect(Math.floor(D19.pixelFromBar(c19,Q19.chart) - Y19 / 2 + Y19 * q19),Math.floor(P19),Math.floor(Y19 * (1 - 2 * q19)),Math.floor(D19.pixelFromPrice(a19[M19.name + A19],Q19,C19) - P19));}D19.endClip();T19.fillStyle=F19;};G8j.Studies.studyLibrary=G8j.extend(G8j.Studies.studyLibrary,{"Elder Force":{name:"Elder Force Index",calculateFN:G8j.Studies.calculateElderForce,seriesFN:G8j.Studies.displayElderForce,inputs:{Period:+"13"}},"Elder Ray":{name:k4g,seriesFN:G8j.Studies.displayElderRay,calculateFN:G8j.Studies.calculateElderRay,centerline:0,inputs:{Period:13},outputs:{"Elder Bull Power":"#00DD00","Elder Bear Power":"#FF0000"}},"Elder Impulse":{name:"Elder Impulse System",calculateFN:G8j.Studies.calculateElderImpulse,initializeFN:G8j.Studies.initElderImpulse,seriesFN:null,customRemoval:! !{},underlay:! ![],inputs:{},outputs:{Bullish:"#8BC176",Bearish:w4g,Neutral:"#5F7CB8"},removeFN:function(G19,j19){var P8J,A8J,C8J;G19.chart.customChart=null;P8J=357645959;b9O.V05(4);A8J=-b9O.c05("8805581",0);C8J=2;b9O.H9O();for(var l8J=1;b9O.T0J(l8J.toString(),l8J.toString().length,96082) !== P8J;l8J++){G19.setMainSeriesRenderer();C8J+=+"2";}if(b9O.T0J(C8J.toString(),C8J.toString().length,94842) !== A8J){G19.setMainSeriesRenderer();}}}});}};T1r=b19=>{var h4g,L19,q4g,H4g;h4g="undefi";h4g+="ne";h4g+="d";L19=typeof _CIQ !== h4g?_CIQ:b19.CIQ;if(!L19.Studies){q4g="fractalChaos feature requires first activatin";q4g+="g studies feature.";console.error(q4g);}else {H4g="aut";H4g+="o";L19.Studies.calculateFractalChaos=function(J09,I19){var q7O=i3ss;var Z4g,g19,H19,f19,n19,V19,R19,s19,f4g;Z4g="Fracta";Z4g+="l Ch";Z4g+="aos Ban";q7O.Z9O();Z4g+="ds";g19=I19.chart.scrubbed;H19=0;f19=0;n19=0;if(I19.startFrom && I19.type == Z4g){q7O.j05(35);var R51=q7O.c05(15,14,1);H19=g19[I19.startFrom - R51]["Fractal High " + I19.name];q7O.V05(1);var Q51=q7O.N05(8,9);f19=g19[I19.startFrom - Q51]["Fractal Low " + I19.name];}for(var t19=Math.max(4,I19.startFrom);t19 < g19.length;t19++){if(g19[t19].futureTick)break;V19=!isNaN(g19[t19].High);R19=!isNaN(g19[t19].Low);if(V19 || R19){g19[t19]["Result " + I19.name]=0;}n19=0;for(s19=0;s19 <= t19;s19++){if(!g19[t19 - s19])break;if(g19[t19 - s19].High > g19[t19 - 2].High)break;if(s19 < 2 && g19[t19 - s19].High == g19[t19 - ("2" | 2)].High)break;if(g19[t19 - s19].High < g19[t19 - 2].High){n19++;}if(n19 == 4){H19=g19[t19 - +"2"].High;break;}}if(I19.type == "Fractal Chaos Bands"){if(V19){g19[t19]["Fractal High " + I19.name]=H19 > 0?H19:null;}}else if(n19 == +"4"){g19[t19]["Result " + I19.name]=1;}n19=+"0";for(s19=0;s19 <= t19;s19++){if(!g19[t19 - s19])break;if(g19[t19 - s19].Low < g19[t19 - 2].Low)break;if(s19 < 2 && g19[t19 - s19].Low == g19[t19 - 2].Low)break;if(g19[t19 - s19].Low > g19[t19 - ("2" & 2147483647)].Low){n19++;}if(n19 == 4){f19=g19[t19 - 2].Low;break;}}if(I19.type == "Fractal Chaos Bands"){f4g="Fractal";f4g+=" L";f4g+="ow";f4g+=" ";if(R19){g19[t19][f4g + I19.name]=f19 > "0" - 0?f19:null;}}else if(n19 == +"4"){g19[t19]["Result " + I19.name]=- +"1";}}};L19.Studies.studyLibrary=L19.extend(L19.Studies.studyLibrary,{"Fractal Chaos":{name:"Fractal Chaos Oscillator",range:"-1 to 1",calculateFN:L19.Studies.calculateFractalChaos,inputs:{},centerline:null},"Fractal Chaos Bands":{name:"Fractal Chaos Bands",overlay:! !{},calculateFN:L19.Studies.calculateFractalChaos,seriesFN:L19.Studies.displayChannel,inputs:{"Channel Fill":! !"1"},outputs:{"Fractal High":"auto","Fractal Low":H4g,"Fractal Channel":"auto"}}});}};Y1r=k09=>{var x09,Y5g,O5g,l5g,J5g,m5g,X5g;x09=typeof _CIQ !== "undefined"?_CIQ:k09.CIQ;if(!x09.Studies){console.error("highLowStudies feature requires first activating studies feature.");}else {Y5g="Hi";Y5g+="gh Minu";Y5g+="s Low";O5g="a";O5g+="u";O5g+="to";l5g="aut";l5g+="o";J5g="Low";J5g+="est Low Va";J5g+="lue";m5g="au";m5g+="t";m5g+="o";X5g="Donchian C";X5g+="hann";X5g+="e";X5g+="l";x09.Studies.calculateMaxHighMinLow=function(z09,w09){var Q7O=i3ss;var c4g,v4g,i09,K09,d09,v09,U09,r09,P5g,O09,A5g,V5g,C5g;c4g="High ";c4g+="Peri";c4g+="od";v4g="H";v4g+="i";v4g+="gh";v4g+=" Period";i09=w09.chart.scrubbed;K09=w09.days;d09=w09.days;if(w09.inputs[v4g]){K09=w09.inputs[c4g];}if(w09.inputs["Low Period"]){d09=w09.inputs["Low Period"];}if(i09.length < Math.max(K09,d09) + 1){w09.error=!"";return;}v09=Number.MAX_VALUE;Q7O.j05(145);var T51=Q7O.c05(7,10,8,12,0);U09=Number.MAX_VALUE * T51;if(w09.startFrom > 1){for(r09=+"1";r09 < K09;r09++){if(w09.startFrom - r09 >= 0){U09=Math.max(U09,i09[w09.startFrom - r09].High);}}for(r09=1;r09 < d09;r09++){if(w09.startFrom - r09 >= 0){v09=Math.min(v09,i09[w09.startFrom - r09].Low);}}}for(var W09=Math.max(0,w09.startFrom - 1);W09 < i09.length;W09++){P5g="William";P5g+="s ";P5g+="%R";U09=Math.max(U09,i09[W09].High);v09=Math.min(v09,i09[W09].Low);if(W09 >= K09){if(i09[W09 - K09].High == U09){U09=i09[W09].High;for(r09=1;r09 < K09;r09++){U09=Math.max(U09,i09[W09 - r09].High);}}}if(W09 >= d09){if(i09[W09 - d09].Low == v09){v09=i09[W09].Low;for(r09="1" ^ 0;r09 < d09;r09++){v09=Math.min(v09,i09[W09 - r09].Low);}}}O09=0;if(w09.type == "HHV"){O09=U09;}else if(w09.type == "LLV"){O09=v09;}else if(w09.type == "Donchian Width"){Q7O.V05(4);O09=Q7O.c05(U09,v09);}else if(w09.type == "GAPO" || w09.type == "Gopala"){O09=Math.log(U09 - v09) / Math.log(d09);}else if(w09.type == "VT HZ Filter"){Q7O.j05(4);O09=Q7O.N05(U09,v09);i09[W09]["_MHML " + w09.name]=O09;continue;}else if(w09.type == P5g){Q7O.j05(146);var B51=Q7O.c05(17,83);O09=B51 * (U09 - i09[W09].Close) / (U09 - v09);i09[W09]["Result " + w09.name]=O09;continue;}if(W09 == i09.length - 1)break;if(!i09[W09 + +"1"].futureTick){A5g="Donchi";A5g+="an Cha";A5g+="nnel";if(w09.type == A5g){V5g="Donchian";V5g+=" Media";V5g+="n ";C5g="Don";C5g+="chian Low ";Q7O.V05(2);i09[Q7O.c05(1,W09)]["Donchian High " + w09.name]=U09;Q7O.V05(2);i09[Q7O.N05(1,W09)][C5g + w09.name]=v09;Q7O.V05(2);i09[Q7O.N05(1,W09)][V5g + w09.name]=Q7O.N05(2,U09,v09,Q7O.V05(10));}else {Q7O.j05(2);i09[Q7O.c05(1,W09)]["Result " + w09.name]=O09;}}}};x09.Studies.calculateVerticalHorizontalFilter=function(S09,N09){var A7O=i3ss;var y09,E5J,e5J,S5J,p09,u09,l09,s5g;y09=N09.chart.scrubbed;if(y09.length < N09.days + 1){E5J=-1163519452;A7O.V05(51);e5J=-A7O.c05("73549891",0);S5J=2;for(var p5J=1;A7O.B0J(p5J.toString(),p5J.toString().length,4916) !== E5J;p5J++){N09.error=! !"";S5J+=2;}if(A7O.B0J(S5J.toString(),S5J.toString().length,44777) !== e5J){N09.error=! ![];}N09.error=! !{};return;}N09.mhml=new x09.Studies.StudyDescriptor(N09.name,N09.type,N09.panel);N09.mhml.chart=N09.chart;N09.mhml.days=N09.days;N09.mhml.startFrom=N09.startFrom;N09.mhml.inputs={};N09.mhml.outputs={_MHML:null};x09.Studies.calculateMaxHighMinLow(S09,N09.mhml);p09=0;u09=[];for(var e09=Math.max(1,N09.startFrom - N09.days);e09 < y09.length;e09++){l09=Math.abs(y09[e09].Close - y09[e09 - 1].Close);u09.push(l09);p09+=l09;if(u09.length == N09.days){s5g="_MH";s5g+="ML";s5g+=" ";y09[e09]["Result " + N09.name]=y09[e09][s5g + N09.name] / p09;p09-=u09.shift();}}};x09.Studies.studyLibrary=x09.extend(x09.Studies.studyLibrary,{"Donchian Channel":{name:X5g,overlay:! ![],calculateFN:x09.Studies.calculateMaxHighMinLow,seriesFN:x09.Studies.displayChannel,inputs:{"High Period":20,"Low Period":20,"Channel Fill":! !"1"},outputs:{"Donchian High":"auto","Donchian Median":"auto","Donchian Low":m5g}},"Donchian Width":{name:"Donchian Width",calculateFN:x09.Studies.calculateMaxHighMinLow,inputs:{"High Period":+"20","Low Period":20}},GAPO:{name:"Gopalakrishnan Range Index",calculateFN:x09.Studies.calculateMaxHighMinLow},HHV:{name:"Highest High Value",calculateFN:x09.Studies.calculateMaxHighMinLow,inputs:{Period:"14" >> 1371318496}},LLV:{name:J5g,calculateFN:x09.Studies.calculateMaxHighMinLow,inputs:{Period:14}},"Williams %R":{name:"Williams %R",calculateFN:x09.Studies.calculateMaxHighMinLow,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:- +"20",studyOverBoughtColor:l5g,studyOverSoldValue:-80,studyOverSoldColor:O5g}}},"VT HZ Filter":{name:"Vertical Horizontal Filter",calculateFN:x09.Studies.calculateVerticalHorizontalFilter,inputs:{Period:"28" & 2147483647}},"High-Low":{name:Y5g,calculateFN:function(M09,m09){var Z09,I5g;Z09=m09.chart.scrubbed;i3ss.Z9O();for(var h09=m09.startFrom;h09 < Z09.length;h09++){I5g="R";I5g+="e";I5g+="sult";I5g+=" ";Z09[h09][I5g + m09.name]=Z09[h09].High - Z09[h09].Low;}},inputs:{}}});}};Q1r=a09=>{var N5g,D09;N5g="un";i3ss.H9O();N5g+="defined";D09=typeof _CIQ !== N5g?_CIQ:a09.CIQ;if(!D09.Studies){console.error("ichimoku feature requires first activating studies feature.");}else {D09.Studies.calculateIchimoku=function(c09,T09){var t7O=i3ss;t7O.Z9O();var Y09,Q09,o09,E09,X09,F09,q09,R5g,C09;function P09(L09,j09){var A09,G09;A09=Number.MAX_VALUE;t7O.V05(41);var z51=t7O.c05(5,1,4);G09=Number.MAX_VALUE * z51;for(var B09=j09 - L09 + ("1" | 1);B09 <= j09;B09++){if(B09 < 0)continue;A09=Math.min(A09,Y09[B09].Low);G09=Math.max(G09,Y09[B09].High);}return [A09,G09];}Y09=T09.chart.scrubbed;Q09={Base:Number(T09.inputs["Base Line Period"]),Conv:Number(T09.inputs["Conversion Line Period"]),LeadB:Number(T09.inputs["Leading Span B Period"]),Lag:Number(T09.inputs["Lagging Span Period"])};for(o09=T09.startFrom;o09 < Y09.length;o09++){if(!Y09[o09])continue;E09=P09(Q09.Conv,o09);t7O.V05(4);var U51=t7O.c05(40,38);Y09[o09]["Conversion Line " + T09.name]=(E09[+"1"] + E09[0]) / U51;E09=P09(Q09.Base,o09);t7O.V05(43);var d51=t7O.c05(7,321,13,17,10);t7O.j05(34);var a51=t7O.N05(15,2,25,24);Y09[o09]["Base Line " + T09.name]=(E09[d51] + E09[0]) / a51;if(o09 < Q09.Lag)continue;Y09[o09 - Q09.Lag]["Lagging Span " + T09.name]=Y09[o09].Close;}X09=[];for(o09=Math.max(0,T09.startFrom - Q09.Base);o09 < Y09.length;o09++){E09=P09(Q09.LeadB,o09);t7O.V05(11);var K51=t7O.c05(0,1,3);F09=(Y09[o09]["Conversion Line " + T09.name] + Y09[o09]["Base Line " + T09.name]) / K51;t7O.V05(130);var n51=t7O.c05(7,5,419,12);t7O.j05(4);var o51=t7O.c05(36,34);q09=(E09[n51] + E09[+"0"]) / o51;if(Y09[o09 + Q09.Base]){R5g="Leading Span ";R5g+="A ";Y09[o09 + Q09.Base][R5g + T09.name]=F09;Y09[o09 + Q09.Base]["Leading Span B " + T09.name]=q09;}else {C09={};C09["Leading Span A " + T09.name]=F09;C09["Leading Span B " + T09.name]=q09;X09.push(C09);}}T09.appendFutureTicks(c09,X09);};D09.Studies.displayIchimoku=function(t09,b09,R09){var g09,s09,H09,f09,V09,I09,n09;g09="Leading Span A " + b09.name;s09="Leading Span B " + b09.name;H09=D09.Studies.determineColor(b09.outputs[b09.outputMap[g09]]);f09=D09.Studies.determineColor(b09.outputs[b09.outputMap[s09]]);V09=t09.panels[b09.panel];I09=b09.getYAxis(t09);n09={topBand:g09,bottomBand:s09,topColor:H09,bottomColor:f09,skipTransform:V09.name != b09.chart.name,topAxis:I09,bottomAxis:I09,opacity:0.3};if(!b09.highlight && t09.highlightedDraggable){n09.opacity*=0.3;}D09.fillIntersecting(t09,b09.panel,n09);D09.Studies.displaySeriesAsLine(t09,b09,R09);};D09.Studies.studyLibrary=D09.extend(D09.Studies.studyLibrary,{"Ichimoku Clouds":{name:"Ichimoku Clouds",overlay:! !1,calculateFN:D09.Studies.calculateIchimoku,seriesFN:D09.Studies.displayIchimoku,inputs:{"Conversion Line Period":9,"Base Line Period":26,"Leading Span B Period":52,"Lagging Span Period":26},outputs:{"Conversion Line":"#0000FF","Base Line":"#FF0000","Leading Span A":"#00FF00","Leading Span B":"#FF0000","Lagging Span":"#808000"}}});}};E1r=x39=>{var J39,T5g;i3ss.Z9O();J39=typeof _CIQ !== "undefined"?_CIQ:x39.CIQ;if(!J39.Studies){console.error("intradayMomentum feature requires first activating studies feature.");}else {T5g="a";T5g+="u";T5g+="t";T5g+="o";J39.Studies.calculateIntradayMomentum=function(d39,k39){var I7O=i3ss;var w39,U39,W39,r39,Q5g,v39,O39;w39=k39.chart.scrubbed;U39=k39.days;if(w39.length < U39 + 1){k39.error=! !{};return;}I7O.V05(51);W39=I7O.N05("0",0);r39=0;if(k39.startFrom > 1){I7O.j05(147);var b51=I7O.c05(17,33,20,3);W39=w39[k39.startFrom - b51]["_totUp " + k39.name];I7O.V05(65);var G51=I7O.c05(2,0,7,4,3);r39=w39[k39.startFrom - G51]["_totDn " + k39.name];}for(var i39=k39.startFrom;i39 < w39.length;i39++){Q5g="_";Q5g+="tot";Q5g+="Up ";v39=w39[i39].Close - w39[i39].Open;if(v39 > 0){W39+=v39;}else {r39-=v39;}if(i39 >= U39){O39=w39[i39 - U39].Close - w39[i39 - U39].Open;if(O39 > 0){W39-=O39;}else {r39+=O39;}}I7O.V05(148);w39[i39]["Result " + k39.name]=I7O.c05(100,W39,W39,r39);w39[i39][Q5g + k39.name]=W39;w39[i39]["_totDn " + k39.name]=r39;}};J39.Studies.studyLibrary=J39.extend(J39.Studies.studyLibrary,{"Intraday Mtm":{name:"Intraday Momentum Index",calculateFN:J39.Studies.calculateIntradayMomentum,inputs:{Period:20},parameters:{init:{studyOverZonesEnabled:! ![],studyOverBoughtValue:70,studyOverBoughtColor:T5g,studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};C1r=z39=>{var B5g,K39,z5g;B5g="undefine";B5g+="d";K39=typeof _CIQ !== B5g?_CIQ:z39.CIQ;if(!K39.Studies){console.error("keltner feature requires first activating studies feature.");}else {z5g="a";z5g+="uto";K39.Studies.calculateKeltner=function(y39,N39){K39.Studies.MA(N39.inputs["Moving Average Type"],N39.days,"Close",0,"MA",y39,N39);K39.Studies.calculateStudyATR(y39,N39);K39.Studies.calculateGenericEnvelope(y39,N39,N39.inputs.Shift,"MA " + N39.name,"ATR " + N39.name);};K39.Studies.studyLibrary=K39.extend(K39.Studies.studyLibrary,{Keltner:{name:"Keltner Channel",overlay:! !"1",seriesFN:K39.Studies.displayChannel,calculateFN:K39.Studies.calculateKeltner,inputs:{Period:50,Shift:5,"Moving Average Type":"ema","Channel Fill":! !{}},outputs:{"Keltner Top":z5g,"Keltner Median":"auto","Keltner Bottom":"auto"},attributes:{Shift:{min:0.1,step:+"0.1"}}}});}};P1r=p39=>{var e39,K5g,a5g;i3ss.Z9O();e39=typeof _CIQ !== "undefined"?_CIQ:p39.CIQ;if(!e39.Studies){console.error("klinger feature requires first activating studies feature.");}else {K5g="au";K5g+="to";a5g="Klinger ";a5g+="Vol";a5g+="ume Os";a5g+="cillator";e39.Studies.calculateKlinger=function(D39,l39){var d5g,U5g,S39,a39,h39,o39,Z39,Q39,m39,T39,Y39,u39,M39;d5g="ex";d5g+="ponen";d5g+="t";d5g+="ial";U5g="KlingerSi";U5g+="g";U5g+="nal ";S39=l39.chart.scrubbed;a39=Number(l39.inputs["Short Cycle"]);h39=Number(l39.inputs["Long Cycle"]);if(S39.length < Math.max(a39,h39) + 1){l39.error=! ![];return;}o39=l39.name + "_hist";Z39="Klinger " + l39.name;Q39=U5g + l39.name;m39="_SV " + l39.name;T39="_EMA-S " + l39.name;Y39="_EMA-L " + l39.name;for(u39=Math.max(1,l39.startFrom);u39 < S39.length;u39++){M39=S39[u39].Volume;if(S39[u39]["hlc/3"] < S39[u39 - +"1"]["hlc/3"]){M39*=-1;}if(M39){S39[u39][m39]=M39;}}i3ss.j05(22);e39.Studies.MA(d5g,a39,m39,i3ss.N05("0",1),"_EMA-S",D39,l39);e39.Studies.MA("exponential",h39,m39,0,"_EMA-L",D39,l39);for(u39=Math.max(h39,l39.startFrom);u39 < S39.length;u39++){if(S39[u39].futureTick || S39[u39][T39] === null || S39[u39][Y39] === null)break;S39[u39][Z39]=S39[u39][T39] - S39[u39][Y39];}e39.Studies.MA("exponential",Number(l39.inputs["Signal Periods"]),Z39,0,"KlingerSignal",D39,l39);for(u39=l39.startFrom;u39 < S39.length;u39++){S39[u39][o39]=S39[u39][Z39] - S39[u39][Q39];}l39.outputMap[o39]="";};e39.Studies.studyLibrary=e39.extend(e39.Studies.studyLibrary,{Klinger:{name:a5g,seriesFN:e39.Studies.displayHistogramWithSeries,calculateFN:e39.Studies.calculateKlinger,inputs:{"Signal Periods":13,"Short Cycle":34,"Long Cycle":55},outputs:{Klinger:K5g,KlingerSignal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}}});}};X1r=C39=>{var E39,S5g,e5g,E5g,G5g,b5g,o5g,n5g;E39=typeof _CIQ !== "undefined"?_CIQ:C39.CIQ;if(!E39.Studies){console.error("linearRegression feature requires first activating studies feature.");}else {S5g="f";S5g+="ield";e5g="Time Series Forec";e5g+="ast";E5g="Linea";E5g+="r Re";E5g+="g In";E5g+="tercept";G5g="tim";G5g+="e ";G5g+="seri";G5g+="es";b5g="Time Ser";b5g+="i";b5g+="e";b5g+="s";o5g="ti";o5g+="me se";o5g+="ries";n5g="ts";n5g+="m";n5g+="a";E39.Studies.prettify["time series"]=n5g;E39.Studies.movingAverage.conversions.tsma="time series";E39.Studies.movingAverage.translations[o5g]=b5g;E39.Studies.movingAverage.typeMap.tsma="TimeSeries";E39.Studies.movingAverage.typeMap[G5g]="TimeSeries";E39.Studies.calculateMovingAverageTimeSeries=function(b39,P39){var c7O=i3ss;var q39,F39,c39,B39,A39,G39,j39,L39;P39.ma=new E39.Studies.StudyDescriptor(P39.name,"ma",P39.panel);P39.ma.chart=P39.chart;P39.ma.days=P39.days;P39.ma.startFrom=P39.startFrom;P39.ma.inputs=P39.inputs;E39.Studies.calculateLinearRegressionIndicator(b39,P39.ma);q39=P39.name;c7O.Z9O();for(var t39 in P39.outputs){c7O.V05(28);q39=c7O.c05(" ",t39,q39);}F39=parseInt(P39.inputs.Offset,10);if(isNaN(F39)){F39=0;}c39=P39.chart.scrubbed;B39=F39;for(var X39=P39.startFrom - 1;X39 >= 0;X39--){A39=c39[X39][q39];if(!A39 && A39 !== 0)continue;if(B39 > 0){B39--;continue;}break;}G39=[];for(X39++;X39 < c39.length;X39++){j39=c39[X39];if(X39 + F39 >= 0){if(X39 + F39 < c39.length){c7O.V05(2);c39[c7O.N05(F39,X39)][q39]=j39["Forecast " + P39.name];}else {L39={};L39[q39]=j39["Forecast " + P39.name];G39.push(L39);}}}P39.appendFutureTicks(b39,G39);};E39.Studies.calculateLinearRegressionIndicator=function(v99,g39){var U7O=i3ss;var D5g,I39,V39,x99,i99,W99,H39,k99,R39,w99,x5g,i5g,u5g,n39,f39,J99,r99,U99;D5g="C";D5g+="lo";D5g+="s";D5g+="e";I39=g39.chart.scrubbed;if(I39.length < g39.days + 1){g39.error=!0;return;}V39=g39.inputs.Field;if(!V39 || V39 == "field"){V39=D5g;}U7O.j05(15);var D51=U7O.N05(5,9,16,3);U7O.j05(4);var u51=U7O.N05(8,6);x99=g39.days * (g39.days + D51) / u51;i99=Math.pow(x99,2);U7O.V05(4);var i51=U7O.c05(4,2);U7O.j05(149);var x51=U7O.N05(14,2,0,14,1);W99=x99 * (i51 * g39.days + ("1" & 2147483647)) / x51;H39=0;k99=+"0";R39=0;if(g39.startFrom){U7O.j05(150);var E51=U7O.c05(0,15,38,19,5);w99=I39[g39.startFrom - E51]["_sums " + g39.name];if(w99){k99=w99[0];H39=w99[1];R39=w99[2];}}for(var s39=g39.startFrom;s39 < I39.length;s39++){x5g="_s";x5g+="u";x5g+="ms";x5g+=" ";i5g="Inte";i5g+="rcept ";u5g="obje";u5g+="ct";n39=I39[s39][V39];if(n39 && typeof n39 == u5g){n39=n39[g39.subField];}if(!n39 && n39 !== 0)continue;k99+=g39.days * n39 - H39;H39+=n39;R39+=Math.pow(n39,2);if(s39 < g39.days - 1)continue;else if(s39 > g39.days - 1){f39=I39[s39 - g39.days][V39];if(f39 && typeof f39 == "object"){f39=f39[g39.subField];}if(!f39 && f39 !== 0)continue;H39-=f39;R39-=Math.pow(f39,2);}J99=(g39.days * k99 - x99 * H39) / (g39.days * W99 - i99);I39[s39]["Slope " + g39.name]=J99;r99=(H39 - J99 * x99) / g39.days;I39[s39][i5g + g39.name]=r99;I39[s39]["Forecast " + g39.name]=r99 + J99 * g39.days;U7O.j05(2);var e51=U7O.N05(2,0);U99=(g39.days * W99 - i99) / (g39.days * R39 - Math.pow(H39,e51));U7O.V05(151);I39[s39]["RSquared " + g39.name]=U7O.c05(J99,J99,U99);I39[s39][x5g + g39.name]=[k99,H39,R39];}};E39.Studies.studyLibrary=E39.extend(E39.Studies.studyLibrary,{"Lin Fcst":{name:"Linear Reg Forecast",overlay:! !{},calculateFN:E39.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Forecast:"auto"}},"Lin Incpt":{name:E5g,overlay:! ![],calculateFN:E39.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:"field"},outputs:{Intercept:"auto"}},"Lin R2":{name:"Linear Reg R2",calculateFN:E39.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{RSquared:"auto"}},"LR Slope":{name:"Linear Reg Slope",calculateFN:E39.Studies.calculateLinearRegressionIndicator,inputs:{Period:+"14",Field:"field"},outputs:{Slope:"auto"}},"Time Fcst":{name:e5g,overlay:! !{},calculateFN:E39.Studies.calculateLinearRegressionIndicator,inputs:{Period:14,Field:S5g},outputs:{Forecast:"auto"}}});}};F1r=d99=>{var O99,t5g;i3ss.H9O();O99=typeof _CIQ !== "undefined"?_CIQ:d99.CIQ;if(!O99.Studies){console.error("macd feature requires first activating studies feature.");}else {t5g="#FF0";t5g+="00";t5g+="0";O99.Studies.calculateMACD=function(h99,K99){var i7O=i3ss;var r5g,p5g,W5g,e99,p99,z99,u99,l99,y99,N99,Z99,F5g,L5g,S99,m99,y5g,M99;r5g="MA";r5g+="C";r5g+="D ";p5g="_MAC";p5g+="D1";W5g="expone";W5g+="ntial";e99=K99.chart.scrubbed;p99=K99.inputs;z99=K99.name;if(!K99.macd1Days){K99.macd1Days=parseFloat(p99["Fast MA Period"]);}if(!K99.macd2Days){K99.macd2Days=parseFloat(p99["Slow MA Period"]);}if(!K99.signalDays){K99.signalDays=parseFloat(p99["Signal Period"]);}if(!K99.days){K99.days=Math.max(K99.macd1Days,K99.macd2Days,K99.signalDays);}if(e99.length < K99.days + 1){K99.error=! ![];return;}u99=K99.inputs.Field;if(!u99 || u99 == "field"){u99="Close";}l99=p99["Moving Average Type"];if(!l99){l99=W5g;}O99.Studies.MA(l99,K99.macd1Days,u99,0,p5g,h99,K99);O99.Studies.MA(l99,K99.macd2Days,u99,0,"_MACD2",h99,K99);Z99=Math.max(K99.startFrom,K99.days - 1);for(y99=Z99;y99 < e99.length;y99++){F5g="MA";F5g+="C";F5g+="D ";L5g="_M";L5g+="ACD";L5g+="1";L5g+=" ";N99=e99[y99];if((N99[L5g + z99] || N99["_MACD1 " + z99] === ("0" ^ 0)) && (N99["_MACD2 " + z99] || N99["_MACD2 " + z99] === +"0")){i7O.j05(2);N99[i7O.N05(z99,F5g)]=N99["_MACD1 " + z99] - N99["_MACD2 " + z99];}}S99=p99["Signal MA Type"];if(!S99){S99="exponential";}O99.Studies.MA(S99,K99.signalDays,r5g + z99,0,"Signal",h99,K99);i7O.V05(2);m99=i7O.N05("_hist",z99);for(y99=Z99;y99 < e99.length;y99++){y5g="M";y5g+="A";y5g+="CD";y5g+=" ";N99=e99[y99];i7O.V05(2);M99=N99[i7O.N05(z99,"Signal ")];if(!M99 && M99 !== 0)continue;N99[m99]=N99[y5g + z99] - N99["Signal " + z99];}K99.outputMap[m99]="";};O99.Studies.studyLibrary=O99.extend(O99.Studies.studyLibrary,{macd:{name:"MACD",calculateFN:O99.Studies.calculateMACD,seriesFN:O99.Studies.displayHistogramWithSeries,inputs:{"Fast MA Period":12,"Slow MA Period":"26" - 0,"Signal Period":"9" | 9},outputs:{MACD:"auto",Signal:"#FF0000","Increasing Bar":"#00DD00","Decreasing Bar":t5g}}});}};q1r=a99=>{var D99,H5g;D99=typeof _CIQ !== "undefined"?_CIQ:a99.CIQ;if(!D99.Studies){console.error("massIndex feature requires first activating studies feature.");}else {H5g="Mass Ind";H5g+="ex";D99.Studies.calculateMassIndex=function(C99,o99){var v7O=i3ss;var h5g,w5g,k5g,M5g,g5g,j5g,T99,E99,Z5g,q5g;h5g="_to";h5g+="tal ";w5g="_";w5g+="EMA2";k5g="_E";k5g+="MA";k5g+=" ";M5g="e";M5g+="xp";M5g+="on";M5g+="ential";g5g="_";g5g+="Hig";g5g+="h-Low ";j5g="e";j5g+="xponenti";j5g+="al";T99=o99.chart.scrubbed;if(T99.length < Math.max(9,o99.days + 1)){o99.error=!0;return;}for(var Q99=o99.startFrom;Q99 < T99.length;Q99++){T99[Q99]["_High-Low " + o99.name]=T99[Q99].High - T99[Q99].Low;}D99.Studies.MA(j5g,9,g5g + o99.name,0,"_EMA",C99,o99);D99.Studies.MA(M5g,+"9",k5g + o99.name,0,w5g,C99,o99);E99=0;if(T99[o99.startFrom - 1] && T99[o99.startFrom - 1][h5g + o99.name]){v7O.V05(152);var S51=v7O.c05(4,9,3,10,23);E99=T99[o99.startFrom - S51]["_total " + o99.name];}for(var Y99=Math.max("17" ^ 0,o99.startFrom);Y99 < T99.length;Y99++){E99+=T99[Y99]["_EMA " + o99.name] / T99[Y99]["_EMA2 " + o99.name];if(Y99 >= 17 + o99.days - 1){Z5g="_E";Z5g+="MA2 ";q5g="R";q5g+="e";q5g+="su";q5g+="lt ";T99[Y99][q5g + o99.name]=E99;v7O.V05(2);var W51=v7O.c05(1,0);v7O.j05(60);var p51=v7O.N05(9,21,12,15,10);E99-=T99[Y99 - o99.days + W51]["_EMA " + o99.name] / T99[Y99 - o99.days + p51][Z5g + o99.name];}T99[Y99]["_total " + o99.name]=E99;}};D99.Studies.displayMassIndex=function(X99,P99,A99){var f5g,F99,G99,q99,c99,B99;f5g="Bul";f5g+="ge";f5g+=" Thre";f5g+="shold";D99.Studies.displaySeriesAsLine(X99,P99,A99);F99=P99.inputs[f5g];G99=X99.panels[P99.panel];q99=P99.getYAxis(X99);c99=D99.Studies.determineColor(P99.outputs.Result);B99={skipTransform:X99.panels[P99.panel].name != P99.chart.name,panelName:P99.panel,band:"Result " + P99.name,threshold:F99,direction:"1" >> 482911488,color:c99,yAxis:q99,opacity:0.3};if(!P99.highlight && X99.highlightedDraggable){B99.opacity*=+"0.3";}D99.preparePeakValleyFill(X99,B99);D99.Studies.drawHorizontal(X99,P99,null,F99,q99,c99);};D99.Studies.studyLibrary=D99.extend(D99.Studies.studyLibrary,{"Mass Idx":{name:H5g,seriesFN:D99.Studies.displayMassIndex,calculateFN:D99.Studies.calculateMassIndex,inputs:{Period:25,"Bulge Threshold":27},attributes:{"Bulge Threshold":{min:20,max:35,step:0.1}}}});}};c1r=L99=>{var j99,A9g;i3ss.H9O();j99=typeof _CIQ !== "undefined"?_CIQ:L99.CIQ;if(!j99.Studies){console.error("moneyFlow feature requires first activating studies feature.");}else {A9g="0 to ";A9g+="1";A9g+="0";A9g+="0";j99.Studies.calculateMoneyFlowIndex=function(w69,g99){var D7O=i3ss;var v5g,t99,I99,s99,H99,J69,f99,x69,c5g,V99,P9g,k69,n99,R99;v5g="_ra";v5g+="w";v5g+="M";v5g+="F ";t99=g99.chart.scrubbed;if(t99.length < g99.days + 1){g99.error=! !"1";return;}I99=0;s99=0;D7O.j05(64);var L51=D7O.N05(16,91,9,4,18);H99=t99[g99.startFrom - L51];J69=v5g + g99.name;f99="_cumMF " + g99.name;x69="Result " + g99.name;if(H99 && H99[f99]){I99=H99[f99][0];s99=H99[f99][1];}for(var b99=g99.startFrom;b99 < t99.length;b99++){c5g="hlc";c5g+="/3";V99=t99[b99][c5g];if(b99 > 0 && !t99[b99].futureTick){P9g="hl";P9g+="c";P9g+="/3";D7O.V05(4);k69=t99[D7O.c05(b99,1)][P9g];n99=V99 * t99[b99].Volume;if(V99 > k69){I99+=n99;}else if(V99 < k69){n99*=-1;s99-=n99;}else {n99=0;}if(b99 > g99.days){R99=t99[b99 - g99.days][J69];if(R99 > ("0" | 0)){I99-=R99;}else {s99+=R99;}if(s99 === 0){t99[b99][x69]=100;}else if(t99[b99].Volume){D7O.j05(153);t99[b99][x69]=D7O.c05(s99,I99,100,100,1);}}t99[b99][J69]=n99;t99[b99][f99]=[I99,s99];}}};j99.Studies.studyLibrary=j99.extend(j99.Studies.studyLibrary,{"M Flow":{name:"Money Flow Index",range:A9g,calculateFN:j99.Studies.calculateMoneyFlowIndex,inputs:{Period:14},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:"20" & 2147483647,studyOverSoldColor:"auto"}}}});}};B1r=W69=>{var i69,D9g,G9g,b9g,o9g,n9g,K9g,X9g,s9g,V9g,C9g;i69=typeof _CIQ !== "undefined"?_CIQ:W69.CIQ;if(!i69.Studies){console.error("movingAverages feature requires first activating studies feature.");}else {D9g="a";D9g+="uto";G9g="Hi";G9g+="gh Low Ban";G9g+="ds";b9g="Po";b9g+="ints";o9g="m";o9g+="a";n9g="m";n9g+="a";K9g="pe";K9g+="rcent";X9g="TripleE";X9g+="xponential";s9g="Hu";s9g+="l";s9g+="l";V9g="2-exponent";V9g+="ial";C9g="h";C9g+="u";C9g+="l";C9g+="l";i69.Studies.prettify=i69.extend({"2-exponential":"dema","3-exponential":"tema",hull:"hma"},i69.Studies.prettify);i69.extend(i69.Studies.movingAverage,{conversions:{hma:C9g,dema:V9g,tema:"3-exponential"},translations:{hull:"Hull","2-exponential":"Double Exponential","3-exponential":"Triple Exponential"},typeMap:{hma:s9g,hull:"Hull",dema:"DoubleExponential","2-exponential":"DoubleExponential",tema:X9g,"3-exponential":"TripleExponential"}});i69.Studies.calculateMovingAverageHull=function(y69,r69){var v69,O69,U69,d69,m9g,K69,z69,e69,N69;v69=r69.chart.scrubbed;O69=r69.inputs.Field;if(!O69 || O69 == "field"){O69="Close";}i69.Studies.MA("wma",r69.days,O69,0,"_WMA1",y69,r69);i69.Studies.MA("wma",Math.ceil(r69.days / 2),O69,"0" | 0,"_WMA2",y69,r69);for(U69=r69.startFrom - +"1";U69 >= +"0";U69--){d69=v69[U69][O69];if(d69 && typeof d69 == "object"){d69=d69[r69.subField];}if(d69 || d69 === 0)break;}i3ss.H9O();for(U69++;U69 < v69.length;U69++){m9g="_W";m9g+="M";m9g+="A1 ";K69=v69[U69];K69["_MMA " + r69.name]=+"2" * K69["_WMA2 " + r69.name] - K69[m9g + r69.name];}z69=parseInt(r69.inputs.Offset,10);if(isNaN(z69)){z69=0;}e69=Math.floor(Math.sqrt(r69.days));i69.Studies.MA("wma",e69,"_MMA " + r69.name,z69,"_HMA",y69,r69);N69=r69.name;for(var p69 in r69.outputs){i3ss.V05(28);N69=i3ss.N05(152 !== ("7580" | 2192)?" ":276.35,p69,N69);}for(U69=Math.max(r69.days + e69 - 1,r69.startFrom);U69 < v69.length;U69++){v69[U69][N69]=v69[U69]["_HMA " + r69.name];}};i69.Studies.calculateMovingAverageDoubleExponential=function(D69,u69){var J7O=i3ss;var O9g,l9g,J9g,Z69,m69,S69,l69,h69,a69,M69,o69,T69,Y69,Q69;O9g="e";O9g+="m";O9g+="a";l9g="_";l9g+="EMA1";J9g="e";J9g+="m";J9g+="a";Z69=u69.chart.scrubbed;m69=u69.inputs.Field;if(!m69 || m69 == "field"){m69="Close";}i69.Studies.MA(J9g,u69.days,m69,0,l9g,D69,u69);i69.Studies.MA(O9g,u69.days,"_EMA1 " + u69.name,0,"_EMA2",D69,u69);S69=parseInt(u69.inputs.Offset,10);if(isNaN(S69)){J7O.V05(22);S69=J7O.c05("0",1);}a69=S69;for(l69=u69.startFrom - 1;l69 >= 0;l69--){h69=Z69[l69][m69];if(h69 && typeof h69 == "object"){h69=h69[u69.subField];}if(!h69 && h69 !== 0)continue;if(a69 > 0){a69--;continue;}break;}M69=u69.name;for(var E69 in u69.outputs){J7O.j05(28);M69=J7O.c05(722.59 >= ("2560" | 512,6699)?!"":(1292,"9900" - 0) > 6360?" ":("U","O"),E69,M69);}o69=[];for(l69++;l69 < Z69.length;l69++){if(l69 < 2 * (u69.days - +"1"))continue;T69=Z69[l69];J7O.V05(3);var F51=J7O.N05(12,10,0);Y69=F51 * T69["_EMA1 " + u69.name] - T69["_EMA2 " + u69.name];if(l69 + S69 >= 0){if(l69 + S69 < Z69.length){J7O.V05(2);Z69[J7O.c05(S69,l69)][M69]=Y69;}else {Q69={};Q69[M69]=Y69;o69.push(Q69);}}}u69.appendFutureTicks(D69,o69);};i69.Studies.calculateMovingAverageTripleExponential=function(A69,C69){var k7O=i3ss;var Q9g,R9g,N9g,I9g,Y9g,q69,c69,X69,P69,F69,j69,B69,L69,T9g,G69,b69,t69;Q9g="_";Q9g+="EMA3";R9g="e";R9g+="m";R9g+="a";N9g="e";N9g+="m";N9g+="a";I9g="_";I9g+="EMA";I9g+="1";Y9g="e";Y9g+="m";Y9g+="a";q69=C69.chart.scrubbed;c69=C69.inputs.Field;if(!c69 || c69 == "field"){c69="Close";}i69.Studies.MA(Y9g,C69.days,c69,0,I9g,A69,C69);i69.Studies.MA(N9g,C69.days,"_EMA1 " + C69.name,0,"_EMA2",A69,C69);i69.Studies.MA(R9g,C69.days,"_EMA2 " + C69.name,0,Q9g,A69,C69);k7O.H9O();X69=parseInt(C69.inputs.Offset,10);if(isNaN(X69)){X69=0;}j69=X69;for(P69=C69.startFrom - 1;P69 >= 0;P69--){F69=q69[P69][c69];if(F69 && typeof F69 == "object"){F69=F69[C69.subField];}if(!F69 && F69 !== +"0")continue;if(j69 > 0){j69--;continue;}break;}B69=C69.name;for(var g69 in C69.outputs){k7O.V05(28);B69=k7O.N05(8660 === 4120?9701 <= 8013?(6.66e+3,716):0x5df:" ",g69,B69);}L69=[];for(P69++;P69 < q69.length;P69++){T9g="_";T9g+="EMA";T9g+="3 ";if(P69 < 3 * (C69.days - 1))continue;G69=q69[P69];k7O.j05(138);var r51=k7O.c05(15,36,6,5,19);k7O.j05(2);var y51=k7O.N05(2,1);b69=r51 * G69["_EMA1 " + C69.name] - y51 * G69["_EMA2 " + C69.name] + G69[T9g + C69.name];if(P69 + X69 >= 0){if(P69 + X69 < q69.length){k7O.j05(2);q69[k7O.N05(X69,P69)][B69]=b69;}else {t69={};t69[B69]=b69;L69.push(t69);}}}C69.appendFutureTicks(A69,L69);};i69.Studies.calculateMAEnvelope=function(f69,s69){var z9g,B9g,I69,n69,H69,U9g;z9g="Shi";z9g+="ft Type";B9g="C";B9g+="lose";I69=s69.inputs.Field;if(!I69 || I69 == "field"){I69=B9g;}i69.Studies.MA(s69.inputs["Moving Average Type"],s69.days,I69,0,"MA",f69,s69);n69=s69.inputs[z9g];H69=s69.inputs.Shift;if(!n69){U9g="Sh";U9g+="ift";U9g+=" ";U9g+="Percentage";n69="percent";H69=s69.inputs[U9g];}if(n69 == "percent"){i3ss.V05(20);i69.Studies.calculateGenericEnvelope(f69,s69,i3ss.c05(100,H69),"MA " + s69.name);}else if(n69 == "points"){i69.Studies.calculateGenericEnvelope(f69,s69,null,"MA " + s69.name,null,Number(H69));}};i69.Studies.calculateMADev=function(v29,V69){var j7O=i3ss;var d9g,w29,J29,i29,W29,U29,x29,R69,k29,a9g;d9g="Points ";d9g+="Or Percent";w29=V69.chart.scrubbed;if(w29.length < V69.days + "1" * 1){V69.error=! !{};return;}J29=V69.inputs.Field;if(!J29 || J29 == "field"){J29="Close";}i29=V69.inputs[d9g];if(!i29){i29="Points";}W29=V69.inputs["Moving Average Type"];if(!W29){W29="exponential";}i69.Studies.MA(W29,V69.days,J29,0,"_MA",v29,V69);U29=V69.name + "_hist";for(var r29=Math.max(V69.startFrom,V69.days - 1);r29 < w29.length;r29++){x29=w29[r29];R69=x29[J29];if(R69 && typeof R69 == "object"){R69=R69[V69.subField];}k29=x29["_MA " + V69.name];if(k29 || k29 === 0){a9g="P";a9g+="oin";a9g+="ts";if(i29 == a9g){j7O.V05(4);x29[U29]=j7O.N05(R69,k29);}else {j7O.V05(154);x29[U29]=j7O.c05(1,100,k29,R69);}}}V69.outputMap={};V69.outputMap[V69.name + "_hist"]="";};i69.Studies.studyLibrary=i69.extend(i69.Studies.studyLibrary,{"MA Env":{name:"Moving Average Envelope",overlay:! ![],seriesFN:i69.Studies.displayChannel,calculateFN:i69.Studies.calculateMAEnvelope,inputs:{Period:+"50",Field:"field","Shift Type":[K9g,"points"],Shift:5,"Moving Average Type":n9g,"Channel Fill":!""},outputs:{"MA Env Top":"auto","MA Env Median":"auto","MA Env Bottom":"auto"},attributes:{Shift:{min:0.1,step:"0.1" - 0}}},"MA Dev":{name:"Moving Average Deviation",calculateFN:i69.Studies.calculateMADev,seriesFN:i69.Studies.displayHistogramWithSeries,inputs:{Period:12,Field:"field","Moving Average Type":o9g,"Points Or Percent":[b9g,"Percent"]},outputs:{"Increasing Bar":"#00DD00","Decreasing Bar":"#FF0000"}},"High Low":{name:G9g,overlay:!"",seriesFN:i69.Studies.displayChannel,calculateFN:function(d29,O29){O29.inputs["Moving Average Type"]="triangular";i69.Studies.calculateMAEnvelope(d29,O29);},inputs:{Period:+"10",Field:"field","Shift Percentage":5,"Channel Fill":!""},outputs:{"High Low Top":D9g,"High Low Median":"auto","High Low Bottom":"auto"},attributes:{"Shift Percentage":{min:0.1,step:0.1}}}});}};A1r=z29=>{var A9O=i3ss;var Z0J,f0J,H0J,K29,L5J,F5J,r5J,u9g,e9g;Z0J=457348478;f0J=2086226023;H0J=2;for(var c0J=+"1";A9O.T0J(c0J.toString(),c0J.toString().length,"39798" * 1) !== Z0J;c0J++){K29=+_CIQ != ""?_CIQ:z29.CIQ;H0J+=+"2";}if(A9O.T0J(H0J.toString(),H0J.toString().length,17998) !== f0J){K29=typeof _CIQ !== "undefined"?_CIQ:z29.CIQ;}if(!K29.Studies){L5J=-1028795098;F5J=- +"1645318560";r5J=2;for(var t5J=1;A9O.B0J(t5J.toString(),t5J.toString().length,67079) !== L5J;t5J++){u9g="parabolicSAR feature requires first activa";u9g+="t";u9g+="ing studies feature.";console.error(u9g);r5J+=+"2";}if(A9O.T0J(r5J.toString(),r5J.toString().length,26220) !== F5J){console.error("");}}else {e9g="P";e9g+="ara";e9g+="bolic SA";e9g+="R";K29.Studies.calculatePSAR=function(T29,u29){var x9g,i9g,N29,l29,e29,S29,p29,m29,M29,E9g,h29,Z29,D29,a29;x9g="Max";x9g+="imum ";x9g+="AF";i9g="Mi";function o29(){A9O.V05(88);A9O.Z9O();l29=A9O.N05(2147483647,"0");e29=null;S29=!S29;}i9g+="nimum";i9g+=" AF";N29=u29.chart.scrubbed;l29=0;e29=null;S29=! !"";p29=0;m29=parseFloat(u29.inputs[i9g]);M29=parseFloat(u29.inputs[x9g]);if(u29.startFrom > +"0"){E9g="_s";E9g+="t";E9g+="at";E9g+="e ";A9O.j05(34);var t51=A9O.c05(7,14,7,14);p29=N29[u29.startFrom - t51]["Result " + u29.name];A9O.j05(155);var j51=A9O.N05(11,16,6,2,1);h29=N29[u29.startFrom - j51][E9g + u29.name];if(h29 && h29.length == 3){A9O.V05(4);l29=h29[A9O.c05("0",0)];e29=h29[1];S29=h29[2];}}for(var y29=u29.startFrom - +"1";y29 < N29.length - 1;y29++){if(y29 < +"0")continue;if(N29[y29].futureTick)break;Z29=p29;if(S29){if(!e29 || e29 < N29[y29].High){e29=N29[y29].High;A9O.j05(2);l29=Math.min(A9O.c05(m29,l29),M29);}A9O.j05(156);p29=A9O.N05(Z29,e29,l29,Z29);D29=Math.min(N29[Math.max(1,y29) - 1].Low,N29[y29].Low);if(p29 > N29[y29 + 1].Low){p29=e29;o29();}else if(p29 > D29){p29=D29;}}else {if(!e29 || e29 > N29[y29].Low){e29=N29[y29].Low;A9O.V05(2);l29=Math.min(A9O.N05(m29,l29),M29);}A9O.j05(156);p29=A9O.c05(Z29,e29,l29,Z29);a29=Math.max(N29[Math.max(1,y29) - 1].High,N29[y29].High);if(p29 < N29[y29 + 1].High){p29=e29;o29();}else if(p29 < a29){p29=a29;}}A9O.j05(2);N29[A9O.N05(1,y29)]["_state " + u29.name]=[l29,e29,S29];if(!isNaN(N29[y29].High) || !isNaN(N29[y29].Low)){A9O.j05(2);N29[A9O.N05(1,y29)]["Result " + u29.name]=p29;}}};K29.Studies.studyLibrary=K29.extend(K29.Studies.studyLibrary,{PSAR:{name:e9g,overlay:! ![],calculateFN:K29.Studies.calculatePSAR,seriesFN:K29.Studies.displayPSAR2,inputs:{"Minimum AF":0.02,"Maximum AF":"0.2" * 1}}});}};G1r=Q29=>{var Y29,h9g,w9g,k9g;Y29=typeof _CIQ !== "undefined"?_CIQ:Q29.CIQ;if(!Y29.Studies){console.error("pivotPoints feature requires first activating studies feature.");}else {h9g="#";h9g+="d3";h9g+="e8ae";w9g="#699";w9g+="158";k9g="f";k9g+="i";k9g+="bo";k9g+="nacci";Y29.Studies.calculatePivotPoints=function(c29,X29){var R7O=i3ss;var L9g,p9g,W9g,S9g,C29,F29,q29,G29,F9g,j29,B29,L29,E29,b29,t29,r9g,t9g,y9g;L9g="1";L9g+="5mi";L9g+="n";p9g="seco";p9g+="nd";W9g="y";W9g+="e";W9g+="ar";S9g="da";S9g+="y";C29=X29.chart.scrubbed;F29=S9g;q29=c29.layout.interval;G29=c29.layout.timeUnit;if(q29 == "day"){F29="month";}else if(Y29.ChartEngine.isDailyInterval(q29)){F29=W9g;}else if(q29 == "second" || q29 == "millisecond" || G29 == p9g || G29 == "millisecond"){F29=L9g;}else {F9g="m";F9g+="i";F9g+="nute";j29=c29.layout.periodicity;if(q29 != F9g){j29*=q29;}if(j29 >= 30){F29="week";}}B29=null;R7O.V05(157);var g51=R7O.c05(7,15,63,7,49);L29=g51 - Y29.getFromNS(c29.chart,"market.beginningDayOfWeek",0);function A29(){R7O.V05(158);var M51=R7O.N05(17,1473,19,9,11);E29.pivotPoint=(E29.high + E29.low + C29[P29 - M51].Close) / ("3" - 0);E29.prevHigh=E29.high;E29.prevLow=E29.low;E29.hlSpread=E29.high - E29.low;E29.high=E29.low=0;}E29={pivotPoint:NaN,high:0,low:+"0",prevHigh:0,prevLow:0,hlSpread:0};if(X29.startFrom > +"1" && C29[X29.startFrom - 1]["_pointers " + X29.name]){E29=Y29.clone(C29[X29.startFrom - +"1"]["_pointers " + X29.name]);}for(var P29=Math.max(+"1",X29.startFrom);P29 < C29.length;P29++){if(!C29[P29 - +"1"])continue;E29.high=Math.max(E29.high,C29[P29 - 1].High);E29.low=Math.min(E29.low > +"0"?E29.low:C29[P29 - 1].Low,C29[P29 - 1].Low);if(X29.inputs.Continuous){A29();}else if(F29 == "year" && C29[P29].DT.getYear() != C29[P29 - 1].DT.getYear()){A29();}else if(F29 == "month" && C29[P29].DT.getMonth() != C29[P29 - +"1"].DT.getMonth()){A29();}else if(F29 == "week" && (C29[P29].DT.getDay() + L29) % 7 < (C29[P29 - +"1"].DT.getDay() + L29) % ("7" >> 20341920)){A29();}else if(F29 == "day"){if(B29 === null){B29=Y29.Studies.getMarketOffset({stx:c29,localQuoteDate:C29[P29].DT,shiftToDateBoundary:!""});}b29=new Date(new Date(+C29[P29].DT).setMilliseconds(C29[P29].DT.getMilliseconds() + B29));t29=new Date(new Date(+C29[P29 - ("1" | 1)].DT).setMilliseconds(C29[P29 - +"1"].DT.getMilliseconds() + B29));if(t29.getDate() !== b29.getDate() && t29.getDay() !== 0 && c29.chart.market.isMarketDate(b29)){B29=null;A29();}}else if(F29 == "15min" && (C29[P29].DT.getHours() != C29[P29 - 1].DT.getHours() || Math.floor(C29[P29].DT.getMinutes() / 15) != Math.floor(C29[P29 - 1].DT.getMinutes() / 15))){A29();}C29[P29]["Pivot " + X29.name]=E29.pivotPoint;if(X29.inputs.Type.toLowerCase() == "fibonacci"){r9g="R";r9g+="esis";r9g+="tance 1";r9g+=" ";C29[P29][r9g + X29.name]=E29.pivotPoint + 0.382 * E29.hlSpread;R7O.V05(159);var k51=R7O.c05(6,8,15);C29[P29]["Resistance 2 " + X29.name]=E29.pivotPoint + "0.618" * k51 * E29.hlSpread;C29[P29]["Resistance 3 " + X29.name]=E29.pivotPoint + E29.hlSpread;C29[P29]["Support 1 " + X29.name]=E29.pivotPoint - 0.382 * E29.hlSpread;C29[P29]["Support 2 " + X29.name]=E29.pivotPoint - 0.618 * E29.hlSpread;C29[P29]["Support 3 " + X29.name]=E29.pivotPoint - E29.hlSpread;}else {t9g="Res";t9g+="i";t9g+="stance 2";t9g+=" ";y9g="Re";y9g+="sista";y9g+="nce ";y9g+="1 ";R7O.V05(1);var w51=R7O.N05(5,7);C29[P29][y9g + X29.name]=w51 * E29.pivotPoint - E29.prevLow;C29[P29][t9g + X29.name]=E29.pivotPoint + E29.hlSpread;R7O.j05(4);var h51=R7O.N05(8,6);C29[P29]["Resistance 3 " + X29.name]=E29.prevHigh + h51 * (E29.pivotPoint - E29.prevLow);R7O.V05(1);var q51=R7O.N05(11,13);C29[P29]["Support 1 " + X29.name]=q51 * E29.pivotPoint - E29.prevHigh;C29[P29]["Support 2 " + X29.name]=E29.pivotPoint - E29.hlSpread;R7O.V05(3);var Z51=R7O.c05(7,5,0);C29[P29]["Support 3 " + X29.name]=E29.prevLow - Z51 * (E29.prevHigh - E29.pivotPoint);}C29[P29]["_pointers " + X29.name]=Y29.clone(E29);}};Y29.Studies.displayPivotPoints=function(s29,g29,H29){var M9g,g9g,j9g,n29,I29;g29.noSlopes=!g29.inputs.Continuous;Y29.Studies.displaySeriesAsLine(s29,g29,H29);if(g29.inputs.Shading){M9g="S";M9g+="uppor";M9g+="t";M9g+=" 2";g9g="Su";g9g+="pport";g9g+=" 2 ";j9g="Resista";j9g+="nc";j9g+="e 1";n29=s29.panels[g29.panel];I29={noSlopes:g29.noSlopes,opacity:g29.parameters.opacity?g29.parameters.opacity:+"0.2",skipTransform:n29.name != g29.chart.name,yAxis:g29.getYAxis(s29)};if(!g29.highlight && s29.highlightedDraggable){I29.opacity*=0.3;}Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:"Resistance 3 " + g29.name,bottomBand:"Resistance 2 " + g29.name,color:Y29.Studies.determineColor(g29.outputs["Resistance 3"])},I29));Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:"Resistance 2 " + g29.name,bottomBand:"Resistance 1 " + g29.name,color:Y29.Studies.determineColor(g29.outputs["Resistance 2"])},I29));Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:"Resistance 1 " + g29.name,bottomBand:"Pivot " + g29.name,color:Y29.Studies.determineColor(g29.outputs[j9g])},I29));Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:"Support 1 " + g29.name,bottomBand:"Pivot " + g29.name,color:Y29.Studies.determineColor(g29.outputs["Support 1"])},I29));Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:g9g + g29.name,bottomBand:"Support 1 " + g29.name,color:Y29.Studies.determineColor(g29.outputs[M9g])},I29));Y29.prepareChannelFill(s29,Y29.extend({panelName:g29.panel,topBand:"Support 3 " + g29.name,bottomBand:"Support 2 " + g29.name,color:Y29.Studies.determineColor(g29.outputs["Support 3"])},I29));}};Y29.Studies.studyLibrary=Y29.extend(Y29.Studies.studyLibrary,{"Pivot Points":{name:"Pivot Points",overlay:! !{},seriesFN:Y29.Studies.displayPivotPoints,calculateFN:Y29.Studies.calculatePivotPoints,inputs:{Type:["standard",k9g],Continuous:!{},Shading:!{}},outputs:{Pivot:"auto","Resistance 1":"#b82c0b","Support 1":w9g,"Resistance 2":"#e36460","Support 2":"#b3d987","Resistance 3":"#ffd0cf","Support 3":h9g},parameters:{init:{opacity:+"0.2"}}}});}};j1r=V29=>{var f29,v9g,H9g,f9g;f29=typeof _CIQ !== "undefined"?_CIQ:V29.CIQ;if(!f29.Studies){console.error("prettyGoodOscillator feature requires first activating studies feature.");}else {v9g="a";v9g+="u";v9g+="t";v9g+="o";H9g="a";H9g+="u";H9g+="to";f9g="Pret";f9g+="ty Good Oscillat";f9g+="or";f29.Studies.calculatePrettyGoodOscillator=function(k79,R29){var q9g,J79,Z9g;q9g="s";q9g+="imple";J79=R29.chart.scrubbed;if(J79.length < R29.days + 1){R29.error=! !{};return;}f29.Studies.MA("exponential",R29.days,"trueRange",0,"_EMA",k79,R29);f29.Studies.MA(q9g,R29.days,"Close",0,"_SMA",k79,R29);i3ss.H9O();for(var x79=Math.max(1,R29.startFrom);x79 < J79.length;x79++){Z9g="_S";Z9g+="MA";Z9g+=" ";if(!J79[x79][Z9g + R29.name] || !J79[x79]["_EMA " + R29.name])continue;J79[x79]["Result " + R29.name]=(J79[x79].Close - J79[x79]["_SMA " + R29.name]) / J79[x79]["_EMA " + R29.name];}};f29.Studies.studyLibrary=f29.extend(f29.Studies.studyLibrary,{"Pretty Good":{name:f9g,calculateFN:f29.Studies.calculatePrettyGoodOscillator,parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:3,studyOverBoughtColor:H9g,studyOverSoldValue:-3,studyOverSoldColor:v9g}}}});}};L1r=i79=>{var c9g,w79,l2g,J2g,m2g,X2g,s2g;c9g="u";c9g+="ndefined";w79=typeof _CIQ !== c9g?_CIQ:i79.CIQ;i3ss.Z9O();if(!w79.Studies){console.error("priceMomentumOscillator feature requires first activating studies feature.");}else {l2g="au";l2g+="t";l2g+="o";J2g="#";J2g+="FF0000";m2g="au";m2g+="t";m2g+="o";X2g="fie";X2g+="ld";s2g="Price Mo";s2g+="m";s2g+="entum Oscillator";w79.Studies.calculatePMO=function(d79,W79){var h7O=i3ss;var V2g,C2g,A2g,P2g,v79,r79,O79,U79,K79;V2g="P";V2g+="M";V2g+="O";V2g+=" ";C2g="exponen";C2g+="ti";C2g+="al";A2g="PM";A2g+="O";P2g="Smoothing Per";P2g+="io";P2g+="d";v79={Smooth:Number(W79.inputs[P2g]) - +"1",Double:Number(W79.inputs["Double Smoothing Period"]) - 1,Signal:Number(W79.inputs["Signal Period"])};r79=W79.chart.scrubbed;if(r79.length < v79.Smooth + v79.Double){W79.error=!0;return;}O79=W79.inputs.Field;if(!O79 || O79 == "field"){O79="Close";}for(U79=W79.startFrom;U79 < r79.length;U79++){if(!r79[U79])continue;if(!r79[U79 - 1])continue;h7O.j05(4);K79=r79[h7O.c05(U79,1)][O79];if(K79){h7O.V05(107);var f51=h7O.c05(112,991,1008);h7O.V05(40);var H51=h7O.N05(97,16,6);r79[U79]["_ROCx10 " + W79.name]=f51 * (r79[U79][O79] / K79 - H51);}}h7O.H9O();w79.Studies.MA("exponential",v79.Smooth,"_ROCx10 " + W79.name,0,"_EMAx10",d79,W79);w79.Studies.MA("exponential",v79.Double,"_EMAx10 " + W79.name,0,A2g,d79,W79);w79.Studies.MA(C2g,v79.Signal,V2g + W79.name,"0" | 0,"PMOSignal",d79,W79);W79.zoneOutput="PMO";};w79.Studies.studyLibrary=w79.extend(w79.Studies.studyLibrary,{PMO:{name:s2g,calculateFN:w79.Studies.calculatePMO,inputs:{Field:X2g,"Smoothing Period":"35" ^ 0,"Double Smoothing Period":20,"Signal Period":10},outputs:{PMO:m2g,PMOSignal:J2g},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:2.5,studyOverBoughtColor:"auto",studyOverSoldValue:- +"2.5",studyOverSoldColor:l2g}},attributes:{studyOverBoughtValue:{min:"0" - 0,step:"0.05"},studyOverSoldValue:{max:0,step:"0.05"}}}});}};b1r=N79=>{var O2g,z79,Y2g,u2g,D2g,G2g,b2g,o2g;O2g="u";O2g+="ndefin";O2g+="ed";z79=typeof _CIQ !== O2g?_CIQ:N79.CIQ;if(!z79.Studies){Y2g="priceVolumeOscillator featur";Y2g+="e requir";Y2g+="es fir";Y2g+="st activating studies feature.";console.error(Y2g);}else {u2g="0";u2g+=".";u2g+="1";D2g="#FF";D2g+="0";D2g+="000";G2g="#00";G2g+="D";G2g+="D0";G2g+="0";b2g="fi";b2g+="e";b2g+="ld";o2g="e";o2g+="m";o2g+="a";z79.Studies.calculatePriceOscillator=function(a79,y79){var H7O=i3ss;var N2g,I2g,h79,D79,Z79,a5J,K5J,n5J,p79,u79,Q2g,R2g,m79,e79,l79,S79,B2g,T2g,z2g;N2g="Long ";N2g+="C";N2g+="ycl";N2g+="e";I2g="Short";I2g+=" Cy";I2g+="cle";h79=y79.chart.scrubbed;D79=Number(y79.inputs[I2g]);Z79=Number(y79.inputs[N2g]);if(h79.length < Math.max(D79,Z79) + 1){a5J=21403471;H7O.j05(25);K5J=-H7O.c05(820272224,"577631726");n5J=2;for(var b5J=+"1";H7O.B0J(b5J.toString(),b5J.toString().length,58968) !== a5J;b5J++){y79.error=!0;return;}if(H7O.B0J(n5J.toString(),n5J.toString().length,68945) !== K5J){y79.error=![];return;}}p79=y79.inputs.Field;u79=y79.inputs["Moving Average Type"];if(!u79){u79="simple";}if(!p79 || p79 == "field"){p79="Close";}if(y79.parameters.isVolume){Q2g="expo";Q2g+="ne";Q2g+="ntial";R2g="V";R2g+="ol";R2g+="u";R2g+="me";p79=R2g;u79=Q2g;}m79=y79.inputs["Points Or Percent"];if(!m79){m79="Percent";}z79.Studies.MA(u79,D79,p79,0,"_Short MA",a79,y79);z79.Studies.MA(u79,Z79,p79,0,"_Long MA",a79,y79);for(var M79=Math.max(Z79,y79.startFrom);M79 < h79.length;M79++){e79=h79[M79];if(!e79)continue;l79=e79["_Short MA " + y79.name];S79=e79["_Long MA " + y79.name];if((l79 || l79 === 0) && (S79 || S79 === +"0")){B2g="Increasin";B2g+="g Ba";B2g+="r";T2g="Re";T2g+="sult";T2g+=" ";if(m79 == "Points"){H7O.V05(4);e79["Result " + y79.name]=H7O.N05(l79,S79);}else {H7O.V05(154);e79[T2g + y79.name]=H7O.c05(1,100,S79,l79);}if(y79.outputs[B2g]){z2g="_";z2g+="hist";e79[y79.name + "_hist"]=e79["Result " + y79.name];y79.outputMap={};y79.outputMap[y79.name + z2g]="";}}}};z79.Studies.displayRAVI=function(T79,o79,F79){var Z7O=i3ss;var U2g,X79,Q79,q79,c79,C79,G79,j79,n2g,K2g,a2g,d2g,Y79,P79,B79,A79;U2g="Decreasi";U2g+="n";U2g+="g ";U2g+="Bar";X79=T79.panels[o79.panel];Q79=o79.getContext(T79);q79=o79.getYAxis(T79);c79=T79.pixelFromPrice(0,X79,q79);C79=T79.layout.candleWidth - +"2";if(C79 < 2){C79=1;}G79=z79.Studies.determineColor(o79.outputs["Increasing Bar"]);j79=z79.Studies.determineColor(o79.outputs[U2g]);T79.startClip(o79.panel);T79.canvasColor("stx_histogram");if(!o79.underlay){Q79.globalAlpha=+"1";}if(!o79.highlight && T79.highlightedDraggable){Q79.globalAlpha*=+"0.3";}for(var E79=0;E79 < F79.length;E79++){n2g="_h";n2g+="ist";K2g="_";K2g+="hist";a2g="_h";a2g+="is";a2g+="t";d2g="#CC";d2g+="CCCC";Y79=F79[E79];Z7O.j05(160);P79=F79[Z7O.N05(E79,"1")];if(!P79){P79=T79.getPreviousBar(T79.chart,o79.name + "_hist",E79);}if(!Y79)continue;Z7O.V05(88);B79=Z7O.c05(2147483647,"0");A79=0;if(o79.parameters && o79.parameters.studyOverZonesEnabled){B79=parseFloat(o79.parameters.studyOverBoughtValue);A79=parseFloat(o79.parameters.studyOverSoldValue);}if(!P79){Q79.fillStyle=d2g;}else if(Y79[o79.name + a2g] > B79 && P79[o79.name + K2g] < Y79[o79.name + "_hist"]){Q79.fillStyle=G79;}else if(Y79[o79.name + "_hist"] < A79 && P79[o79.name + "_hist"] > Y79[o79.name + "_hist"]){Q79.fillStyle=j79;}else {Q79.fillStyle="#CCCCCC";}if(Y79.candleWidth){C79=Math.floor(Math.max(+"1",Y79.candleWidth - +"2"));}Q79.fillRect(Math.floor(T79.pixelFromBar(E79,X79.chart) - C79 / ("2" >> 1520250752)),Math.floor(c79),Math.floor(C79),Math.floor(T79.pixelFromPrice(Y79[o79.name + n2g],X79,q79) - c79));}T79.endClip();};z79.Studies.studyLibrary=z79.extend(z79.Studies.studyLibrary,{"Price Osc":{name:"Price Oscillator",calculateFN:z79.Studies.calculatePriceOscillator,inputs:{Field:"field","Short Cycle":12,"Long Cycle":26,"Moving Average Type":o2g,"Points Or Percent":["Points","Percent"]}},"Vol Osc":{name:"Volume Oscillator",calculateFN:z79.Studies.calculatePriceOscillator,inputs:{"Short Cycle":12,"Long Cycle":26,"Points Or Percent":["Points","Percent"]},parameters:{init:{isVolume:! !{}}}},RAVI:{name:"RAVI",seriesFN:z79.Studies.displayRAVI,calculateFN:z79.Studies.calculatePriceOscillator,inputs:{Field:b2g,"Moving Average Type":"vdma","Short Cycle":7,"Long Cycle":65},outputs:{"Increasing Bar":G2g,"Decreasing Bar":D2g},centerline:"0" >> 566326176,parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:3,studyOverBoughtColor:"auto",studyOverSoldValue:-("3" & 2147483647),studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:0,step:"0.1"},studyOverSoldValue:{max:+"0",step:u2g}}}});}};t1r=b79=>{var L79;L79=typeof _CIQ !== "undefined"?_CIQ:b79.CIQ;if(!L79.Studies){console.error("primeNumber feature requires first activating studies feature.");}else {L79.Studies.calculatePrimeNumber=function(i59,I79){var z7O=i3ss;var n79,R79,s79,g79,t79,x2g,i2g,E2g,H79,k59,w59;n79=[];R79=I79.chart.scrubbed;function f79(W59){var U59;if(W59 <= +"0"){return !1;}else if(W59 != Math.floor(W59)){return !"1";}else if(n79[W59] === ! ![] || n79[W59] === ! !0){return n79[W59];}U59=parseInt(Math.sqrt(W59),10);for(var r59=2;r59 <= U59;r59++){if(W59 % r59 === 0){n79[W59]=!1;return !"1";}}n79[W59]=!"";return ! !"1";}for(var V79=I79.startFrom;V79 < R79.length;V79++){s79=R79[V79];if(!s79)continue;g79=s79.High;if(!isNaN(g79)){for(var J59=0;g79 > 0 && g79 <= 10;J59++){z7O.V05(51);g79*=z7O.c05("10",0);}if(f79(g79)){z7O.V05(87);g79+=z7O.N05(1149812544,"2");}g79=Math.ceil(g79);if(g79 % 2 === 0){g79++;}while(!f79(g79)){g79+=2;}g79/=Math.pow(10,J59);}t79=s79.Low;if(!isNaN(t79)){for(var x59=+"0";t79 > 0 && t79 <= 10;x59++){t79*=10;}if(f79(t79)){t79-=2;}t79=Math.floor(t79);if(t79 % 2 === 0){t79--;}if(t79 > 0){while(!f79(t79)){t79-=2;}t79/=Math.pow(+"10",x59);}}if(I79.type == "Prime Number Bands"){x2g="Pri";x2g+="me Ba";x2g+="nds Bott";x2g+="om ";i2g="Pri";i2g+="m";i2g+="e Band";i2g+="s Top ";if(!isNaN(g79)){s79[i2g + I79.name]=g79;}if(!isNaN(t79)){s79[x2g + I79.name]=Math.max(0,t79);}}else {E2g="Tolera";E2g+="nce Per";E2g+="cen";E2g+="tage";H79=0;k59=I79.inputs[E2g] * (g79 - t79) / ("100" ^ 0);z7O.j05(35);var v51=z7O.c05(4,4,2);w59=g79 + t79 - v51 * s79.Close;if(w59 < k59){H79=1;}else if(w59 > k59){H79=- +"1";}if(H79){s79["Result " + I79.name]=H79;}}}};L79.Studies.studyLibrary=L79.extend(L79.Studies.studyLibrary,{"Prime Number":{name:"Prime Number Oscillator",range:"-1 to 1",calculateFN:L79.Studies.calculatePrimeNumber,centerline:0,inputs:{"Tolerance Percentage":5},attributes:{"Tolerance Percentage":{min:0.1,step:0.1}}},"Prime Number Bands":{name:"Prime Number Bands",overlay:! !1,calculateFN:L79.Studies.calculatePrimeNumber,seriesFN:L79.Studies.displayChannel,inputs:{"Channel Fill":! ![]},outputs:{"Prime Bands Top":"auto","Prime Bands Bottom":"auto","Prime Bands Channel":"auto"}}});}};g1r=O59=>{var v59,e2g,w2g,k2g;i3ss.H9O();v59=typeof _CIQ !== "undefined"?_CIQ:O59.CIQ;if(!v59.Studies){e2g="pring featur";e2g+="e re";e2g+="quires f";e2g+="irst activating studies feature.";console.error(e2g);}else {w2g="#";w2g+="FF";w2g+="0";w2g+="000";k2g="Pri";k2g+="ng's Know Sure Thing";v59.Studies.calculateKST=function(l59,d59){var w7O=i3ss;var t2g,L2g,p2g,W2g,S2g,N59,e59,y59,p59,S59,z59,K59,F2g,r2g,y2g,u59;t2g="K";t2g+="S";t2g+="T";t2g+=" ";L2g="Heavy ";L2g+="SMA P";L2g+="er";L2g+="iod";p2g="Lightest ";p2g+="SMA Perio";p2g+="d";W2g="Heavy Rate of C";W2g+="hang";W2g+="e Perio";W2g+="d";S2g="f";S2g+="ie";S2g+="l";S2g+="d";N59=d59.chart.scrubbed;e59=d59.inputs.Field;if(!e59 || e59 == S2g){e59="Close";}y59={};p59={};y59[+"1"]=Number(d59.inputs["Lightest Rate of Change Period"]);y59[2]=Number(d59.inputs["Light Rate of Change Period"]);y59[3]=Number(d59.inputs[W2g]);y59[4]=Number(d59.inputs["Heaviest Rate of Change Period"]);p59[1]=Number(d59.inputs[p2g]);w7O.V05(51);p59[w7O.c05("2",0)]=Number(d59.inputs["Light SMA Period"]);w7O.V05(4);p59[w7O.N05("3",0)]=Number(d59.inputs[L2g]);p59[4]=Number(d59.inputs["Heaviest SMA Period"]);S59=Number(d59.inputs["Signal Period"]);for(z59=d59.startFrom;z59 < N59.length;z59++){if(!N59[z59])continue;for(K59=+"1";K59 <= 4;K59++){F2g="_R";F2g+="O";F2g+="C";if(z59 >= y59[K59] && N59[z59 - y59[K59]] && N59[z59 - y59[K59]][e59]){w7O.j05(4);var c51=w7O.N05(1000,900);w7O.V05(11);var P91=w7O.c05(15,20,6);N59[z59][F2g + K59 + " " + d59.name]=c51 * (N59[z59][e59] / N59[z59 - y59[K59]][e59] - P91);}}}for(K59=1;K59 <= 4;K59++){r2g="s";r2g+="im";r2g+="p";r2g+="le";v59.Studies.MA(r2g,p59[K59],"_ROC" + K59 + (7019 != (3870,183)?" ":("S",499.84)) + d59.name,0,"_SMA" + K59,l59,d59);}for(z59=d59.startFrom;z59 < N59.length;z59++){N59[z59]["KST " + d59.name]=null;for(K59="1" ^ 0;K59 <= 4;K59++){y2g="_S";y2g+="MA";w7O.j05(78);var A91=w7O.N05(19,587,15,13,295);w7O.j05(11);var C91=w7O.c05(3511,9,18);u59=N59[z59][y2g + K59 + ((A91,853.31) >= C91?(!{},"8.73e+3" & 2147483647):" ") + d59.name];if(u59 || u59 === 0){w7O.V05(22);N59[z59]["KST " + d59.name]+=w7O.N05(K59,u59);}}}v59.Studies.MA("simple",S59,t2g + d59.name,0,"KSTSignal",l59,d59);};v59.Studies.calculateSpecialK=function(Q59,D59){var M7O=i3ss;var j2g,m59,a59,M59,o59,T59,Z59,h59,g2g,M2g,Y59;j2g="da";M7O.H9O();j2g+="il";j2g+="y";m59=D59.chart.scrubbed;a59=D59.inputs.Field;if(!a59 || a59 == "field"){a59="Close";}M59=D59.inputs.Interval;if(!M59){M59=j2g;}o59={daily:[10,15,20,+"30",50,65,"75" & 2147483647,100,195,265,390,530],weekly:[4,5,6,8,"10" - 0,13,15,20,39,"52" ^ 0,"78" & 2147483647,104]};T59={daily:[+"10",10,10,15,50,"65" ^ 0,75,100,130,130,130,195],weekly:[4,5,6,"8" | 8,10,"13" | 12,"15" - 0,"20" | 20,26,26,26,39]};for(Z59=D59.startFrom;Z59 < m59.length;Z59++){if(!m59[Z59])continue;for(h59="0" >> 99400704;h59 < o59[M59].length;h59++){if(Z59 >= o59[M59][h59] && m59[Z59 - o59[M59][h59]] && m59[Z59 - o59[M59][h59]][a59]){M7O.V05(2);var V91=M7O.c05(563,188);M7O.j05(12);var s91=M7O.c05(20,4,3,2419);M7O.V05(39);var X91=M7O.N05(50200,47683,7);M7O.V05(90);var m91=M7O.c05(2,4254,17016,2123,2);M7O.V05(3);var J91=M7O.N05(9122,3,651);M7O.j05(4);var l91=M7O.c05(6510,7);M7O.j05(11);var O91=M7O.c05(1698,37,19);M7O.V05(4);var Y91=M7O.c05(103,3);M7O.V05(161);var I91=M7O.N05(2653,2,17,13,14);m59[Z59]["_ROC" + h59 + (V91 < (s91,987.74)?" ":X91 != m91?(931.77,143.37) <= (197.83,J91)?!1:(0x1a23,! ![]):(l91,O91)) + D59.name]=Y91 * (m59[Z59][a59] / m59[Z59 - o59[M59][h59]][a59] - I91);}}}for(h59=0;h59 < T59[M59].length;h59++){g2g="_M";g2g+="A";v59.Studies.MA(M59 == "daily"?"simple":"exponential",T59[M59][h59],"_ROC" + h59 + " " + D59.name,0,g2g + h59,Q59,D59);}for(Z59=D59.startFrom;Z59 < m59.length;Z59++){m59[Z59]["Result " + D59.name]=null;for(h59="0" - 0;h59 < T59[M59].length;h59++){M2g="Re";M2g+="s";M2g+="u";M2g+="lt ";M7O.j05(74);var N91=M7O.N05(14,5,1936,23);M7O.V05(4);var R91=M7O.N05(646,15);M7O.j05(54);var Q91=M7O.c05(1358,16,2,1341);M7O.j05(4);var T91=M7O.N05(9577,17);M7O.j05(18);var B91=M7O.N05(14,658102,17,39096);M7O.j05(149);var z91=M7O.N05(9,9479,9496,1,9505);M7O.j05(107);var U91=M7O.c05(1,3603,257);M7O.V05(5);var d91=M7O.N05(18,441,38,8);M7O.j05(38);var a91=M7O.c05(27300,9,238857,2);Y59=m59[Z59]["_MA" + h59 + ((N91,823.19) < (R91,Q91)?180.31 >= (T91,+"3870")?(B91,634.57) > z91?U91:d91:" ":(382.98,a91)) + D59.name];if(Y59 || Y59 === 0){M7O.V05(162);m59[Z59][M2g + D59.name]+=M7O.c05("4",h59,1,Y59);}}}};v59.Studies.studyLibrary=v59.extend(v59.Studies.studyLibrary,{"Pring KST":{name:k2g,calculateFN:v59.Studies.calculateKST,inputs:{Field:"field","Lightest Rate of Change Period":10,"Lightest SMA Period":10,"Light Rate of Change Period":15,"Light SMA Period":10,"Heavy Rate of Change Period":+"20","Heavy SMA Period":10,"Heaviest Rate of Change Period":30,"Heaviest SMA Period":15,"Signal Period":9},outputs:{KST:"#00DD00",KSTSignal:w2g}},"Pring Sp-K":{name:"Pring's Special K",calculateFN:v59.Studies.calculateSpecialK,inputs:{Field:"field",Interval:["daily","weekly"]}}});}};s1r=C59=>{var h2g,E59,P59,N3g,I3g,Y3g,O3g,l3g,J3g,m3g;h2g="undef";h2g+="ined";i3ss.Z9O();E59=typeof _CIQ !== h2g?_CIQ:C59.CIQ;P59=typeof _timezoneJS !== "undefined"?_timezoneJS:C59.timezoneJS;if(!E59.Studies){console.error("projectedVolume feature requires first activating studies feature.");}else if(!E59.Studies.studyLibrary.PVAT){N3g="hh:mm:";N3g+="s";N3g+="s";I3g="#8";I3g+="cc176";Y3g="-75";Y3g+="%";O3g="-";O3g+="25";O3g+="%";l3g="Non";l3g+="e";J3g="0 to m";J3g+="a";J3g+="x";m3g="Projected Volume a";m3g+="t ";m3g+="Time";E59.Studies.initProjectedVolume=function(q59,A59,F59,G59,j59,L59){var q2g,X59,Z2g,B59;q2g=":";q2g+="0";q2g+="0";var {market:c59}=q59.chart;X59="00:";X59+="00";if(c59){X59=c59.getNormalOpen();}if(X59.match(/^[\d]{2}:[\d]{2}$/)){X59+=q2g;}if(!F59["Anchor Time"] || !F59["Anchor Time"].length){Z2g="An";Z2g+="c";Z2g+="hor T";Z2g+="ime";F59[Z2g]=X59;}B59=E59.Studies.initializeFN(q59,A59,F59,G59,j59,L59);if(!q59.currentlyImporting){B59.defaultAnchorTime=X59;}return B59;};E59.Studies.validateProjectedVolumeLookback=function(s59,I59){var {interval:b59, periodicity:t59}=s59.layout;var {"Lookback Days":g59}=I59.inputs;i3ss.j05(163);return i3ss.N05(b59,g59,10,t59);};E59.Studies.calculateProjectedVolume=function(f59,n59){var S8O=i3ss;var V3g,H2g,f2g,G49,W49,r49,L49,b49,a49,o49,V59,T49,K89,R59,Y49,Q49,t49,E49,P3g,U49,C49,z89,i49,N89,p49,J49,h49,k49,K49,s49,I49,n49,H49,X49,F49,M49,p89,f49,v2g,c2g,z49,N49,D49,u89,q49,A3g,x49,V49,R49,c49,J89,u49,C3g;V3g="Av";V3g+="erage Lin";V3g+="e";H2g="Market.Symbology.i";H2g+="sForexSymbol";f2g="mi";f2g+="n";f2g+="u";function y49(D89){S8O.H9O();return {hours:D89.getHours(),minutes:D89.getMinutes()};}f2g+="te";var {interval:W89, timeUnit:B49, aggregationType:A49}=f59.layout;var {symbol:r89, scroll:U89, scrubbed:H59, market:w49}=f59.chart;G49=n59.type === "PAV";W49=n59.study?n59.study.name:n59.type;if(E59.ChartEngine.isDailyInterval(W89)){n59.error=`${W49} is Intraday Only`;}else if(B49 === "tick"){n59.error=`Tick mode not supported for ${W49}`;}else if(B49 !== f2g){n59.error=`Sub-minute periodicities not supported for ${W49}`;}else if(!A49 || !["ohlc","heikinashi"].includes(A49)){n59.error=`Aggregation type not supported for ${W49}`;}else if(!E59.Studies.validateProjectedVolumeLookback(f59,n59)){n59.error=`Selected lookback/periodicity combo not supported for ${W49}`;}if(n59.error){return;}if(n59.inputs["Anchor Selector"]){E59.Studies.initAnchorHandle(f59,n59);}else {E59.Studies.removeAnchorHandle(f59,n59);}r49=w49?w49.getNormalOpen():"00:00";if(r49.match(/^[\d]{2}:[\d]{2}$/)){r49+=":00";}if(!f59.currentlyImporting){if(!n59.defaultAnchorTime){n59.defaultAnchorTime=r49;}else if(r49 !== n59.defaultAnchorTime){n59.defaultAnchorTime=r49;n59.inputs["Anchor Time"]=r49;E59.Studies.repositionAnchor(f59,n59);return;}}var {"Lookback Days":S49, "Anchor Time":v89}=n59.inputs;var [O89,d89,j49 = 0]=v89.split((2180,881.95) === (215,3065)?(9.00e+3,!{}):(920.46,1530) !== ("952.68" - 0,+"4580")?":":(8.11e+3,931.10));L49=E59.getFn(H2g)(r89);b49=n59.getDependents(f59);a49=+"0";o49=[];function k89(a89,o89,T89){while(o89){a89=new Date(new Date(a89).setDate(a89.getDate() + (T89?"1" - 0:- +"1")));if(w49.isMarketDate(a89)){o89--;}}return a89;}b49.forEach(({inputs:S89, outputMap:h89})=>{if(S89.Period){a49=Math.max(parseInt(S89.Period),a49);o49.push(...Object.keys(h89));}});n59.dependentsOutputMap=o49;T49=l49(H59.length - ("1" ^ 0),! ![]);K89=Math.ceil(H59.length - 1 - U89);S8O.V05(4);R59=l49(S8O.c05(K89,a49));if(L49 && H59[R59] && E59.dateToStr(H59[R59].DT,"HH:mm") !== r49){S8O.V05(4);R59=l49(S8O.c05(R59,1));;}if(!L49 && n59.startFrom > R59 && H59[R59] && H59[R59]["V " + n59.name] !== undefined && o49.every(Z89=>{S8O.Z9O();return ![undefined,null].includes(H59[R59][Z89]);}) && T49 !== !{}){V59=T49;;}else {V59=R59;}Y49=k89(i89(R59),S49);Y49.setHours(+"0",+"0",0);function i89(Q89){S8O.H9O();return f59.dateFromTick(Q89,null,!0,"scrubbed");}Q49=l49(0,!"");t49=(Q49 || Q49 === ("0" | 0)) && w89(k89(H59[Q49].DT,S49,! !1));if(H59[0].DT > Y49){if(f59.quoteDriver){f59.quoteDriver.extendHistoricalData({from:Y49});if(t49 > "0" - 0){V59=t49;}else {return;}}else {return n59.error=`Not enough data to calculate ${W49}`;}}if(V59 < 0 || V59 > H59.length - 1){return;}E49=H59.length - n59.startFrom === 1 && n59.cachedFutureTicks && n59.cachedLastProjection && +n59.cachedLastProjection.DT === +H59[H59.length - ("1" & 2147483647)].DT && H59[V59]["PV " + n59.name];if(E49){S8O.V05(128);var K91=S8O.N05(5,6,12);H59[H59.length - K91]["PV " + n59.name]=n59.cachedLastProjection.projectedValue;n59.appendFutureTicks(f59,n59.cachedFutureTicks);V59=n59.startFrom;}else {P3g="P";P3g+="V ";n59.cachedFutureTicks=null;n59.cachedLastProjection=null;U49=[T49];C49=[];for(var g49=0;g49 < S49;g49++){z89=l49(U49[0] - +"1");U49.unshift(z89);;}while(U49[S49] >= V59){i49=U49.pop();if(!H59[i49]){return x89(i49);}N89=y49(H59[i49].DT);var {hours:v49, minutes:e49}=N89;p49=w49.getClose(H59[i49].DT);J49=void 0;if(!p49){J49={hours:+"24",minutes:0};}else {h49=w49.getNextClose(H59[i49].DT);J49=y49(p49);while(!(J49.hours === 0 && J49.minutes === +"0") && p49.getDate() === h49.getDate()){p49=h49;h49=w49.getNextClose(h49);}J49=y49(p49);if(J49.hours === 0){J49.hours=24;}}k49=U49.slice();for(var Z49=0;Z49 < k49.length;Z49++){K49=k49[Z49];if(!H59[K49]){return x89(K49);}var {hours:m49, minutes:P49}=y49(H59[K49].DT);if(m49 < v49 || m49 === v49 && P49 < e49){do {K49++;({hours:m49, minutes:P49}=y49(H59[K49].DT));}while(!(m49 === v49 && P49 === e49));}k49[Z49]=K49;}while(v49 < J49.hours || v49 === J49.hours && e49 < J49.minutes){s49=!1;I49=void 0;n49=void 0;H49=0;X49=0;for(var O49=0;O49 < k49.length;O49++){F49=k49[O49];if(F49 === null)continue;M49=H59[F49];if(!M49){return x89(F49);}var {hours:y89, minutes:e89}=y49(M49.DT);p89=M49.DT.getDate();if(y89 === v49 && e89 === e49){H49+=M49.Volume;X49++;k49[O49]++;if(H59[k49[O49]].DT.getDate() !== p89){k49[O49]=null;}else if(!s49){({hours:I49, minutes:n49}=y49(H59[k49[O49]].DT));s49=! !1;;}}}v49=I49;e49=n49;if(X49 === +"0")break;S8O.V05(20);f49=S8O.N05(X49,H49);if(H59[i49]){v2g="P";v2g+="V";v2g+=" ";H59[i49][v2g + n59.name]=f49;}else {c2g="P";c2g+="V";c2g+=" ";C49.push({[c2g + n59.name]:f49});}i49++;}U49.unshift(l49(U49[0] - 1));;}n59.cachedLastProjection={DT:H59[H59.length - 1].DT,projectedValue:H59[H59.length - 1][P3g + n59.name]};n59.cachedFutureTicks=C49;n59.appendFutureTicks(f59,C49);}function l89(E89){S8O.H9O();var C89;E89.setHours(0);E89.setMinutes(0);C89=E59.Studies.getMarketOffset({stx:f59,localQuoteDate:E89});return new Date(E89.getTime() + C89);}function w89(Y89){S8O.Z9O();return f59.tickFromDate(Y89,null,null,! ![],"scrubbed");}z49=null;N49=0;S8O.V05(51);D49=S8O.N05("0",0);if(E49 && G49){while(V59 > 0){S8O.V05(164);q49=H59[S8O.c05("1",0,V59)]["V " + n59.name];if(q49 || q49 === +"0"){N49=q49;break;}V59--;}}for(var d49=V59;d49 < H59.length;d49++){A3g="P";A3g+="V";A3g+=" ";x49=H59[d49];V49=x49.Volume;R49=x49[A3g + n59.name];if(!x49.futureTick){u89=d49;}if(z49 === null){z49=E59.Studies.getMarketOffset({stx:f59,localQuoteDate:H59[d49].DT,shiftToDateBoundary:! ![]});}c49=new Date(new Date(x49.DT).getTime() + z49);J89=H59[d49 - 1] && new Date(new Date(H59[d49 - 1].DT).getTime() + z49);u49=new P59.Date(x49.DT,w49.market_def.market_tz || "America/New_York");u49.setHours(O89,d89,j49);S8O.V05(2);u49=new Date(S8O.c05(z49,u49));u49.setDate(c49.getDate());if(J89 && c49.getDate() !== J89.getDate()){z49=null;N49=0;D49=0;}if(c49 < u49){C3g="P";C3g+="V";C3g+=" ";x49["V " + n59.name]=0;x49[C3g + n59.name]=0;continue;}if(G49){N49+=V49;D49+=R49;}else {N49=V49;D49=R49;}x49["V " + n59.name]=N49;if(!E49){x49["PV " + n59.name]=D49;}if([NaN,null,undefined].includes(N49) && !x49.futureTick){n59.error=`${W49} requires volume`;return;}}function l49(q89,c89){var X89,F89,P89;X89=i89(q89);F89=w49.getOpen(X89) || l89(X89);P89=w89(F89);if(!c89){return P89;}if(P89 < 0){P89=w89(k89(F89,1,! ![]));}S8O.H9O();if(P89 >= H59.length){return ! !0;}return P89;}n59.cachedLastProjection.projectedValue=H59[u89]["PV " + n59.name];n59.outputMap={};function x89(M89){S8O.H9O();console.error(`Expected data for ${i89(M89).toDateString()} but found none. This may be caused by gaps in your data or an improperly configured market definition.`);}n59.outputMap["V " + n59.name]="";n59.outputMap["PV " + n59.name]=V3g;b49.forEach(m89=>{var j5J,g5J,M5J;m89.startFrom=V59;j5J=2038046720;g5J=422151500;M5J=2;for(var w5J=1;S8O.T0J(w5J.toString(),w5J.toString().length,80140) !== j5J;w5J++){m89.study.calculateFN(f59,m89);M5J+=2;}if(S8O.B0J(M5J.toString(),M5J.toString().length,80215) !== g5J){m89.study.calculateFN(f59,m89);}});};E59.Studies.displayProjectedVolume=function(A89,B89,G89){var N8O=i3ss;var s3g,b89,j89,t89,g89,s89,n89,H89;s3g="ob";s3g+="ject";if(B89.error){return E59.Studies.removeAnchorHandle(A89,B89);}var {"Alert Threshold":L89 = ""}=B89.inputs;N8O.j05(165);var n91=N8O.c05(9,11,15,0,12);N8O.V05(38);var o91=N8O.c05(30,5,45,19);N8O.j05(2);var b91=N8O.N05(9,91);b89=parseInt(L89.slice(0,n91),o91) / b91;j89=B89.outputs["Alert Bar"];if(typeof j89 === s3g){j89=j89.color;}B89.volumeField="V " + B89.name;B89.alignStepToSide=! ![];B89.extendToEndOfLastBar=! ![];B89.lineWidth=2;t89=A89.canvasStyle("stx_volume_underlay_up").opacity;g89=A89.canvasStyle("stx_volume_underlay_down").opacity;B89.colorFunction=function(V89){var X3g,W1D,f89,r1D,R89,J1D,x1D;X3g="P";X3g+="V ";var {Open:k1D, Close:w1D, iqPrevClose:i1D}=V89;W1D=A89.colorByCandleDirection?k1D:i1D;N8O.j05(166);f89=N8O.N05(W1D,w1D);r1D=V89[X3g + B89.name];R89=V89["V " + B89.name];N8O.j05(167);J1D=N8O.c05(b89,2147483647,"1",r1D);x1D=b89 < 0?R89 < J1D:R89 > J1D;return {fill_color:x1D && j89 || (f89?this.fill_color_down:this.fill_color_up),border_color:f89?this.border_color_down:this.border_color_up,opacity:x1D?1:f89?g89:t89,border_opacity:f89?g89:t89};};s89=B89.study?B89.study.name:B89.type;var {loadingMore:I89}=A89.chart;n89=G89.some(U1D=>{return U1D && U1D[B89.volumeField] && U1D["PV " + B89.name];});H89=G89[0] && !G89[0].futureTick && (G89["0" * 1]["PV " + B89.name] === undefined || (B89.dependentsOutputMap || []).some(v1D=>{return [undefined,null].includes(G89[0][v1D]);}));if(!n89 && I89){return B89.error=`Fetching data for ${s89}`;}E59.Studies.createVolumeChart(A89,B89,G89);E59.Studies.displaySeriesAsLine(A89,B89,G89);if(B89.anchorHandle){E59.Studies.displayAnchorHandleAndLine(A89,B89,G89);}if(H89){E59.Studies.calculateProjectedVolume(A89,B89);}};E59.Studies.studyLibrary=E59.extend(E59.Studies.studyLibrary,{PVAT:{name:m3g,range:J3g,yAxis:{ground:!"",initialMarginTop:0,zoom:0},calculateFN:E59.Studies.calculateProjectedVolume,seriesFN:E59.Studies.displayProjectedVolume,initializeFN:E59.Studies.initProjectedVolume,removeFN:E59.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Alert Threshold":["+150%","+125%","+100%","+75%","+50%","+25%",l3g,O3g,"-50%",Y3g,"-100%","-125%","-150%"],"Anchor Selector":!0},outputs:{"Average Line":"#fe641c","Alert Bar":"#cfbd0e","Up Volume":"#8cc176","Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:"hh:mm:ss",step:1},"Alert Threshold":{defaultSelected:"+50%"}}},PAV:{name:"Projected Aggregate Volume",range:"0 to max",yAxis:{ground:! !"1",initialMarginTop:0,zoom:0},calculateFN:E59.Studies.calculateProjectedVolume,seriesFN:E59.Studies.displayProjectedVolume,initializeFN:E59.Studies.initProjectedVolume,removeFN:E59.Studies.removeAnchorHandle,inputs:{"Lookback Days":10,"Anchor Time":"","Anchor Selector":! !{}},outputs:{"Average Line":"#fe641c","Up Volume":I3g,"Down Volume":"#b82c0c"},parameters:{plotType:"step"},attributes:{"Anchor Time":{placeholder:N3g,step:1}}}});}};I1r=d1D=>{var R3g,O1D,Q3g,T3g;R3g="u";R3g+="ndefin";i3ss.Z9O();R3g+="ed";O1D=typeof _CIQ !== R3g?_CIQ:d1D.CIQ;if(!O1D.Studies){Q3g="p";Q3g+="sychologicalLine fea";Q3g+="ture requires first activating studie";Q3g+="s feature.";console.error(Q3g);}else {T3g="0 to ";T3g+="1";T3g+="0";T3g+="0";O1D.Studies.calculatePsychologicalLine=function(l1D,K1D){var N1D,y1D,p1D,e1D,u1D;N1D=K1D.chart.scrubbed;if(N1D.length < K1D.days + 1){K1D.error=! !"1";return;}y1D=[];i3ss.V05(168);i3ss.H9O();var G91=i3ss.c05(23,85,15,18,5);p1D=G91 / K1D.days;e1D=+"0";for(var z1D=Math.max(K1D.startFrom - K1D.days,1);z1D < N1D.length;z1D++){if(N1D[z1D].futureTick)break;u1D=Number(N1D[z1D].Close > N1D[z1D - 1].Close);if(u1D){e1D+=p1D;}y1D.push(u1D);if(y1D.length > K1D.days){e1D-=y1D.shift() * p1D;}if(z1D < K1D.startFrom)continue;if(!isNaN(N1D[z1D].Close)){N1D[z1D]["Result " + K1D.name]=e1D;}}};O1D.Studies.studyLibrary=O1D.extend(O1D.Studies.studyLibrary,{PSY:{name:"Psychological Line",range:T3g,calculateFN:O1D.Studies.calculatePsychologicalLine,inputs:{Period:20}}});}};n1r=h1D=>{var S1D,B3g,z3g;S1D=typeof _CIQ !== "undefined"?_CIQ:h1D.CIQ;if(!S1D.Studies){B3g="qstick fea";B3g+="ture requires first activating studies feature.";console.error(B3g);}else {z3g="m";z3g+="a";S1D.Studies.calculateQStick=function(D1D,Z1D){i3ss.H9O();var m1D;m1D=Z1D.chart.scrubbed;if(m1D.length < Z1D.days + 1){Z1D.error=!"";return;}for(var M1D=Z1D.startFrom;M1D < m1D.length;M1D++){m1D[M1D]["_Close-Open " + Z1D.name]=m1D[M1D].Close - m1D[M1D].Open;}S1D.Studies.MA(Z1D.inputs["Moving Average Type"],Z1D.days,"_Close-Open " + Z1D.name,"0" | 0,"Result",D1D,Z1D);};S1D.Studies.studyLibrary=S1D.extend(S1D.Studies.studyLibrary,{QStick:{name:"QStick",calculateFN:S1D.Studies.calculateQStick,inputs:{Period:+"8","Moving Average Type":z3g}}});}};H1r=o1D=>{var a1D,W3g,S3g,e3g,E3g,x3g;a1D=typeof _CIQ !== "undefined"?_CIQ:o1D.CIQ;i3ss.Z9O();if(!a1D.Studies){console.error("rainbow feature requires first activating studies feature.");}else {W3g="#00";W3g+="DD00";S3g="#007F";S3g+="FF";e3g="#";e3g+="7FF";e3g+="F00";E3g="fiel";E3g+="d";x3g="Rainb";x3g+="ow M";x3g+="oving Average";a1D.Studies.calculateRainbow=function(G1D,T1D){var G8O=i3ss;var U3g,Y1D,D2J,u2J,i2J,C1D,B1D,K3g,a3g,d3g,A1D,F1D,q1D,c1D,P1D,X1D,n3g,G3g,b3g,o3g;U3g="f";U3g+="ield";Y1D=T1D.chart.scrubbed;if(Y1D.length < T1D.days + +"1"){T1D.error=! ![];D2J=-19311441;u2J=1543797042;G8O.V05(22);i2J=G8O.c05("2",1);for(var E2J="1" & 2147483647;G8O.B0J(E2J.toString(),E2J.toString().length,2963) !== D2J;E2J++){return;}if(G8O.B0J(i2J.toString(),i2J.toString().length,70725) !== u2J){return;}}C1D=T1D.inputs.Field;if(!C1D || C1D == U3g){C1D="Close";}B1D=C1D;for(var E1D=1;E1D <= 10;E1D++){K3g="S";K3g+="M";K3g+="A";a3g="S";a3g+="M";a3g+="A";d3g="si";d3g+="m";d3g+="p";d3g+="le";a1D.Studies.MA(d3g,T1D.days,B1D,0,a3g + E1D,G1D,T1D);G8O.V05(126);var D91=G8O.c05(2,10790,1,11687);G8O.j05(139);var u91=G8O.N05(71472,5960,12,5956);G8O.V05(169);var i91=G8O.N05(1854,12,614,2);G8O.V05(3);var x91=G8O.c05(28,9,2701);G8O.V05(5);var E91=G8O.c05(5,18,1873,13);G8O.V05(170);var e91=G8O.N05(4,14,4,7470,497);B1D=K3g + E1D + (D91 < (559.12,u91)?i91 != 302.96?(x91,+"658.56") != E91?" ":(! !"1","L"):! !"":(823.28,e91)) + T1D.name;}for(var Q1D=Math.max(T1D.startFrom,10);Q1D < Y1D.length;Q1D++){if(!Y1D[Q1D])continue;if(Y1D[Q1D].futureTick)break;G8O.j05(29);A1D=G8O.N05(0,"0");G8O.j05(22);F1D=G8O.c05("0",1);q1D=Number.MAX_VALUE * - +"1";c1D=Number.MAX_VALUE;for(E1D=1;E1D <= 10;E1D++){G8O.V05(5);var S91=G8O.c05(3,15,516250736,2);G8O.j05(106);var W91=G8O.c05(3,267668,9,7,91406);G8O.V05(69);var p91=G8O.c05(3,11,654,9,3);G8O.j05(11);var L91=G8O.N05(0,10,11);P1D=Y1D[Q1D]["SMA" + E1D + (178.68 < 231.15?" ":(856.88,33.09) !== ("7700" << S91,W91)?(!"",p91):"16.43" * L91) + T1D.name];if(P1D || P1D === ("0" | 0)){A1D+=P1D;F1D++;q1D=Math.max(q1D,P1D);c1D=Math.min(c1D,P1D);}}if(T1D.name.indexOf("Osc") > -1){X1D=j1D(T1D.inputs["HHV/LLV Lookback"],Q1D);if(F1D){n3g="_hi";n3g+="st";G8O.j05(67);var F91=G8O.N05(1100,99,2,110,5);G8O.j05(4);var r91=G8O.N05(3,2);Y1D[Q1D][T1D.name + n3g]=F91 * (Y1D[Q1D][C1D] - A1D / F1D) / Math.max(0.000001,X1D[r91] - X1D[0]);G8O.j05(171);var y91=G8O.c05(6,6,14,258,19);G8O.V05(11);var t91=G8O.c05(12,16,5);Y1D[Q1D]["Over " + T1D.name]=y91 * (q1D - c1D) / Math.max(0.000001,X1D[t91] - X1D[0]);Y1D[Q1D]["Under " + T1D.name]=-Y1D[Q1D]["Over " + T1D.name];Y1D[Q1D]["Zero " + T1D.name]=0;}}}function j1D(s1D,g1D){var b1D,t1D;G8O.Z9O();G8O.V05(172);var j91=G8O.c05(8,191,12,10,14);b1D=Number.MAX_VALUE * j91;t1D=Number.MAX_VALUE;for(var L1D=g1D - s1D + 1;L1D <= g1D;L1D++){if(L1D < 0)continue;b1D=Math.max(b1D,Y1D[L1D].Close);t1D=Math.min(t1D,Y1D[L1D].Close);}return [t1D,b1D];}if(T1D.name.indexOf("Osc") > -1){G3g="_";G3g+="h";G3g+="i";G3g+="st";b3g="Ze";b3g+="ro ";o3g="Negativ";o3g+="e B";o3g+="a";o3g+="r";T1D.outputMap={};T1D.outputMap["Over " + T1D.name]="Positive Bar";T1D.outputMap["Under " + T1D.name]=o3g;T1D.outputMap[b3g + T1D.name]="";T1D.outputMap[T1D.name + G3g]="";}};a1D.Studies.displayRainbowMA=function(H1D,n1D,V1D){var f1D;f1D=H1D.panels[n1D.panel];for(var I1D=+"10";I1D > 0;I1D--){a1D.Studies.displayIndividualSeriesAsLine(H1D,n1D,f1D,"SMA" + I1D + " " + n1D.name,V1D);}};a1D.Studies.displayRainbowOsc=function(J0D,R1D,N0D){var C8O=i3ss;var i3g,u3g,D3g,w0D,k0D,x0D,r0D,U0D,O0D,d0D,K0D,z0D,W0D,i0D;i3g="s";i3g+="t";i3g+="x_his";i3g+="togram";u3g="Z";u3g+="e";u3g+="ro";u3g+=" ";D3g="O";D3g+="v";D3g+="e";D3g+="r ";a1D.Studies.displaySeriesAsLine(J0D,R1D,N0D);w0D=J0D.panels[R1D.panel];k0D=R1D.getContext(J0D);x0D=R1D.getYAxis(J0D);J0D.startClip(R1D.panel);if(!R1D.highlight && J0D.highlightedDraggable){k0D.globalAlpha*=0.3;}r0D=J0D.pixelFromPrice(+"0",w0D,x0D);U0D=w0D.name != R1D.chart.name;O0D=a1D.Studies.determineColor(R1D.outputs["Positive Bar"]);k0D.strokeStyle=O0D;J0D.plotDataSegmentAsLine(D3g + R1D.name,w0D,{skipTransform:U0D,label:!"1",yAxis:x0D});d0D=k0D.createLinearGradient(+"0",r0D,0,x0D.flipped?x0D.bottom:x0D.top);d0D.addColorStop(0,J0D.containerColor);d0D.addColorStop(1,O0D);a1D.prepareChannelFill(J0D,{skipTransform:U0D,color:d0D,opacity:!R1D.highlight && J0D.highlightedDraggable?0.3:1,panelName:R1D.panel,topBand:"Over " + R1D.name,bottomBand:u3g + R1D.name,yAxis:x0D});K0D=a1D.Studies.determineColor(R1D.outputs["Negative Bar"]);k0D.strokeStyle=K0D;J0D.plotDataSegmentAsLine("Under " + R1D.name,w0D,{skipTransform:U0D,label:![],yAxis:x0D});z0D=k0D.createLinearGradient(0,r0D,0,x0D.flipped?x0D.top:x0D.bottom);C8O.V05(88);z0D.addColorStop(C8O.N05(2147483647,"0"),J0D.containerColor);z0D.addColorStop(1,K0D);a1D.prepareChannelFill(J0D,{skipTransform:U0D,color:z0D,opacity:!R1D.highlight && J0D.highlightedDraggable?0.3:1,panelName:R1D.panel,topBand:"Zero " + R1D.name,bottomBand:"Under " + R1D.name,yAxis:x0D});C8O.V05(64);C8O.H9O();var g91=C8O.N05(16,12,0,6,5);W0D=J0D.layout.candleWidth - g91;if(W0D < 2){W0D=+"1";}J0D.canvasColor(i3g);if(!R1D.underlay){k0D.globalAlpha=1;}if(!R1D.highlight && J0D.highlightedDraggable){k0D.globalAlpha*=+"0.3";}k0D.fillStyle="#CCCCCC";for(var v0D=0;v0D < N0D.length;v0D++){i0D=N0D[v0D];if(!i0D)continue;if(i0D[R1D.name + "_hist"] > 0){k0D.fillStyle=O0D;}else if(i0D[R1D.name + "_hist"] < 0){k0D.fillStyle=K0D;}if(i0D.candleWidth){W0D=Math.floor(Math.max(1,i0D.candleWidth - 2));}k0D.fillRect(Math.floor(J0D.pixelFromBar(v0D,w0D.chart) - W0D / +"2"),Math.floor(r0D),Math.floor(W0D),Math.floor(J0D.pixelFromPrice(i0D[R1D.name + "_hist"],w0D,x0D) - r0D));}J0D.endClip();};a1D.Studies.studyLibrary=a1D.extend(a1D.Studies.studyLibrary,{"Rainbow MA":{name:x3g,overlay:! ![],calculateFN:a1D.Studies.calculateRainbow,seriesFN:a1D.Studies.displayRainbowMA,inputs:{Period:"2" | 0,Field:E3g},outputs:{SMA1:"#FF0000",SMA2:"#FF7F00",SMA3:"#FFFF00",SMA4:e3g,SMA5:"#00FF7F",SMA6:"#00FFFF",SMA7:S3g,SMA8:"#0000FF",SMA9:"#7F00FF",SMA10:"#FF00FF"}},"Rainbow Osc":{name:"Rainbow Oscillator",calculateFN:a1D.Studies.calculateRainbow,seriesFN:a1D.Studies.displayRainbowOsc,centerline:0,inputs:{Period:"2" >> 2009285504,Field:"field","HHV/LLV Lookback":10},outputs:{"Positive Bar":W3g,"Negative Bar":"#FF0000"}}});}};f1r=e0D=>{var y0D,p3g;y0D=typeof _CIQ !== "undefined"?_CIQ:e0D.CIQ;if(!y0D.Studies){console.error("randomWalk feature requires first activating studies feature.");}else {p3g="Rand";p3g+="o";p3g+="m Walk Index";y0D.Studies.calculateRandomWalk=function(Y0D,S0D){i3ss.H9O();var u0D,M0D,D0D,a0D,h0D,Z0D,m0D,o0D,T0D;u0D=S0D.chart.scrubbed;if(u0D.length < S0D.days + 1){S0D.error=! ![];return;}for(var p0D=Math.max(2,S0D.startFrom);p0D < u0D.length;p0D++){M0D=0;D0D=u0D[p0D].High;a0D=u0D[p0D].Low;h0D=0;Z0D=0;for(var l0D=1;l0D <= S0D.days;l0D++){if(u0D[p0D].futureTick)break;if(p0D <= l0D){i3ss.j05(22);h0D=Z0D=i3ss.N05("0",1);break;}M0D+=u0D[p0D - l0D].trueRange;m0D=M0D / l0D * Math.sqrt(l0D);if(m0D){o0D=(D0D - u0D[p0D - l0D].Low) / m0D;T0D=(u0D[p0D - l0D].High - a0D) / m0D;h0D=Math.max(h0D,o0D);Z0D=Math.max(Z0D,T0D);}}if(!u0D[p0D].futureTick && (!isNaN(D0D) || !isNaN(a0D))){u0D[p0D]["Random Walk High " + S0D.name]=h0D;u0D[p0D]["Random Walk Low " + S0D.name]=Z0D;}}};y0D.Studies.studyLibrary=y0D.extend(y0D.Studies.studyLibrary,{"Random Walk":{name:p3g,calculateFN:y0D.Studies.calculateRandomWalk,outputs:{"Random Walk High":"#FF0000","Random Walk Low":"#0000FF"}}});}};V1r=E0D=>{var Q0D,y3g,r3g;Q0D=typeof _CIQ !== "undefined"?_CIQ:E0D.CIQ;i3ss.H9O();if(!Q0D.Studies){console.error("relativeVigor feature requires first activating studies feature.");}else {y3g="#F";y3g+="F00";y3g+="00";r3g="#F";r3g+="F";r3g+="00";r3g+="00";Q0D.Studies.calculateRelativeVigor=function(G0D,C0D){var u8O=i3ss;var F3g,X0D,P0D,L3g,F0D,c0D,B0D,j0D,A0D,q0D;F3g="t";F3g+="riangular";X0D=C0D.chart.scrubbed;if(X0D.length < C0D.days + 1){C0D.error=! !"1";return;}for(P0D=C0D.startFrom;P0D < X0D.length;P0D++){L3g="_";L3g+="Range ";F0D=X0D[P0D];if(!isNaN(F0D.Close) && !isNaN(F0D.Open)){F0D["_Change " + C0D.name]=F0D.Close - F0D.Open;}if(!isNaN(F0D.High) && !isNaN(F0D.Low)){F0D[L3g + C0D.name]=F0D.High - F0D.Low;}}Q0D.Studies.MA("triangular",4,"_Change " + C0D.name,+"0","_Numer",G0D,C0D);Q0D.Studies.MA(F3g,4,"_Range " + C0D.name,0,"_Denom",G0D,C0D);u8O.H9O();c0D=[];B0D=[];for(P0D=Math.max(C0D.startFrom - C0D.days,0);P0D < X0D.length;P0D++){if(X0D[P0D].futureTick)break;if(X0D[P0D]["_Numer " + C0D.name] === null && X0D[P0D]["_Denom " + C0D.name] === null)continue;c0D.push(X0D[P0D]["_Numer " + C0D.name]);B0D.push(X0D[P0D]["_Denom " + C0D.name]);if(c0D.length > C0D.days){c0D.shift();B0D.shift();}j0D=0;u8O.j05(51);A0D=u8O.N05("0",0);for(q0D=0;q0D < c0D.length;q0D++){j0D+=c0D[q0D];}for(q0D=+"0";q0D < B0D.length;q0D++){A0D+=B0D[q0D];}if(A0D === 0){A0D=0.00000001;}if(P0D < C0D.startFrom)continue;u8O.V05(20);X0D[P0D]["Rel Vig " + C0D.name]=u8O.N05(A0D,j0D);}Q0D.Studies.MA("triangular",4,"Rel Vig " + C0D.name,0,"RelVigSignal",G0D,C0D);for(P0D=C0D.startFrom;P0D < X0D.length;P0D++){X0D[P0D][C0D.name + "_hist"]=X0D[P0D]["Rel Vig " + C0D.name] - X0D[P0D]["RelVigSignal " + C0D.name];}C0D.outputMap[C0D.name + "_hist"]="";};Q0D.Studies.studyLibrary=Q0D.extend(Q0D.Studies.studyLibrary,{"Rel Vig":{name:"Relative Vigor Index",seriesFN:Q0D.Studies.displayHistogramWithSeries,calculateFN:Q0D.Studies.calculateRelativeVigor,inputs:{Period:10},outputs:{"Rel Vig":"auto",RelVigSignal:r3g,"Increasing Bar":"#00DD00","Decreasing Bar":y3g}}});}};R1r=b0D=>{var t3g,L0D,h3g;t3g="und";t3g+="efi";t3g+="ne";t3g+="d";L0D=typeof _CIQ !== t3g?_CIQ:b0D.CIQ;if(!L0D.Studies){console.error("rsi feature requires first activating studies feature.");}else {h3g="0 ";h3g+="t";h3g+="o 10";h3g+="0";L0D.Studies.calculateRSI=function(k3D,t0D){var g8O=i3ss;var w3g,g3g,j3g,V0D,g0D,k3g,M3g,H0D,f0D,R0D,J3D,s0D,I0D;w3g="RS";w3g+="I";g3g="C";g3g+="lose";j3g="fie";j3g+="ld";V0D=t0D.chart.scrubbed;g0D=t0D.inputs.Field;function x3D(W3D,w3D){var i3D;if(w3D === "0" >> 397129184){return +"100";}g8O.j05(20);i3D=g8O.c05(w3D,W3D);g8O.Z9O();g8O.V05(173);return g8O.c05("100","1",100,i3D,1);}if(!g0D || g0D == j3g){g0D=g3g;}if(V0D.length < t0D.days + 1){t0D.error=! !1;return;}for(var n0D=t0D.startFrom;n0D < V0D.length;n0D++){k3g="_";k3g+="avg";k3g+="L ";M3g="_a";M3g+="vgG";M3g+=" ";if(!n0D)continue;H0D=V0D[n0D];g8O.j05(4);f0D=V0D[g8O.N05(n0D,1)];if(!H0D[g0D] && H0D[g0D] !== 0)continue;if(!f0D[g0D] && f0D[g0D] !== 0)continue;R0D=H0D[g0D] - f0D[g0D];J3D=Math.min(n0D,t0D.days);s0D=f0D["_avgG " + t0D.name];if(!s0D){s0D=0;}g8O.V05(20);s0D-=g8O.c05(J3D,s0D);I0D=f0D["_avgL " + t0D.name];if(!I0D){g8O.j05(87);I0D=g8O.N05(1802250368,"0");}g8O.j05(20);I0D-=g8O.N05(J3D,I0D);if(R0D > 0){g8O.j05(20);s0D+=g8O.N05(J3D,R0D);}else if(R0D <= 0){g8O.V05(20);I0D-=g8O.c05(J3D,R0D);}else continue;if(n0D >= t0D.days){if((s0D || s0D !== 0) && (I0D || I0D !== +"0")){H0D["RSI " + t0D.name]=x3D(s0D,I0D);}}H0D[M3g + t0D.name]=s0D;H0D[k3g + t0D.name]=I0D;}t0D.zoneOutput=w3g;};L0D.Studies.studyLibrary=L0D.extend(L0D.Studies.studyLibrary,{rsi:{name:"RSI",inputs:{Period:14,Field:"field"},calculateFN:L0D.Studies.calculateRSI,range:h3g,outputs:{RSI:"auto"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};J0r=U3D=>{var q3g,r3D,s7g;q3g="und";q3g+="efined";i3ss.H9O();r3D=typeof _CIQ !== q3g?_CIQ:U3D.CIQ;if(!r3D.Studies){console.error("schaffTrendCycle feature requires first activating studies feature.");}else {s7g="a";s7g+="uto";r3D.Studies.calculateSchaff=function(D3D,v3D){var v3g,H3g,f3g,Z3g,K3D,N3D,m3D,y3D,e3D,M3D,p3D,u3D,A7g,c3g,z3D,l3D,S3D,h3D,d3D,P7g,Z3D,V7g,C7g;v3g="M";v3g+="oving Average ";v3g+="Ty";v3g+="pe";H3g="_MA";H3g+="C";H3g+="D1";f3g="C";f3g+="l";f3g+="ose";Z3g="fiel";Z3g+="d";K3D=v3D.chart.scrubbed;N3D=v3D.days;m3D=Number(v3D.inputs["Short Cycle"]);y3D=Number(v3D.inputs["Long Cycle"]);if(K3D.length < Math.max(N3D,m3D,y3D) + 1){v3D.error=! ![];return;}e3D=v3D.inputs.Field;if(!e3D || e3D == Z3g){e3D=f3g;}M3D=0.5;r3D.Studies.MA(v3D.inputs["Moving Average Type"],m3D,e3D,0,H3g,D3D,v3D);r3D.Studies.MA(v3D.inputs[v3g],y3D,e3D,0,"_MACD2",D3D,v3D);p3D=0;u3D=0;function a3D(C3D,E3D,P3D){var T3D,Y3D,o3D;i3ss.H9O();T3D=null;Y3D=null;for(var Q3D=E3D - C3D + 1;Q3D <= E3D;Q3D++){o3D=K3D[Q3D][P3D + " " + v3D.name];if(!o3D)continue;T3D=T3D === null?o3D:Math.min(T3D,o3D);Y3D=Y3D === null?o3D:Math.max(Y3D,o3D);}return [T3D,Y3D];}for(var O3D=v3D.startFrom;O3D < K3D.length;O3D++){A7g="_";A7g+="P";A7g+="F";A7g+=" ";c3g="_";c3g+="MAC";c3g+="D ";z3D=K3D[O3D];if(O3D < y3D - 1)continue;l3D=z3D["_MACD1 " + v3D.name];S3D=z3D["_MACD2 " + v3D.name];if(l3D || l3D === 0 || S3D || S3D === 0){i3ss.j05(4);z3D["_MACD " + v3D.name]=i3ss.N05(l3D,S3D);}h3D=z3D[c3g + v3D.name];if(O3D < y3D + (N3D - 1))continue;d3D=a3D(N3D,O3D,"_MACD");p3D=d3D[1] > d3D[0]?100 * (h3D - d3D[0]) / (d3D[1] - d3D[0]):p3D;if(h3D || h3D === 0){P7g="_";P7g+="P";P7g+="F";P7g+=" ";z3D["_PF " + v3D.name]=K3D[O3D - ("1" - 0)]["_PF " + v3D.name]?K3D[O3D - ("1" >> 999804224)]["_PF " + v3D.name] + M3D * (p3D - K3D[O3D - 1][P7g + v3D.name]):p3D;}Z3D=z3D[A7g + v3D.name];if(O3D < y3D + 2 * (N3D - 1))continue;d3D=a3D(N3D,O3D,"_PF");u3D=d3D[1] > d3D[0]?100 * (Z3D - d3D[0]) / (d3D[1] - d3D[+"0"]):u3D;if(Z3D || Z3D === ("0" ^ 0)){V7g="Resul";V7g+="t";V7g+=" ";C7g="Resu";C7g+="lt ";z3D[C7g + v3D.name]=K3D[O3D - 1]["Result " + v3D.name]?K3D[O3D - 1][V7g + v3D.name] + M3D * (u3D - K3D[O3D - 1]["Result " + v3D.name]):u3D;}}};r3D.Studies.studyLibrary=r3D.extend(r3D.Studies.studyLibrary,{Schaff:{name:"Schaff Trend Cycle",range:"0 to 100",calculateFN:r3D.Studies.calculateSchaff,inputs:{Period:10,Field:"field","Short Cycle":23,"Long Cycle":50,"Moving Average Type":"ema"},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:+"75",studyOverBoughtColor:s7g,studyOverSoldValue:25,studyOverSoldColor:"auto"}}}});}};x0r=F3D=>{var X7g,X3D,m7g,O7g;X7g="unde";X7g+="fined";X3D=typeof _CIQ !== X7g?_CIQ:F3D.CIQ;i3ss.Z9O();if(!X3D.Studies){m7g="shinohara feature requires first ac";m7g+="tivating stu";m7g+="die";m7g+="s feature.";console.error(m7g);}else {O7g="S";O7g+="h";O7g+="inohara Intensity Ratio";X3D.Studies.calculateShinohara=function(G3D,B3D){var T8O=i3ss;var c3D,A3D,J7g,l7g;c3D=B3D.chart.scrubbed;if(c3D.length < B3D.days + 1){B3D.error=! !{};return;}A3D={weakNum:"0" & 2147483647,weakDen:0,strongNum:0,strongDen:0};T8O.H9O();if(B3D.startFrom > 1){J7g="_";J7g+="ac";J7g+="cum";J7g+="s ";A3D=X3D.clone(c3D[B3D.startFrom - 1][J7g + B3D.name]);}for(var q3D=B3D.startFrom;q3D < c3D.length;q3D++){l7g="_ac";l7g+="cums ";A3D.weakNum+=c3D[q3D].High - c3D[q3D].Close;A3D.weakDen+=c3D[q3D].Close - c3D[q3D].Low;if(q3D > 0){T8O.V05(92);var M91=T8O.N05(4,10,3,7,3);A3D.strongNum+=c3D[q3D].High - c3D[q3D - M91].Close;A3D.strongDen+=c3D[q3D - +"1"].Close - c3D[q3D].Low;}if(q3D >= B3D.days){A3D.weakNum-=c3D[q3D - B3D.days].High - c3D[q3D - B3D.days].Close;A3D.weakDen-=c3D[q3D - B3D.days].Close - c3D[q3D - B3D.days].Low;T8O.j05(139);var k91=T8O.N05(16,94,12,8);c3D[q3D]["Weak Ratio " + B3D.name]=k91 * A3D.weakNum / A3D.weakDen;if(q3D > B3D.days){T8O.V05(4);var w91=T8O.c05(5,4);A3D.strongNum-=c3D[q3D - B3D.days].High - c3D[q3D - B3D.days - w91].Close;T8O.V05(174);var h91=T8O.c05(4,14,5,12,14);A3D.strongDen-=c3D[q3D - B3D.days - h91].Close - c3D[q3D - B3D.days].Low;T8O.V05(79);var q91=T8O.N05(2,8,24,19);c3D[q3D]["Strong Ratio " + B3D.name]=q91 * A3D.strongNum / A3D.strongDen;}}c3D[q3D][l7g + B3D.name]=X3D.clone(A3D);}};X3D.Studies.studyLibrary=X3D.extend(X3D.Studies.studyLibrary,{Shinohara:{name:O7g,calculateFN:X3D.Studies.calculateShinohara,inputs:{Period:26},outputs:{"Strong Ratio":"#E99B54","Weak Ratio":"#5F7CB8"}}});}};k0r=L3D=>{var Y7g,j3D,I7g,E7g,x7g,i7g,u7g,D7g,G7g,b7g;Y7g="und";Y7g+="efi";Y7g+="ned";j3D=typeof _CIQ !== Y7g?_CIQ:L3D.CIQ;if(!j3D.Studies){I7g="stochastics feature requires first activating studies f";I7g+="eature.";console.error(I7g);}else {E7g="a";E7g+="u";E7g+="to";x7g="#FF";x7g+="0000";i7g="fie";i7g+="ld";u7g="#F";u7g+="F";u7g+="0";u7g+="000";D7g="a";D7g+="ut";D7g+="o";G7g="a";G7g+="ut";G7g+="o";b7g="Sto";b7g+="chastic Momentum Inde";b7g+="x";j3D.Studies.calculateStochastics=function(f3D,b3D){var z7g,B7g,N7g,s3D,t3D,g3D,n3D,H3D,T7g,Q7g,R3D;z7g="_F";z7g+="as";z7g+="t";z7g+="%K ";B7g="s";B7g+="im";B7g+="ple";N7g="%K Perio";N7g+="d";N7g+="s";if(!b3D.smooth){b3D.smooth=b3D.inputs.Smooth;}s3D=b3D.inputs.Field;if(!s3D || s3D == "field"){s3D="Close";}t3D=b3D.inputs[N7g];if(!t3D){t3D=b3D.days;}g3D=b3D.chart.scrubbed;if(g3D.length < Math.max(t3D,b3D.days) + 1){b3D.error=! ![];return;}n3D=b3D.inputs["%K Smoothing Periods"];i3ss.Z9O();if(n3D && !b3D.inputs.Fast){b3D.smooth=!"";}else if(b3D.smooth){n3D=3;}H3D=b3D.inputs["%D Periods"];if(!H3D){H3D=3;}if(b3D.outputs.Fast){T7g="%";T7g+="D";T7g+=" ";Q7g="F";Q7g+="a";Q7g+="s";Q7g+="t";b3D.outputMap={};b3D.outputMap["%K " + b3D.name]=Q7g;b3D.outputMap[T7g + b3D.name]="Slow";}for(var I3D=Math.max(t3D,b3D.startFrom);I3D < g3D.length;I3D++){R3D=V3D(I3D,s3D,t3D);if(R3D !== null){g3D[I3D]["_Fast%K " + b3D.name]=V3D(I3D,s3D,t3D);}}j3D.Studies.MA(B7g,b3D.smooth?n3D:1,z7g + b3D.name,"0" >> 495854720,"%K",f3D,b3D);function V3D(r9D,k9D,O9D){var z3O=i3ss;var U9D,x9D,J9D,R7g,i9D,W9D,v9D;z3O.V05(3);U9D=z3O.c05(1,O9D,r9D);z3O.j05(1);var Z91=z3O.N05(12,11);x9D=Number.MAX_VALUE * Z91;J9D=Number.MAX_VALUE;for(var w9D=U9D;w9D <= r9D;w9D++){R7g="C";R7g+="los";R7g+="e";i9D=g3D[w9D][k9D == R7g?"Low":k9D];W9D=g3D[w9D][k9D == "Close"?"High":k9D];if(!i9D && i9D !== 0)continue;if(!W9D && W9D !== +"0")continue;J9D=Math.min(J9D,i9D);x9D=Math.max(x9D,W9D);}if(x9D == Number.MAX_VALUE * -1 || J9D == Number.MAX_VALUE){return null;}v9D=x9D == J9D?"0" | 0:(g3D[r9D][k9D] - J9D) / (x9D - J9D) * 100;return v9D;}j3D.Studies.MA("simple",H3D,"%K " + b3D.name,0,"%D",f3D,b3D);};j3D.Studies.calculateStochMomentum=function(N9D,d9D){var L8O=i3ss;var o7g,n7g,K7g,a7g,d7g,y9D,p9D,u9D,S9D,K9D,z9D,U7g,l9D,e9D;o7g="%";o7g+="K";o7g+=" ";n7g="e";n7g+="xponent";n7g+="ial";K7g="expon";L8O.H9O();K7g+="enti";K7g+="al";a7g="exp";a7g+="one";a7g+="nti";a7g+="al";d7g="expone";d7g+="nt";d7g+="ial";y9D=Number(d9D.inputs["%K Periods"]);p9D=Number(d9D.inputs["%K Smoothing Periods"]);function h9D(a9D,D9D){var m9D,M9D;m9D=null;M9D=null;for(var Z9D=D9D - a9D + ("1" ^ 0);Z9D <= D9D;Z9D++){m9D=m9D === null?K9D[Z9D].Low:Math.min(m9D,K9D[Z9D].Low);M9D=M9D === null?K9D[Z9D].High:Math.max(M9D,K9D[Z9D].High);}return [m9D,M9D];}u9D=Number(d9D.inputs["%K Double Smoothing Periods"]);S9D=Number(d9D.inputs["%D Periods"]);K9D=d9D.chart.scrubbed;if(K9D.length < y9D + p9D + u9D - 1 || K9D.length < S9D){d9D.error=!0;return;}for(z9D=Math.max(y9D,d9D.startFrom) - +"1";z9D < K9D.length;z9D++){U7g="_";U7g+="DHL";U7g+=" ";l9D=K9D[z9D];e9D=h9D(y9D,z9D);L8O.V05(175);var f91=L8O.c05(16,1,2,4,20);L8O.V05(61);var H91=L8O.c05(1,3,33,36);l9D["_H " + d9D.name]=l9D.Close - (e9D[0] + e9D[f91]) / H91;L8O.j05(176);var v91=L8O.N05(16,14,9,33,4);l9D[U7g + d9D.name]=e9D[v91] - e9D[0];}j3D.Studies.MA(d7g,p9D,"_H " + d9D.name,0,"_HS1",N9D,d9D);j3D.Studies.MA(a7g,u9D,"_HS1 " + d9D.name,0,"_HS2",N9D,d9D);j3D.Studies.MA(K7g,p9D,"_DHL " + d9D.name,0,"_DHL1",N9D,d9D);j3D.Studies.MA(n7g,u9D,"_DHL1 " + d9D.name,0,"_DHL2",N9D,d9D);for(z9D=y9D - ("1" ^ 0);z9D < K9D.length;z9D++){L8O.V05(18);var c91=L8O.N05(9,577,7,98);K9D[z9D]["%K " + d9D.name]=K9D[z9D]["_HS2 " + d9D.name] / (0.5 * K9D[z9D]["_DHL2 " + d9D.name]) * c91;}j3D.Studies.MA(d9D.inputs["%D Moving Average Type"],S9D,o7g + d9D.name,0,"%D",N9D,d9D);d9D.zoneOutput="%K";};j3D.Studies.studyLibrary=j3D.extend(j3D.Studies.studyLibrary,{"Stch Mtm":{name:b7g,calculateFN:j3D.Studies.calculateStochMomentum,inputs:{"%K Periods":10,"%K Smoothing Periods":3,"%K Double Smoothing Periods":3,"%D Periods":10,"%D Moving Average Type":"ema"},outputs:{"%K":G7g,"%D":"#FF0000"},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:40,studyOverBoughtColor:"auto",studyOverSoldValue:-40,studyOverSoldColor:D7g}}},stochastics:{name:"Stochastics (Simple)",range:"0 to 100",calculateFN:j3D.Studies.calculateStochastics,inputs:{Period:14,Field:"field",Smooth:! !1},outputs:{Fast:"auto",Slow:u7g},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:+"20",studyOverSoldColor:"auto"}}},Stochastics:{name:"Stochastics",range:"0 to 100",calculateFN:j3D.Studies.calculateStochastics,inputs:{Field:i7g,"%K Periods":14,Fast:!1,"%K Smoothing Periods":3,"%D Periods":3},outputs:{"%K":"auto","%D":x7g},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:+"80",studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:E7g}},attributes:{"%K Smoothing Periods":{hidden:function(){i3ss.Z9O();return this.inputs.Fast;}}},centerline:50}});}};w0r=T9D=>{var o9D,e7g,h7g;o9D=typeof _CIQ !== "undefined"?_CIQ:T9D.CIQ;if(!o9D.Studies){e7g="supertrend feature requires firs";e7g+="t activating studies fe";e7g+="ature.";console.error(e7g);}else {h7g="Supert";h7g+="r";h7g+="e";h7g+="nd";o9D.Studies.calculateSupertrend=function(c9D,Y9D){var s8O=i3ss;s8O.H9O();var E9D,y7g,r7g,F7g,C9D,F9D,q9D,P9D,X9D,S7g,L7g,p7g,W7g;E9D=Y9D.chart.scrubbed;if(E9D.length < Y9D.days + 1){Y9D.error=! ![];return;}o9D.Studies.calculateStudyATR(c9D,Y9D);for(var Q9D=Y9D.startFrom;Q9D < E9D.length;Q9D++){y7g="_Direction";y7g+=" ";r7g="T";r7g+="re";r7g+="n";r7g+="d ";F7g="_Down";F7g+="trend";F7g+=" ";C9D=E9D[Q9D];if(!C9D)continue;s8O.j05(176);var P21=s8O.N05(12,3,1,86,4);F9D=(C9D.High + C9D.Low) / P21;q9D=Y9D.inputs.Multiplier * C9D["ATR " + Y9D.name];s8O.j05(4);P9D=s8O.N05(F9D,q9D);s8O.V05(2);X9D=s8O.c05(q9D,F9D);if(Q9D){S7g="_Downtr";S7g+="end ";if(E9D[Q9D - 1] && E9D[Q9D - 1].Close && E9D[Q9D - ("1" ^ 0)].Close > E9D[Q9D - 1]["_Uptrend " + Y9D.name] && E9D[Q9D - 1]["_Uptrend " + Y9D.name] > P9D){s8O.j05(4);P9D=E9D[s8O.c05(Q9D,1)]["_Uptrend " + Y9D.name];}if(E9D[Q9D - 1] && E9D[Q9D - 1].Close && E9D[Q9D - 1].Close < E9D[Q9D - 1]["_Downtrend " + Y9D.name] && E9D[Q9D - 1][S7g + Y9D.name] < X9D){s8O.V05(132);X9D=E9D[s8O.c05(Q9D,688800992,"1")]["_Downtrend " + Y9D.name];}}C9D["_Direction " + Y9D.name]=1;if(Q9D){L7g="_D";L7g+="irection ";p7g="_Direction";p7g+=" ";W7g="_Direct";W7g+="i";W7g+="o";W7g+="n ";s8O.j05(4);C9D[W7g + Y9D.name]=E9D[s8O.N05(Q9D,1)][p7g + Y9D.name];if(C9D.Close > E9D[Q9D - 1]["_Downtrend " + Y9D.name]){C9D[L7g + Y9D.name]=1;}else if(C9D.Close < E9D[Q9D - 1]["_Uptrend " + Y9D.name]){C9D["_Direction " + Y9D.name]=-1;}}C9D["_Uptrend " + Y9D.name]=P9D;C9D[F7g + Y9D.name]=X9D;C9D[r7g + Y9D.name]=C9D[y7g + Y9D.name] > 0?P9D:X9D;if(!Q9D)continue;}Y9D.outputMap={};Y9D.outputMap["Trend " + Y9D.name]="";};o9D.Studies.displaySupertrend=function(A9D,B9D,b9D){var d8O=i3ss;var t9D,G9D,g9D,x6D,f9D,s9D,I9D,j9D,L9D,k7g,M7g,g7g,j7g,R9D,w7g,J6D;t9D=A9D.panels[B9D.panel];G9D=B9D.getContext(A9D);g9D=B9D.getYAxis(A9D);x6D={skipTransform:t9D.name != B9D.chart.name,skipProjections:! !1,label:A9D.preferences.labels,yAxis:g9D,highlight:B9D.highlight};G9D.lineWidth=2;if(B9D.highlight){G9D.lineWidth=1.5;}f9D="Trend " + B9D.name;for(var V9D=0;t9D.chart.transformFunc && g9D != t9D.chart.yAxis && V9D < b9D.length;V9D++){s9D=b9D[V9D];if(s9D && s9D.transform){s9D.transform[f9D]=t9D.chart.transformFunc(A9D,t9D.chart,s9D[f9D]);}}A9D.plotDataSegmentAsLine(f9D,t9D,x6D,k6D);G9D.lineWidth=1;G9D.globalAlpha=1;A9D.startClip(B9D.panel);if(!B9D.highlight && A9D.highlightedDraggable){G9D.globalAlpha*=0.3;}d8O.V05(39);var A21=d8O.N05(7629,13,6);d8O.j05(1);var C21=d8O.c05(9,10);d8O.V05(5);var V21=d8O.c05(4,10,0,13);d8O.j05(2);var s21=d8O.c05(1639,91);d8O.V05(63);var X21=d8O.c05(10,42,4,1);I9D=G9D.measureText(A21 < ("321.78" * C21,"940" * V21)?("1094" & 2147483647,933.02) <= 319?("z",243.97):("k",s21):"\u25B2").width / X21;function k6D(i6D,w6D,W6D){var t7g,r0J,y0J,t0J;t7g="_";t7g+="Direction";t7g+=" ";if(w6D && w6D[t7g + B9D.name] < 0){return B9D.outputs.Downtrend;}d8O.V05(88);r0J=d8O.c05(2147483647,"229362894");d8O.j05(29);y0J=d8O.N05(5997384,"6013803");t0J=2;for(var g0J=1;d8O.B0J(g0J.toString(),g0J.toString().length,99127) !== r0J;g0J++){return B9D.outputs.Uptrend;}if(d8O.T0J(t0J.toString(),t0J.toString().length,36822) !== y0J){return B9D.outputs.Uptrend;}}for(j9D=0;j9D < b9D.length;j9D++){k7g="_";k7g+="D";k7g+="irecti";k7g+="on ";M7g="_Directi";M7g+="on ";g7g="_";g7g+="Di";g7g+="r";g7g+="ection ";j7g="_Di";j7g+="r";j7g+="ection ";if(!b9D[j9D] || !b9D[j9D - 1])continue;if(b9D[j9D - ("1" - 0)][j7g + B9D.name] > b9D[j9D][g7g + B9D.name]){L9D=o9D.Studies.determineColor(B9D.outputs.Downtrend);if(!L9D || L9D == "auto" || o9D.isTransparent(L9D)){L9D=A9D.defaultColor;}G9D.fillStyle=L9D;G9D.textBaseline="bottom";R9D=A9D.pixelFromPrice(b9D[j9D].High,t9D,g9D);for(var n9D=+"5";n9D <= 45;n9D+=10){if(g9D.flipped){G9D.fillText("\u25B2",A9D.pixelFromBar(j9D) - I9D,R9D + n9D);}else {G9D.fillText(291.27 == "4840" << 94394624?3716 < 316.55?("L",2.55e+2):(8153,2550) !== (689.19,"7525" >> 74178432)?"l":!"1":"\u25BC",A9D.pixelFromBar(j9D) - I9D,R9D - n9D);}}}else if(b9D[j9D - ("1" & 2147483647)][M7g + B9D.name] < b9D[j9D][k7g + B9D.name]){w7g="to";w7g+="p";L9D=o9D.Studies.determineColor(B9D.outputs.Uptrend);if(!L9D || L9D == "auto" || o9D.isTransparent(L9D)){L9D=A9D.defaultColor;}G9D.fillStyle=L9D;G9D.textBaseline=w7g;J6D=A9D.pixelFromPrice(b9D[j9D].Low,t9D,g9D);for(var H9D=5;H9D <= 45;H9D+=10){if(g9D.flipped){G9D.fillText("\u25BC",A9D.pixelFromBar(j9D) - I9D,J6D - H9D);}else {G9D.fillText("\u25B2",A9D.pixelFromBar(j9D) - I9D,J6D + H9D);}}}}A9D.endClip();};o9D.Studies.studyLibrary=o9D.extend(o9D.Studies.studyLibrary,{Supertrend:{name:h7g,overlay:!0,seriesFN:o9D.Studies.displaySupertrend,calculateFN:o9D.Studies.calculateSupertrend,inputs:{Period:7,Multiplier:3},outputs:{Uptrend:"#8cc176",Downtrend:"#b82c0c"},attributes:{Multiplier:{min:0.1,step:0.1}}}});}};i0r=U6D=>{var D9O=i3ss;var J4J,l4J,O4J,r6D,q7g,f7g;J4J=1808775972;l4J=- +"423467935";O4J=2;for(var I4J=1;D9O.T0J(I4J.toString(),I4J.toString().length,"51699" | 16848) !== J4J;I4J++){r6D=!_CIQ != ""?_CIQ:U6D.CIQ;D9O.V05(88);O4J+=D9O.c05(2147483647,"2");}if(D9O.B0J(O4J.toString(),O4J.toString().length,26616) !== l4J){r6D=typeof _CIQ !== "undefined"?_CIQ:U6D.CIQ;}if(!r6D.Studies){q7g="swingIndex feature re";q7g+="quires first a";q7g+="ctivating studies feature.";console.error(q7g);}else {f7g="Swing ";f7g+="Index";r6D.Studies.calculateSwingIndex=function(Z6D,d6D){var Z7g,K6D,v6D,z6D,y6D,e6D,S6D,h6D,u6D,p6D,N6D,l6D;Z7g="Limit Mo";Z7g+="ve Valu";Z7g+="e";K6D=d6D.inputs[Z7g];if(K6D === null || isNaN(K6D)){K6D=99999;}v6D=d6D.chart.scrubbed;z6D=+"0";if(d6D.startFrom > +"1"){D9O.j05(128);var m21=D9O.c05(11,18,30);z6D=v6D[d6D.startFrom - m21]["Result " + d6D.name];}for(var O6D=Math.max(1,d6D.startFrom);O6D < v6D.length;O6D++){y6D=Math.abs(v6D[O6D].High - v6D[O6D - 1].Close);e6D=Math.abs(v6D[O6D].Low - v6D[O6D - 1].Close);S6D=Math.abs(v6D[O6D].High - v6D[O6D].Low);h6D=Math.abs(v6D[O6D - 1].Close - v6D[O6D - 1].Open);u6D=Math.max(y6D,e6D);p6D=Math.max(S6D,u6D);D9O.j05(177);N6D=D9O.c05(0,"0.25",h6D,p6D);if(p6D == y6D){D9O.j05(178);N6D-=D9O.N05(0,"0.5",e6D);}else if(p6D == e6D){D9O.V05(22);N6D-=D9O.c05(0.5,y6D);}D9O.V05(137);var J21=D9O.N05(9,17,1,0,27);D9O.j05(65);var l21=D9O.c05(1,19,6,36,12);l6D=+"50" * (v6D[O6D].Close - v6D[O6D - J21].Close + 0.5 * (v6D[O6D].Close - v6D[O6D].Open) + 0.25 * (v6D[O6D - +"1"].Close - v6D[O6D - l21].Open)) / N6D * (u6D / K6D);if(N6D === 0 || K6D === 0){l6D=0;}if(d6D.type == "Swing"){z6D=0;}z6D+=l6D;v6D[O6D]["Result " + d6D.name]=z6D;}};r6D.Studies.studyLibrary=r6D.extend(r6D.Studies.studyLibrary,{"Acc Swing":{name:"Accumulative Swing Index",calculateFN:r6D.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}},Swing:{name:f7g,calculateFN:r6D.Studies.calculateSwingIndex,inputs:{"Limit Move Value":0.5}}});}};W0r=M6D=>{var m6D,s6g,V6g,C6g;m6D=typeof _CIQ !== "undefined"?_CIQ:M6D.CIQ;if(!m6D.Studies){console.error("trendIntensity feature requires first activating studies feature.");}else {s6g="#";s6g+="FF";s6g+="0000";V6g="0 t";V6g+="o";V6g+=" 1";V6g+="00";C6g="Trend Inten";C6g+="sit";C6g+="y Index";m6D.Studies.calculateTrendIntensity=function(X6D,D6D){var e8O=i3ss;var A6g,v7g,H7g,T6D,Y6D,Q6D,E6D,a6D,o6D,C6D,P6D,P6g,c7g;function F6D(c6D,q6D){e8O.Z9O();if(Math.abs(q6D) < 0.00000001){return 100;}e8O.V05(153);return e8O.c05(q6D,c6D,100,100,1);}A6g="Si";A6g+="gnal Period";v7g="Clo";e8O.Z9O();v7g+="s";v7g+="e";H7g="fie";H7g+="ld";T6D=D6D.chart.scrubbed;if(T6D.length < D6D.days + 1){D6D.error=!"";return;}Y6D=D6D.inputs.Field;if(!Y6D || Y6D == H7g){Y6D=v7g;}m6D.Studies.MA("ma",D6D.days,Y6D,0,"_SMA",X6D,D6D);Q6D=0;E6D=0;C6D=[];P6D=Math.ceil(D6D.days / 2);for(a6D=Math.max(0,D6D.startFrom - P6D);a6D < T6D.length;a6D++){P6g="T";P6g+="I";P6g+="I";P6g+=" ";c7g="_SM";c7g+="A ";if(!T6D[a6D]["_SMA " + D6D.name] && T6D[a6D][c7g + D6D.name] !== 0)continue;o6D=T6D[a6D][Y6D] - T6D[a6D]["_SMA " + D6D.name];if(o6D < +"0"){e8O.j05(179);E6D+=e8O.c05(o6D,1);}else {Q6D+=o6D;}C6D.push(o6D);if(C6D.length > P6D){o6D=C6D.shift();if(o6D < 0){e8O.V05(180);E6D-=e8O.c05(o6D,"1",1950496128);}else {Q6D-=o6D;}}if(a6D < D6D.startFrom)continue;T6D[a6D][P6g + D6D.name]=F6D(Q6D,E6D);}m6D.Studies.MA("ema",D6D.inputs[A6g],"TII " + D6D.name,0,"Signal",X6D,D6D);};m6D.Studies.studyLibrary=m6D.extend(m6D.Studies.studyLibrary,{"Trend Int":{name:C6g,calculateFN:m6D.Studies.calculateTrendIntensity,range:V6g,inputs:{Period:+"14",Field:"field","Signal Period":9},outputs:{TII:"auto",Signal:s6g},parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:80,studyOverBoughtColor:"auto",studyOverSoldValue:20,studyOverSoldColor:"auto"}}}});}};r0r=A6D=>{i3ss.H9O();var X6g,B6D;X6g="u";X6g+="n";X6g+="def";X6g+="ined";B6D=typeof _CIQ !== X6g?_CIQ:A6D.CIQ;if(!B6D.Studies){console.error("trix feature requires first activating studies feature.");}else {B6D.Studies.calculateTRIX=function(H6D,G6D){var Y8O=i3ss;var m6g,j6D,b6D,g6D,I6D,n6D,s6D;m6g="_MA1";Y8O.Z9O();m6g+=" ";j6D=G6D.chart.scrubbed;if(j6D.length < G6D.days + 1){G6D.error=!"";return;}b6D=G6D.name;Y8O.j05(2);g6D=["Close",Y8O.N05(b6D,m6g),Y8O.c05(b6D,"_MA2 "),Y8O.N05(b6D,"_MA3 ")];for(var t6D=0;t6D < g6D.length - 1;t6D++){B6D.Studies.MA("exponential",G6D.days,g6D[t6D],0,"_MA" + (t6D + 1).toString(),H6D,G6D);}Y8O.j05(29);I6D=g6D[Y8O.c05(0,"3")];for(var L6D=Math.max(1,G6D.startFrom);L6D < j6D.length;L6D++){Y8O.V05(4);n6D=j6D[Y8O.N05(L6D,1)][I6D];if(!n6D)continue;s6D=j6D[L6D][I6D];if(s6D || s6D === 0){Y8O.V05(2);j6D[L6D][Y8O.N05(b6D,"Result ")]=Y8O.N05(1,100,n6D,s6D,Y8O.j05(154));}}};B6D.Studies.studyLibrary=B6D.extend(B6D.Studies.studyLibrary,{TRIX:{name:"TRIX",calculateFN:B6D.Studies.calculateTRIX}});}};U0r=V6D=>{var J6g,f6D;J6g="un";J6g+="defi";J6g+="n";J6g+="ed";f6D=typeof _CIQ !== J6g?_CIQ:V6D.CIQ;i3ss.H9O();if(!f6D.Studies){console.error("twiggsMoneyFlow feature requires first activating studies feature.");}else {f6D.Studies.calculateTwiggsMoneyFlow=function(U2D,R6D){var f8O=i3ss;var x2D,w2D,k2D,i2D,l6g,O6g,W2D,r2D;x2D=R6D.chart.scrubbed;if(x2D.length < R6D.days){R6D.error=! !1;return;}f8O.Z9O();w2D=+"0";k2D=0;f8O.V05(128);var O21=f8O.N05(4,15,20);i2D=x2D[R6D.startFrom - O21];if(i2D){l6g="_sumMF";l6g+=" ";if(i2D[l6g + R6D.name]){w2D=i2D["_sumMF " + R6D.name];}if(i2D["_sumV " + R6D.name]){k2D=i2D["_sumV " + R6D.name];}}for(var J2D=Math.max(1,R6D.startFrom);J2D < x2D.length;J2D++){O6g="_";O6g+="sumV ";W2D=Math.max(x2D[J2D - 1].Close,x2D[J2D].High);r2D=Math.min(x2D[J2D - 1].Close,x2D[J2D].Low);f8O.V05(4);var Y21=f8O.c05(15,13);f8O.V05(101);var I21=f8O.N05(71429,71422,13);x2D[J2D]["_MFV " + R6D.name]=x2D[J2D].Volume * (Y21 * x2D[J2D].Close - W2D - r2D) / (W2D - r2D === 0?I21:W2D - r2D);if(J2D > R6D.days - 1){w2D*=(R6D.days - +"1") / R6D.days;f8O.V05(43);var N21=f8O.N05(16,381,12,15,10);k2D*=(R6D.days - N21) / R6D.days;}w2D+=x2D[J2D]["_MFV " + R6D.name];k2D+=x2D[J2D].Volume;if(J2D > R6D.days - 1){if(k2D){f8O.j05(20);x2D[J2D]["Result " + R6D.name]=f8O.c05(k2D > 0?k2D:999999,w2D);}}x2D[J2D]["_sumMF " + R6D.name]=w2D;x2D[J2D][O6g + R6D.name]=k2D;}};f6D.Studies.studyLibrary=f6D.extend(f6D.Studies.studyLibrary,{Twiggs:{name:"Twiggs Money Flow",calculateFN:f6D.Studies.calculateTwiggsMoneyFlow,inputs:{Period:21}}});}};v0r=O2D=>{i3ss.Z9O();var v2D,Y6g;v2D=typeof _CIQ !== "undefined"?_CIQ:O2D.CIQ;if(!v2D.Studies){console.error("typicalPrice feature requires first activating studies feature.");}else if(!v2D.Studies.calculateTypicalPrice){console.error("typicalPrice feature requires first activating medianPrice feature.");}else {Y6g="Typic";Y6g+="al Pr";Y6g+="i";Y6g+="ce";v2D.Studies.studyLibrary=v2D.extend(v2D.Studies.studyLibrary,{"Typical Price":{name:Y6g,calculateFN:v2D.Studies.calculateTypicalPrice,inputs:{Period:14}},"Weighted Close":{name:"Weighted Close",calculateFN:v2D.Studies.calculateTypicalPrice,inputs:{Period:14}}});}};O0r=K2D=>{var d2D,I6g,Q6g;i3ss.H9O();d2D=typeof _CIQ !== "undefined"?_CIQ:K2D.CIQ;if(!d2D.Studies){I6g="ulcerIndex feature";I6g+=" requires first activating studies featu";I6g+="re.";console.error(I6g);}else {Q6g="Ulcer";Q6g+=" ";Q6g+="I";Q6g+="ndex";d2D.Studies.calculateUlcerIndex=function(u2D,z2D){var N6g,y2D,e2D,N2D,R6g,p2D;N6g="C";N6g+="los";function l2D(M2D,Z2D,m2D){i3ss.H9O();var h2D;h2D=null;for(var S2D=Z2D - M2D + +"1";S2D <= Z2D;S2D++){if(S2D < 0)continue;h2D=h2D === null?y2D[S2D][m2D]:Math.max(h2D,y2D[S2D][m2D]);}return h2D;}N6g+="e";y2D=z2D.chart.scrubbed;if(y2D.length < "2" * 1 * z2D.days - 1){z2D.error=!"";return;}i3ss.Z9O();e2D=z2D.inputs.Field;if(!e2D || e2D == "field"){e2D=N6g;}for(N2D=Math.max(z2D.startFrom,z2D.days - 1);N2D < y2D.length;N2D++){y2D[N2D]["_PD2 " + z2D.name]=Math.pow(100 * (y2D[N2D][e2D] / l2D(z2D.days,N2D,e2D) - +"1"),2);}d2D.Studies.MA("simple",z2D.days,"_PD2 " + z2D.name,0,"_MA",u2D,z2D);for(N2D=Math.max(z2D.startFrom,2 * (z2D.days - 1));N2D < y2D.length;N2D++){R6g="Resu";R6g+="lt ";p2D=y2D[N2D]["_MA " + z2D.name];if(p2D || p2D === 0){y2D[N2D][R6g + z2D.name]=Math.sqrt(p2D);}}};d2D.Studies.studyLibrary=d2D.extend(d2D.Studies.studyLibrary,{Ulcer:{name:Q6g,calculateFN:d2D.Studies.calculateUlcerIndex,inputs:{Period:"14" >> 696957088,Field:"field"}}});}};d0r=a2D=>{var T6g,D2D,B6g;T6g="unde";T6g+="fin";T6g+="e";T6g+="d";D2D=typeof _CIQ !== T6g?_CIQ:a2D.CIQ;if(!D2D.Studies){B6g="ultimateOscillator featu";B6g+="re requires first acti";B6g+="vating studies f";B6g+="eature.";console.error(B6g);}else {D2D.Studies.calculateUltimateOscillator=function(s2D,T2D){var V8O=i3ss;var o2D,S4J,W4J,p4J,z6g,Q2D,d6g,U6g,X2D,F2D,q2D,c2D,C2D,P2D,K6g,a6g,n6g,B2D,G2D,j2D,A2D,L2D,b2D,t2D,g2D;o2D=T2D.chart.scrubbed;S4J=-1557549265;W4J=-716092793;p4J=2;for(var F4J=1;V8O.T0J(F4J.toString(),F4J.toString().length,38197) !== S4J;F4J++){z6g="Cy";z6g+="c";z6g+="le 3";Q2D=[T2D.inputs["Cycle 3"],T2D.inputs[z6g],T2D.inputs["Cycle 3"]];p4J+=2;}if(V8O.B0J(p4J.toString(),p4J.toString().length,86485) !== W4J){d6g="Cycl";d6g+="e";d6g+=" 3";U6g="C";U6g+="ycle ";U6g+="2";Q2D=[T2D.inputs["Cycle 1"],T2D.inputs[U6g],T2D.inputs[d6g]];}X2D=Math.max(Q2D[0],Q2D[1],Q2D[+"2"]);if(o2D.length < X2D + 1){T2D.error=! !{};return;}V8O.V05(12);var R21=V8O.N05(19,17,8,11);F2D=Q2D[0] * Q2D[R21];V8O.j05(77);var Q21=V8O.N05(4,20,2,17,7);q2D=Q2D[0] * Q2D[Q21];V8O.j05(2);var T21=V8O.N05(1,0);V8O.j05(11);var B21=V8O.c05(1,15,16);c2D=Q2D[T21] * Q2D[B21];C2D=[0,0,0];V8O.j05(29);P2D=[0,+"0",V8O.N05(0,"0")];if(T2D.startFrom){K6g="_ac";K6g+="c";K6g+="tr ";a6g="_";a6g+="a";a6g+="ccbp";a6g+=" ";if(o2D[T2D.startFrom - 1]["_accbp " + T2D.name]){C2D=o2D[T2D.startFrom - 1][a6g + T2D.name].slice();}if(o2D[T2D.startFrom - 1][K6g + T2D.name]){P2D=o2D[T2D.startFrom - 1]["_acctr " + T2D.name].slice();}}for(var Y2D=Math.max(+"1",T2D.startFrom);Y2D < o2D.length;Y2D++){n6g="_a";n6g+="c";n6g+="c";n6g+="bp ";B2D=Math.min(o2D[Y2D].Low,o2D[Y2D - 1].Close);G2D=o2D[Y2D].Close - B2D;j2D=Math.max(o2D[Y2D].High,o2D[Y2D - ("1" ^ 0)].Close) - B2D;for(var E2D=0;E2D < Q2D.length;E2D++){C2D[E2D]+=G2D;P2D[E2D]+=j2D;if(Y2D > Q2D[E2D]){A2D=Math.min(o2D[Y2D - Q2D[E2D]].Low,o2D[Y2D - Q2D[E2D] - 1].Close);L2D=o2D[Y2D - Q2D[E2D]].Close - A2D;V8O.j05(74);var z21=V8O.c05(10,4,0,13);b2D=Math.max(o2D[Y2D - Q2D[E2D]].High,o2D[Y2D - Q2D[E2D] - z21].Close) - A2D;C2D[E2D]-=L2D;P2D[E2D]-=b2D;}}o2D[Y2D][n6g + T2D.name]=C2D.slice();o2D[Y2D]["_acctr " + T2D.name]=P2D.slice();if(Y2D < X2D)continue;V8O.j05(1);var U21=V8O.c05(13,14);V8O.j05(128);var d21=V8O.N05(7,17,25);V8O.j05(35);var a21=V8O.c05(3,4,4);V8O.j05(3);var K21=V8O.N05(8,6,0);t2D=c2D * C2D[0] / P2D[0] + q2D * C2D[U21] / P2D[d21] + F2D * C2D[a21] / P2D[K21];V8O.V05(28);g2D=V8O.c05(q2D,c2D,F2D);V8O.j05(181);o2D[Y2D]["Result " + T2D.name]=V8O.N05(t2D,"100",g2D);}};D2D.Studies.studyLibrary=D2D.extend(D2D.Studies.studyLibrary,{Ultimate:{name:"Ultimate Oscillator",calculateFN:D2D.Studies.calculateUltimateOscillator,inputs:{"Cycle 1":7,"Cycle 2":14,"Cycle 3":"28" >> 776768032},parameters:{init:{studyOverZonesEnabled:!"",studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:"auto"}}}});}};K0r=n2D=>{var I2D,o6g,F6g,L6g,p6g,W6g;I2D=typeof _CIQ !== "undefined"?_CIQ:n2D.CIQ;if(!I2D.Studies){o6g="valuationLines feature requires first";o6g+=" activating studies feature.";console.error(o6g);}else {F6g="#";F6g+="f";F6g+="ff";F6g+="69e";L6g="#";L6g+="85c99";L6g+="e";p6g="m";p6g+="e";p6g+="a";p6g+="n";W6g="Valuation";W6g+=" ";W6g+="Li";W6g+="nes";I2D.Studies.calculateValuationLines=function(k7D,H2D,i7D){var E8O=i3ss;var G6g,b6g,O7D,z7D,d7D,W7D,r7D,U7D,v7D,f2D,V2D,R2D,x7D,w7D,K7D;G6g="A";G6g+="ve";G6g+="rage Type";b6g="fi";b6g+="e";b6g+="ld";E8O.Z9O();O7D=H2D.inputs.Field == b6g?"Close":H2D.inputs.Field;z7D=H2D.inputs[G6g];d7D=H2D.inputs["Display Average"];W7D=H2D.inputs["Display 1 Standard Deviation (1\u03C3)"];r7D=H2D.inputs["Display 2 Standard Deviation (2\u03C3)"];U7D=H2D.inputs["Display 3 Standard Deviation (3\u03C3)"];v7D=[];for(var J7D=0;J7D < i7D.length;++J7D){if(i7D[J7D] && !isNaN(i7D[J7D][O7D])){v7D.push(i7D[J7D][O7D]);}}f2D=(function(u7D,h7D){var D6g,N7D,e7D,p7D,y7D,l7D,S7D;E8O.H9O();D6g="ha";D6g+="rmo";D6g+="n";D6g+="ic";N7D=u7D.length;e7D=0;p7D=0;y7D=0;switch(h7D){case "mean":p7D=N7D;for(;y7D < N7D;++y7D){e7D+=u7D[y7D];}break;case D6g:e7D=N7D;for(;y7D < N7D;++y7D){E8O.j05(54);var n21=E8O.c05(1383566213,4,10,106428169);p7D+=("1" >> n21) / u7D[y7D];}break;case "median":E8O.j05(20);l7D=Math.floor(E8O.N05(2,N7D));S7D=u7D.slice().sort(function(Z7D,m7D){if(Z7D > m7D){return 1;}E8O.Z9O();if(Z7D < m7D){return -1;}return 0;});if(N7D % 2 === +"0"){E8O.V05(14);var o21=E8O.c05(19,2,4,19);e7D=S7D[l7D] + S7D[l7D - o21];p7D=+"2";}else {e7D=S7D[l7D];p7D=1;}break;}E8O.j05(20);return E8O.c05(p7D,e7D);})(v7D,z7D);V2D=!(W7D || r7D || U7D) || (function(o7D,T7D){var D7D,a7D;D7D=o7D.length;a7D=0;for(var M7D="0" | 0;M7D < D7D;++M7D){a7D+=Math.pow(o7D[M7D] - T7D,2);}E8O.V05(20);return Math.sqrt(E8O.N05(D7D,a7D));})(v7D,f2D);H2D.data={Average:d7D?[f2D]:null,"1 Standard Deviation (1\u03C3)":W7D?[f2D + V2D,f2D - V2D]:null,"2 Standard Deviation (2\u03C3)":r7D?[f2D + V2D * 2,f2D - V2D * 2]:null,"3 Standard Deviation (3\u03C3)":U7D?[f2D + V2D * 3,f2D - V2D * 3]:null};R2D=V2D;if(!H2D.parameters){H2D.parameters={};}if(U7D){E8O.j05(182);H2D.parameters.range=[E8O.c05(V2D,3,f2D,R2D),E8O.c05(V2D,f2D,3,R2D,E8O.j05(183))];}else if(r7D){E8O.V05(182);H2D.parameters.range=[E8O.c05(V2D,2,f2D,R2D),E8O.N05(V2D,f2D,2,R2D,E8O.V05(183))];}else if(W7D){E8O.V05(39);H2D.parameters.range=[E8O.N05(f2D,R2D,V2D),E8O.c05(V2D,f2D,R2D,E8O.j05(28))];}else if(d7D){E8O.V05(4);H2D.parameters.range=[E8O.c05(f2D,R2D),E8O.c05(R2D,f2D,E8O.j05(2))];}if(H2D.panel){x7D=k7D.panels[H2D.panel];w7D=k7D.getYAxisByName(x7D,H2D.name);if(w7D){w7D.decimalPlaces=x7D.chart.yAxis.printDecimalPlaces;K7D={yAxis:w7D};k7D.calculateYAxisRange(x7D,w7D,H2D.parameters.range[+"0"],H2D.parameters.range[1]);k7D.createYAxis(x7D,K7D);k7D.drawYAxis(x7D,K7D);}}};I2D.Studies.displayValuationLines=function(Q7D,C7D){var b8O=i3ss;var u6g,Y7D,P7D,F7D,B7D,H7D,f7D,V7D,q7D,c7D,A7D,L7D,b7D,t7D,g7D,G7D,j7D,E7D,s7D,R7D,I7D,S6g,e6g,E6g,x6g,i6g,n7D;u6g="A";u6g+="V";u6g+="G";Y7D=Q7D.panels[C7D.panel];P7D=C7D.getYAxis(Q7D);F7D=C7D.getContext(Q7D);B7D=C7D.data;H7D=C7D.parameters.labels;f7D=C7D.inputs["Average Type"];V7D={mean:u6g,median:"MED",harmonic:"HAVG"};q7D=Q7D.canvasStyle("ciq-valuation-average-line");c7D=Q7D.canvasStyle("ciq-valuation-deviation-line");A7D=3;b8O.j05(35);var b21=b8O.c05(9,7,1);L7D=Q7D.getCanvasFontSize("stx_yaxis") + A7D * b21;for(var X7D in B7D){if(!B7D[X7D])continue;b8O.j05(184);b7D=b8O.N05(X7D,"Average");t7D=I2D.Studies.determineColor(C7D.outputs[X7D]);g7D=B7D[X7D];for(G7D=0;G7D < g7D.length;++G7D){S6g="l";S6g+="ef";S6g+="t";e6g="\u03C3:";e6g+=" ";E6g="d";E6g+="as";E6g+="he";E6g+="d";x6g="n";x6g+="o";x6g+="n";x6g+="e";i6g="no";i6g+="ne";j7D=g7D[G7D];E7D=Q7D.pixelFromPrice(j7D,Y7D,P7D);if(E7D <= Y7D.top || E7D >= Y7D.yAxis.bottom)continue;I7D=b7D?{pattern:q7D.borderStyle != i6g?q7D.borderStyle || "solid":"solid",lineWidth:parseFloat(q7D.borderWidth) || 1,opacity:parseFloat(q7D.opacity) || +"1",yAxis:P7D}:{pattern:c7D.borderStyle != x6g?c7D.borderStyle || E6g:"dashed",lineWidth:parseFloat(c7D.borderWidth) || +"1",opacity:parseFloat(c7D.opacity) || 1,yAxis:P7D};Q7D.plotLine(Y7D.left,Y7D.right,E7D,E7D,t7D,"line",F7D,Y7D,I7D);if(H7D === "yaxis"){Q7D.createYAxisLabel(Y7D,Q7D.formatYAxisPrice(j7D,Y7D),E7D,t7D,null,F7D,P7D);continue;}E7D+=Math.floor(I7D.lineWidth / 2);if(E7D + L7D >= Y7D.yAxis.bottom)continue;s7D=(b7D?V7D[f7D] + ": ":X7D[0] + e6g) + Q7D.formatYAxisPrice(j7D,Y7D);R7D=F7D.measureText(s7D).width;n7D=Y7D.right - R7D - A7D;if(P7D && P7D.position == S6g){n7D=Y7D.left + A7D;}b8O.V05(185);F7D.strokeText(s7D,n7D,b8O.c05(L7D,E7D,0.5,2));}}};I2D.Studies.studyLibrary=I2D.extend(I2D.Studies.studyLibrary,{"val lines":{name:W6g,calculateFN:function(){},seriesFN:function(J5D,x5D,k5D){I2D.Studies.calculateValuationLines(J5D,x5D,k5D);i3ss.H9O();I2D.Studies.displayValuationLines(J5D,x5D);},overlay:!"",yAxisFN:function(){},inputs:{Field:"field","Average Type":[p6g,"median","harmonic"],"Display Average":! !{},"Display 1 Standard Deviation (1\u03C3)":![],"Display 2 Standard Deviation (2\u03C3)":![],"Display 3 Standard Deviation (3\u03C3)":![]},outputs:{Average:"#00afed","1 Standard Deviation (1\u03C3)":"#e1e1e1","2 Standard Deviation (2\u03C3)":L6g,"3 Standard Deviation (3\u03C3)":F6g}}});}};z0r=i5D=>{var r6g,w5D,y6g,w6g,k6g;r6g="u";r6g+="ndef";r6g+="ine";r6g+="d";w5D=typeof _CIQ !== r6g?_CIQ:i5D.CIQ;if(!w5D.Studies){y6g="volatilityIndex fea";y6g+="ture requires first activating st";y6g+="udies f";y6g+="eature.";console.error(y6g);}else {w6g="aut";w6g+="o";k6g="0";k6g+=" t";k6g+="o 100";w5D.Studies.calculateRelativeVolatility=function(y5D,W5D){var l8O=i3ss;var t6g,N5D,d5D,r5D,v5D,O5D,g6g,j6g,U5D,z5D;t6g="Smoo";t6g+="thing Peri";t6g+="o";t6g+="d";W5D.days=Number(W5D.inputs[t6g]);l8O.Z9O();N5D=Number(W5D.inputs["STD Period"]);d5D=W5D.chart.scrubbed;if(d5D.length < W5D.days + N5D){W5D.error=!0;return;}r5D=W5D.inputs.Field;if(!r5D || r5D == "field"){r5D="Close";}W5D.std=new w5D.Studies.StudyDescriptor(W5D.name,"sdev",W5D.panel);W5D.std.chart=W5D.chart;W5D.std.days=N5D;W5D.std.startFrom=W5D.startFrom;W5D.std.inputs={Field:r5D,"Standard Deviations":1,Type:"ma"};W5D.std.outputs={_STD:null};w5D.Studies.calculateStandardDeviation(y5D,W5D.std);v5D=0;function e5D(p5D,u5D){var h5J,q5J,Z5J;if(p5D + u5D === 0){return 100;}h5J=+"250231757";q5J=1855079358;Z5J=2;for(var H5J=1;l8O.B0J(H5J.toString(),H5J.toString().length,82663) !== h5J;H5J++){l8O.j05(148);return l8O.c05(100,p5D,p5D,u5D);}if(l8O.T0J(Z5J.toString(),Z5J.toString().length,+"19720") !== q5J){l8O.j05(186);return l8O.N05(389,p5D,p5D,u5D);}}O5D=+"0";if(W5D.startFrom > 1){v5D=d5D[W5D.startFrom - 1]["_avgG " + W5D.name] || 0;O5D=d5D[W5D.startFrom - 1]["_avgL " + W5D.name] || +"0";}for(var K5D=Math.max(W5D.startFrom,W5D.days);K5D < d5D.length;K5D++){g6g="R";g6g+="el";g6g+=" Vol";g6g+=" ";j6g="_";j6g+="STD";j6g+=" ";U5D=d5D[K5D];l8O.V05(4);z5D=d5D[l8O.N05(K5D,1)];if(!U5D[r5D] && U5D[r5D] !== 0)continue;if(!z5D[r5D] && z5D[r5D] !== 0)continue;if(!U5D["_STD " + W5D.name] && U5D[j6g + W5D.name] !== 0)continue;if(U5D[r5D] > z5D[r5D]){l8O.V05(147);var G21=l8O.c05(17,22,17,11);v5D=(v5D * (W5D.days - G21) + U5D["_STD " + W5D.name]) / W5D.days;l8O.V05(69);var D21=l8O.N05(1,6,7,246,19);O5D=O5D * (W5D.days - D21) / W5D.days;}else {l8O.j05(128);var u21=l8O.N05(4,8,13);O5D=(O5D * (W5D.days - u21) + U5D["_STD " + W5D.name]) / W5D.days;l8O.V05(187);var i21=l8O.c05(68,17,20,8,17);v5D=v5D * (W5D.days - i21) / W5D.days;}U5D[g6g + W5D.name]=e5D(v5D,O5D);U5D["_avgG " + W5D.name]=v5D;U5D["_avgL " + W5D.name]=O5D;}W5D.zoneOutput="Rel Vol";};w5D.Studies.calculateHistoricalVolatility=function(o5D,l5D){var y8O=i3ss;var S5D,M5D,D5D,E5D,m5D,h5D,T5D,Y5D,Q5D;S5D=l5D.chart.scrubbed;if(S5D.length < l5D.days + ("1" << 1696449696)){l5D.error=!0;return;}M5D=l5D.inputs.Field;if(!M5D || M5D == "field"){M5D="Close";}function C5D(P5D){var M6g;M6g="mo";M6g+="nt";y8O.Z9O();M6g+="h";if(isNaN(P5D)){P5D=365;}if(o5D.layout.interval == "day"){return P5D;}else if(o5D.layout.interval == "week"){return 52;}else if(o5D.layout.interval == M6g){return 12;}return P5D;}D5D=l5D.inputs["Standard Deviations"];if(D5D < 0){D5D=1;}y8O.V05(4);var x21=y8O.c05(109,9);E5D=x21 * Math.sqrt(C5D(l5D.inputs["Days Per Year"])) * D5D;m5D=[];h5D=0;if(l5D.startFrom > 1){y8O.V05(188);var E21=y8O.c05(6,5,32,5);h5D=S5D[l5D.startFrom - E21]["_state " + l5D.name][0];m5D=S5D[l5D.startFrom - +"1"]["_state " + l5D.name][1].slice();}for(var Z5D=Math.max(1,l5D.startFrom);Z5D < S5D.length;Z5D++){y8O.V05(4);T5D=S5D[y8O.c05(Z5D,1)][M5D];if(T5D){Y5D=Math.log(S5D[Z5D][M5D] / T5D);m5D.push(Y5D);h5D+=Y5D;if(Z5D >= l5D.days){Q5D=0;h5D/=l5D.days;for(var a5D=0;a5D < m5D.length;a5D++){Q5D+=Math.pow(m5D[a5D] - h5D,2);}h5D*=l5D.days;h5D-=m5D.shift();S5D[Z5D]["Result " + l5D.name]=Math.sqrt(Q5D / l5D.days) * E5D;}}S5D[Z5D]["_state " + l5D.name]=[h5D,m5D.slice()];}};w5D.Studies.studyLibrary=w5D.extend(w5D.Studies.studyLibrary,{"Hist Vol":{name:"Historical Volatility",calculateFN:w5D.Studies.calculateHistoricalVolatility,inputs:{Period:10,Field:"field","Days Per Year":[252,365],"Standard Deviations":"1" << 1882874848},attributes:{"Standard Deviations":{min:0.1,step:0.1}}},"Rel Vol":{name:"Relative Volatility",range:k6g,calculateFN:w5D.Studies.calculateRelativeVolatility,inputs:{Field:"field","STD Period":10,"Smoothing Period":14},outputs:{"Rel Vol":"auto"},centerline:50,parameters:{init:{studyOverZonesEnabled:!0,studyOverBoughtValue:70,studyOverBoughtColor:"auto",studyOverSoldValue:30,studyOverSoldColor:w6g}}}});}};N0r=F5D=>{var h6g,X5D,H6g;h6g="undef";i3ss.Z9O();h6g+="ine";h6g+="d";X5D=typeof _CIQ !== h6g?_CIQ:F5D.CIQ;if(!X5D.Studies){console.error("volumeProfile feature requires first activating studies feature.");}else {H6g="#b6";H6g+="4a96";X5D.Studies.displayVolumeProfile=function(B5D,j5D,U4D){var q8O=i3ss;var f6g,Z6g,q6g,G5D,b5D,s5D,H5D,f5D,w4D,c5D,I5D,A5D,v4D,n5D,g5D,q5D,i4D,W4D,J4D,x4D,L5D,O4D,r4D,d4D,k4D;function K4D(M4D,p4D){var l4D,u4D,y4D,N4D,e4D,S4D,h4D,Z4D,m4D;if(!p4D){L5D-=2;}k4D.canvasColor(M4D);q5D.beginPath();l4D=c5D[0][0];u4D=L5D;for(var z4D="1" * 1;z4D < c5D.length;z4D++){if(c5D[z4D][1]){q8O.V05(189);var e21=q8O.c05(0,13,13,18,18);y4D=Math.round(L5D - c5D[z4D][e21] * O4D / I5D) - ("0.5" - 0);N4D=Math.round(k4D.pixelFromTransformedValue(l4D,J4D)) + 0.5;q8O.j05(4);var S21=q8O.N05(10,9);e4D=Math.round(k4D.pixelFromTransformedValue(c5D[z4D][0],J4D)) + "0.5" * S21;if(!p4D){N4D-=0.5;e4D+=0.5;y4D+=0.5;}if(N4D > x4D){N4D=x4D;}if(e4D < x4D){q5D.moveTo(L5D,N4D);q5D.lineTo(L5D,e4D);q5D.lineTo(y4D,e4D);q5D.lineTo(y4D,N4D);if(p4D){if(u4D > y4D || z4D == 1){q5D.lineTo(u4D,N4D);};}else {q5D.lineTo(L5D,N4D);if(f5D){S4D=X5D.condenseInt(c5D[z4D][+"1"]);q8O.j05(4);h4D=q8O.N05(N4D,e4D);if(W4D <= h4D - ("2" << 54732416)){try{Z4D=q5D.measureText(S4D).width;}catch(D4D){Z4D=0;}q5D.textBaseline="top";m4D=q5D.fillStyle;q5D.fillStyle=r4D;q8O.V05(39);q5D.fillText(S4D,q8O.c05(y4D,3,Z4D),q8O.N05(e4D,2,W4D,h4D,2,q8O.V05(190)));q5D.fillStyle=m4D;}}}}u4D=y4D;}else {u4D=L5D;;}q8O.j05(51);l4D=c5D[z4D][q8O.N05("0",0)];}if(!j5D.highlight && B5D.highlightedDraggable){q5D.globalAlpha*=0.3;}q8O.H9O();if(!p4D){q5D.fill();}q5D.strokeStyle=r4D;if(p4D){q5D.stroke();}q5D.closePath();}f6g="stx_volume_profi";q8O.H9O();f6g+="le";Z6g="B";Z6g+="ars ";Z6g+="Color";q6g="colo";q6g+="r";if(!B5D || !B5D.chart.dataSet){return;}G5D=B5D.chart;b5D=j5D.parameters.numberOfBars;s5D=j5D.parameters.widthPercentage;H5D=j5D.parameters.displayBorder;f5D=j5D.parameters.displayVolume;if(!b5D || b5D < 0){b5D=30;}b5D=Math.ceil(b5D);if(!s5D || s5D < 0){s5D=0.25;}if(H5D !== !"1"){H5D=! ![];}if(f5D !== ! !{}){f5D=!{};}w4D=(G5D.highValue - G5D.lowValue) / b5D;if(w4D === 0){return;}c5D=[];for(var V5D=G5D.lowValue;V5D < G5D.highValue + 0.1;V5D+=w4D){c5D.push([V5D,0]);}if(c5D.length < ("2" & 2147483647)){B5D.displayErrorAsWatermark("chart",B5D.translateIf("Not enough data to render the Volume Profile"));return;}I5D=0;for(var R5D=0;R5D < U4D.length;R5D++){A5D=U4D[R5D];if(!A5D)continue;v4D=A5D.Volume;if(j5D.panel == G5D.name && A5D.transform){A5D=A5D.transform;}q8O.j05(4);n5D=c5D[0][q8O.c05("0",0)];q8O.j05(87);g5D=q8O.c05(1298772288,"0");for(var t5D=+"1";t5D < c5D.length;t5D++){g5D=c5D[t5D][0];if(A5D.Low >= n5D && A5D.Low <= g5D || A5D.Low < n5D && A5D.High > g5D || A5D.High >= n5D && A5D.High <= g5D){c5D[t5D][+"1"]+=v4D;if(c5D[t5D][1] > I5D){I5D=c5D[t5D][1];}}n5D=g5D;}}if(I5D === 0){B5D.displayErrorAsWatermark("chart",B5D.translateIf("Not enough data to render the Volume Profile"));return;}B5D.setStyle("stx_volume_profile",q6g,X5D.Studies.determineColor(j5D.outputs[Z6g]));q5D=j5D.getContext(B5D);i4D="stx";i4D+="-float-date";B5D.canvasFont(i4D,q5D);W4D=B5D.getCanvasFontSize(i4D);J4D=G5D.panel;x4D=J4D.yAxis.bottom;L5D=Math.round(G5D.right) - 0.5;O4D=G5D.width * s5D;r4D=B5D.canvasStyle(f6g).borderTopColor;d4D=!X5D.isTransparent(B5D.canvasStyle("stx_volume_profile").borderTopColor) && H5D;k4D=B5D;K4D("stx_volume_profile",!{});if(d4D){K4D("stx_volume_profile",! !"1");}q5D.globalAlpha=1;};X5D.Studies.studyLibrary=X5D.extend(X5D.Studies.studyLibrary,{"vol profile":{name:"Volume Profile",underlay:! !{},seriesFN:X5D.Studies.displayVolumeProfile,calculateFN:null,inputs:{},outputs:{"Bars Color":H6g},customRemoval:!"",parameters:{init:{displayBorder:!"",displayVolume:! !0,numberOfBars:"30" ^ 0,widthPercentage:0.25}},attributes:{yaxisDisplayValue:{hidden:! !{}},panelName:{hidden:! !{}},flippedEnabled:{hidden:!0}}}});}};y0r=o4D=>{var v6g,a4D,J11,m11,X11,s11,V11;v6g="und";v6g+="efi";i3ss.Z9O();v6g+="n";v6g+="ed";a4D=typeof _CIQ !== v6g?_CIQ:o4D.CIQ;if(!a4D.Studies){console.error("volumeStudies feature requires first activating studies feature.");}else {J11="Trade ";J11+="Vol";J11+="um";J11+="e Index";m11="Price V";m11+="ol";m11+="ume Tren";m11+="d";X11="m";X11+="a";s11="m";s11+="a";V11="fi";V11+="e";V11+="l";V11+="d";a4D.Studies.calculateOnBalanceVolume=function(B4D,Q4D){var Q8O=i3ss;var c6g,T4D,E4D,c4D,P4D,X4D,C4D,F4D,q4D;c6g="Cl";c6g+="o";c6g+="se";T4D=Q4D.inputs.Field;if(!T4D || T4D == "field"){T4D=c6g;}E4D=Q4D.inputs["Min Tick Value"];c4D=![];if(!E4D && E4D !== +"0"){c4D=! ![];E4D=0;}P4D=Q4D.chart.scrubbed;X4D=0;for(var Y4D=Q4D.startFrom;Y4D < P4D.length;Y4D++){C4D=P4D[Y4D];if(!Y4D || !C4D[T4D])continue;if(P4D[Y4D - 1][T4D]){Q8O.V05(115);F4D=P4D[Q8O.N05(Y4D,"1",0)];}if(!F4D)continue;if(C4D[T4D] - F4D[T4D] > E4D){X4D=1;}else if(F4D[T4D] - C4D[T4D] > E4D){X4D=-1;}else if(c4D){X4D=0;}q4D=F4D["Result " + Q4D.name];if(!q4D){Q8O.V05(88);q4D=Q8O.c05(2147483647,"0");}q4D+=C4D.Volume * X4D;C4D["Result " + Q4D.name]=q4D;}};a4D.Studies.calculatePriceVolumeTrend=function(t4D,L4D){var A8O=i3ss;var j4D,A4D,K2J,n2J,o2J,b4D;j4D=L4D.inputs.Field;if(!j4D || j4D == "field"){j4D="Close";}A4D=L4D.chart.scrubbed;A8O.j05(22);K2J=-A8O.N05("1819598168",1);n2J=1536635407;o2J=2;for(var G2J=1;A8O.B0J(G2J.toString(),G2J.toString().length,8907) !== K2J;G2J++){b4D=4;A8O.j05(4);o2J+=A8O.N05("2",0);}if(A8O.T0J(o2J.toString(),o2J.toString().length,57961) !== n2J){A8O.V05(88);b4D=A8O.c05(2147483647,"3");}b4D=0;if(L4D.startFrom > 1){A8O.j05(1);var W21=A8O.c05(17,18);b4D=A4D[L4D.startFrom - W21]["Result " + L4D.name];}for(var G4D=Math.max(1,L4D.startFrom);G4D < A4D.length;G4D++){if(!A4D[G4D][j4D])continue;if(!A4D[G4D - 1][j4D])continue;A8O.j05(138);var p21=A8O.c05(6,23,0,4,12);A8O.j05(2);var L21=A8O.N05(1,0);b4D+=A4D[G4D].Volume * (A4D[G4D][j4D] - A4D[G4D - p21][j4D]) / A4D[G4D - L21][j4D];A4D[G4D]["Result " + L4D.name]=b4D;}};a4D.Studies.calculateVolumeIndex=function(x8D,g4D){var a8O=i3ss;var C11,f4D,s4D,V4D,A11,P11,n4D,R4D,H4D,J8D;C11="Moving";C11+=" Ave";C11+="r";C11+="age Type";f4D=g4D.inputs.Field;if(!f4D || f4D == "field"){f4D="Close";}s4D=g4D.chart.scrubbed;if(s4D.length < g4D.days + 1){g4D.error=! !1;return;}V4D=100;if(g4D.startFrom > 1){a8O.j05(34);var F21=a8O.c05(14,5,15,10);V4D=s4D[g4D.startFrom - F21]["Index " + g4D.name];}for(var I4D=Math.max(1,g4D.startFrom);I4D < s4D.length;I4D++){A11="Pos ";A11+="V";A11+="ol";P11="ob";P11+="ject";n4D=s4D[I4D][f4D];R4D=s4D[I4D].Volume;if(n4D && typeof n4D == P11){R4D=n4D.Volume;n4D=n4D[g4D.subField];}a8O.j05(4);H4D=s4D[a8O.N05(I4D,1)][f4D];J8D=s4D[I4D - 1].Volume;if(H4D && typeof H4D == "object"){J8D=H4D.Volume;H4D=H4D[g4D.subField];}if(!n4D)continue;if(!H4D)continue;if(g4D.type == A11 && R4D > J8D || g4D.type == "Neg Vol" && R4D < J8D){a8O.j05(20);V4D*=a8O.N05(H4D,n4D);}s4D[I4D]["Index " + g4D.name]=V4D;}a4D.Studies.MA(g4D.inputs[C11],g4D.days,"Index " + g4D.name,0,"MA",x8D,g4D);};a4D.Studies.studyLibrary=a4D.extend(a4D.Studies.studyLibrary,{"Neg Vol":{name:"Negative Volume Index",calculateFN:a4D.Studies.calculateVolumeIndex,inputs:{Period:+"255",Field:V11,"Moving Average Type":s11},outputs:{Index:"auto",MA:"#FF0000"}},"On Bal Vol":{name:"On Balance Volume",calculateFN:a4D.Studies.calculateOnBalanceVolume,inputs:{}},"Pos Vol":{name:"Positive Volume Index",calculateFN:a4D.Studies.calculateVolumeIndex,inputs:{Period:255,Field:"field","Moving Average Type":X11},outputs:{Index:"auto",MA:"#FF0000"}},"Price Vol":{name:m11,calculateFN:a4D.Studies.calculatePriceVolumeTrend,inputs:{Field:"field"}},"Trade Vol":{name:J11,calculateFN:a4D.Studies.calculateOnBalanceVolume,inputs:{"Min Tick Value":0.5}},"Vol ROC":{name:"Volume Rate of Change",calculateFN:function(k8D,w8D){i3ss.Z9O();var l11;if(a4D.Studies.calculateRateOfChange){a4D.Studies.calculateRateOfChange(k8D,w8D);}else {l11="Vo";l11+="lume Rate of Change study requires firs";l11+="t activating momentum feature.";console.error(l11);a4D.Studies.calculateRateOfChange=function(i8D,W8D){};}},parameters:{init:{isVolume:! ![]}}},"vol undr":{name:"Volume Underlay",underlay:! !1,range:"0 to max",yAxis:{ground:! ![],initialMarginTop:0,position:"none",zoom:0,heightFactor:0.25},seriesFN:a4D.Studies.createVolumeChart,calculateFN:a4D.Studies.calculateVolume,inputs:{},outputs:{"Up Volume":"#8cc176","Down Volume":"#b82c0c"},customRemoval:! !"1",removeFN:function(r8D,U8D){r8D.layout.volumeUnderlay=!{};i3ss.Z9O();r8D.changeOccurred("layout");},attributes:{panelName:{hidden:! !{}}}}});}};e0r=O8D=>{var N8J,T8J,B8J,v8D,Q11,R11;N8J=1836261343;T8J=557820162;B8J=2;for(var n8J=1;i3ss.B0J(n8J.toString(),n8J.toString().length,59886) !== N8J;n8J++){v8D=typeof _CIQ !== "undefined"?_CIQ:O8D.CIQ;B8J+=2;}if(i3ss.T0J(B8J.toString(),B8J.toString().length,10323) !== T8J){v8D=-_CIQ != ""?_CIQ:O8D.CIQ;}i3ss.Z9O();if(!v8D.Studies){console.error("vortex feature requires first activating studies feature.");}else {Q11="0";Q11+=".0";Q11+="1";R11="a";R11+="u";R11+="t";R11+="o";v8D.Studies.calculateVortex=function(h8D,d8D){var r8O=i3ss;var y8D,e8D,K8D,N11,Y11,O11,z8D,p8D,u8D,l8D,S8D,I11;y8D=d8D.chart.scrubbed;e8D=d8D.days;if(y8D.length < e8D + ("1" - 0)){d8D.error=! !"1";return;}K8D={tr:"0" | 0,vmPlus:0,vmMinus:0};if(d8D.startFrom > 1){K8D=v8D.clone(y8D[d8D.startFrom - 1]["_totals " + d8D.name]);}for(var N8D=Math.max(d8D.startFrom,1);N8D < y8D.length;N8D++){N11="_t";N11+="otal";N11+="s";N11+=" ";Y11="_";Y11+="V";Y11+="M";Y11+="Plus ";O11="_True Rang";O11+="e ";z8D=y8D[N8D];r8O.j05(191);p8D=y8D[r8O.c05(2147483647,N8D,"1")];u8D=Math.abs(z8D.High - p8D.Low);l8D=Math.abs(z8D.Low - p8D.High);S8D=Math.max(z8D.High,p8D.Close) - Math.min(z8D.Low,p8D.Close);K8D.tr+=S8D;K8D.vmPlus+=u8D;K8D.vmMinus+=l8D;if(N8D > e8D){r8O.V05(4);K8D.tr-=y8D[r8O.c05(N8D,e8D)]["_True Range " + d8D.name];r8O.j05(4);K8D.vmPlus-=y8D[r8O.N05(N8D,e8D)]["_VMPlus " + d8D.name];r8O.V05(4);K8D.vmMinus-=y8D[r8O.N05(N8D,e8D)]["_VMMinus " + d8D.name];}z8D[O11 + d8D.name]=S8D;z8D[Y11 + d8D.name]=u8D;z8D["_VMMinus " + d8D.name]=l8D;if(N8D >= e8D){I11="+VI";I11+=" ";z8D[I11 + d8D.name]=K8D.vmPlus / K8D.tr;z8D["-VI " + d8D.name]=K8D.vmMinus / K8D.tr;}z8D[N11 + d8D.name]=v8D.clone(K8D);}};v8D.Studies.studyLibrary=v8D.extend(v8D.Studies.studyLibrary,{Vortex:{name:"Vortex Indicator",calculateFN:v8D.Studies.calculateVortex,centerline:1,outputs:{"+VI":"#00FF00","-VI":"#FF0000"},parameters:{init:{studyOverZonesEnabled:! !{},studyOverBoughtValue:1.1,studyOverBoughtColor:R11,studyOverSoldValue:0.9,studyOverSoldColor:"auto"}},attributes:{studyOverBoughtValue:{min:1,step:Q11},studyOverSoldValue:{max:1,step:"0.01"}}}});}};p0r=m8D=>{var h9O=i3ss;var T11,Z8D,T5J,B5J,z5J,B11;T11="un";T11+="define";T11+="d";Z8D=typeof _CIQ !== T11?_CIQ:m8D.CIQ;if(!Z8D.Studies){console.error("williamsMFI feature requires first activating studies feature.");}else {Z8D.Studies.calculateMFI=function(E8D,M8D){var D8D,Y8D,o8D,T8D,Q8D,a8D;D8D=M8D.chart.scrubbed;o8D=0;T8D=M8D.inputs["Scale Factor"];if(!T8D){T8D=M8D.study.inputs["Scale Factor"];}Q8D=Math.pow(10,Number(T8D));h9O.Z9O();if(M8D.startFrom > +"1"){h9O.j05(142);var r21=h9O.N05(475,17,11,17);o8D=D8D[M8D.startFrom - r21]["_high " + M8D.name];}for(a8D=M8D.startFrom;a8D < D8D.length;a8D++){if(!D8D[a8D])continue;if(D8D[a8D].Volume){D8D[a8D][M8D.name + "_hist"]=Y8D=Q8D * (D8D[a8D].High - D8D[a8D].Low) / D8D[a8D].Volume;D8D[a8D]["_high " + M8D.name]=o8D=Math.max(o8D,Y8D);}}M8D.outputMap={};M8D.outputMap[M8D.name + "_hist"]="";};Z8D.Studies.displayMFI=function(P8D,C8D,G8D){var j8D,q8D,A8D,L8D,B8D,b8D,t8D,g8D,s8D,X8D,F8D;j8D=P8D.panels[C8D.panel];q8D=C8D.getContext(P8D);A8D=C8D.getYAxis(P8D);h9O.Z9O();L8D=A8D.flipped?A8D.top:A8D.bottom;h9O.V05(2);var y21=h9O.c05(2,0);B8D=P8D.layout.candleWidth - y21;if(B8D < 2){h9O.V05(51);B8D=h9O.N05("1",0);}b8D=Z8D.Studies.determineColor(C8D.outputs.Green);t8D=Z8D.Studies.determineColor(C8D.outputs.Fade);g8D=Z8D.Studies.determineColor(C8D.outputs.Fake);s8D=Z8D.Studies.determineColor(C8D.outputs.Squat);P8D.canvasColor("stx_histogram");if(!C8D.underlay){q8D.globalAlpha=1;}q8D.fillStyle="#CCCCCC";P8D.startClip(C8D.panel);if(!C8D.highlight && P8D.highlightedDraggable){q8D.globalAlpha*=0.3;}for(var c8D=0;c8D < G8D.length;c8D++){X8D=G8D[c8D];h9O.j05(4);F8D=G8D[h9O.N05(c8D,1)];if(!F8D){F8D=P8D.getPreviousBar(P8D.chart,C8D.name + "_hist",c8D);}if(!X8D)continue;if(!F8D);else if(F8D[C8D.name + "_hist"] < X8D[C8D.name + "_hist"]){if(F8D.Volume < X8D.Volume){q8D.fillStyle=b8D;}else if(F8D.Volume > X8D.Volume){q8D.fillStyle=g8D;}}else if(F8D[C8D.name + "_hist"] > X8D[C8D.name + "_hist"]){if(F8D.Volume < X8D.Volume){q8D.fillStyle=s8D;}else if(F8D.Volume > X8D.Volume){q8D.fillStyle=t8D;}}if(X8D.candleWidth){B8D=Math.floor(Math.max(1,X8D.candleWidth - 2));}q8D.fillRect(Math.floor(P8D.pixelFromBar(c8D,j8D.chart) - B8D / 2),Math.floor(L8D),Math.floor(B8D),Math.floor(P8D.pixelFromPrice(X8D[C8D.name + "_hist"],j8D,A8D) - L8D));}P8D.endClip();};T5J=+"866575807";B5J=+"1342993164";h9O.j05(4);z5J=h9O.c05("2",0);for(var d5J=1;h9O.B0J(d5J.toString(),d5J.toString().length,94906) !== T5J;d5J++){B11="W";B11+=" ";B11+="M";B11+="FI";Z8D.Studies.studyLibrary=Z8D.extend(Z8D.Studies.studyLibrary,{"W MFI":{name:"#ffd0cf",seriesFN:Z8D.Studies.displayMFI,calculateFN:Z8D.Studies.calculateMFI,yAxis:{ground:! !""},range:"0 to max",inputs:{"Scale Factor":4},outputs:{Green:"Scale Factor",Fade:B11,Fake:"0 to max",Squat:"#ffd0cf"}}});z5J+=2;}if(h9O.B0J(z5J.toString(),z5J.toString().length,"29158" | 12418) !== B5J){Z8D.Studies.studyLibrary=Z8D.extend(Z8D.Studies.studyLibrary,{"W MFI":{name:"Market Facilitation Index",seriesFN:Z8D.Studies.displayMFI,calculateFN:Z8D.Studies.calculateMFI,yAxis:{ground:!""},range:"0 to max",inputs:{"Scale Factor":6},outputs:{Green:"#8bc176",Fade:"#ab611f",Fake:"#5f7cb8",Squat:"#ffd0cf"}}});}}};Z0r={CIQ:J1r,SplinePlotter:u0r,timezoneJS:l0r,$$:S0r,$$$:h0r};export {x1r as aggregations};export {k1r as drawingAdvanced};export {w1r as equationsAdvanced};export {i1r as highPerformanceMarkers};export {W1r as renderersAdvanced};export {r1r as accumulationDistribution};export {U1r as adx};export {v1r as alligator};export {O1r as aroon};export {d1r as atr};export {K1r as awesomeOscillator};export {z1r as balanceOfPower};export {N1r as bollinger};export {y1r as cci};export {e1r as centerOfGravity};export {p1r as chaikin};export {u1r as chande};export {l1r as choppiness};export {S1r as comparisonStudies};export {h1r as coppock};export {Z1r as darvasBox};export {m1r as detrended};export {M1r as disparity};export {D1r as easeOfMovement};export {a1r as ehlerFisher};export {o1r as elder};export {T1r as fractalChaos};export {Y1r as highLowStudies};export {Q1r as ichimoku};export {E1r as intradayMomentum};export {C1r as keltner};export {P1r as klinger};export {X1r as linearRegression};export {F1r as macd};export {q1r as massIndex};export {c1r as moneyFlow};export {B1r as movingAverages};export {A1r as parabolicSAR};export {G1r as pivotPoints};export {j1r as prettyGoodOscillator};export {L1r as priceMomentumOscillator};export {b1r as priceVolumeOscillator};export {t1r as primeNumber};export {g1r as pring};export {s1r as projectedVolume};export {I1r as psychologicalLine};export {n1r as qstick};export {H1r as rainbow};export {f1r as randomWalk};export {V1r as relativeVigor};export {R1r as rsi};export {J0r as schaffTrendCycle};export {x0r as shinohara};export {k0r as stochastics};export {w0r as supertrend};export {i0r as swingIndex};export {W0r as trendIntensity};export {r0r as trix};export {U0r as twiggsMoneyFlow};export {v0r as typicalPrice};export {O0r as ulcerIndex};export {d0r as ultimateOscillator};export {K0r as valuationLines};export {z0r as volatilityIndex};export {N0r as volumeProfile};export {y0r as volumeStudies};export {e0r as vortex};export {p0r as williamsMFI};export {J1r as CIQ, u0r as SplinePlotter, l0r as timezoneJS, S0r as $$, h0r as $$$};if(typeof __TREE_SHAKE__ === "undefined" || !__TREE_SHAKE__){(Z0r.CIQ || J1r).activateImports(x1r,k1r,w1r,i1r,W1r,r1r,U1r,v1r,O1r,d1r,K1r,z1r,N1r,y1r,e1r,p1r,u1r,l1r,S1r,h1r,Z1r,m1r,M1r,D1r,a1r,o1r,T1r,Y1r,Q1r,E1r,C1r,P1r,X1r,F1r,q1r,c1r,B1r,A1r,G1r,j1r,L1r,b1r,t1r,g1r,s1r,I1r,n1r,H1r,f1r,V1r,R1r,J0r,x0r,k0r,w0r,i0r,W0r,r0r,U0r,v0r,O0r,d0r,K0r,z0r,N0r,y0r,e0r,p0r,null);}/* eslint-enable  */ /* jshint ignore:end   */ /* ignore jslint end   */
